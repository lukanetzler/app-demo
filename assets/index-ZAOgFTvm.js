var t_=t=>{throw TypeError(t)};var Nh=(t,e,r)=>e.has(t)||t_("Cannot "+r);var O=(t,e,r)=>(Nh(t,e,"read from private field"),r?r.call(t):e.get(t)),re=(t,e,r)=>e.has(t)?t_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),G=(t,e,r,n)=>(Nh(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),ce=(t,e,r)=>(Nh(t,e,"access private method"),r);var ru=(t,e,r,n)=>({set _(i){G(t,e,i,r)},get _(){return O(t,e,n)}});function qk(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Mx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ox={exports:{}},uf={},Lx={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=Symbol.for("react.element"),Kk=Symbol.for("react.portal"),Gk=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),Yk=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),Zk=Symbol.for("react.forward_ref"),eN=Symbol.for("react.suspense"),tN=Symbol.for("react.memo"),rN=Symbol.for("react.lazy"),r_=Symbol.iterator;function nN(t){return t===null||typeof t!="object"?null:(t=r_&&t[r_]||t["@@iterator"],typeof t=="function"?t:null)}var Vx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jx=Object.assign,Fx={};function ma(t,e,r){this.props=t,this.context=e,this.refs=Fx,this.updater=r||Vx}ma.prototype.isReactComponent={};ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ux(){}Ux.prototype=ma.prototype;function Rg(t,e,r){this.props=t,this.context=e,this.refs=Fx,this.updater=r||Vx}var Pg=Rg.prototype=new Ux;Pg.constructor=Rg;jx(Pg,ma.prototype);Pg.isPureReactComponent=!0;var n_=Array.isArray,$x=Object.prototype.hasOwnProperty,kg={current:null},zx={key:!0,ref:!0,__self:!0,__source:!0};function Bx(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$x.call(e,n)&&!zx.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ec,type:t,key:s,ref:o,props:i,_owner:kg.current}}function iN(t,e){return{$$typeof:Ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ng(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ec}function sN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var i_=/\/+/g;function Dh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sN(""+t.key):e.toString(36)}function Vu(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ec:case Kk:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Dh(o,0):n,n_(i)?(r="",t!=null&&(r=t.replace(i_,"$&/")+"/"),Vu(i,e,r,"",function(u){return u})):i!=null&&(Ng(i)&&(i=iN(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",n_(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+Dh(s,a);o+=Vu(s,e,r,c,i)}else if(c=nN(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+Dh(s,a++),o+=Vu(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nu(t,e,r){if(t==null)return t;var n=[],i=0;return Vu(t,n,"","",function(s){return e.call(r,s,i++)}),n}function oN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},ju={transition:null},aN={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:ju,ReactCurrentOwner:kg};function Hx(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:nu,forEach:function(t,e,r){nu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return nu(t,function(){e++}),e},toArray:function(t){return nu(t,function(e){return e})||[]},only:function(t){if(!Ng(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Component=ma;ue.Fragment=Gk;ue.Profiler=Yk;ue.PureComponent=Rg;ue.StrictMode=Qk;ue.Suspense=eN;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aN;ue.act=Hx;ue.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jx({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)$x.call(e,c)&&!zx.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ec,type:t.type,key:i,ref:s,props:n,_owner:o}};ue.createContext=function(t){return t={$$typeof:Jk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xk,_context:t},t.Consumer=t};ue.createElement=Bx;ue.createFactory=function(t){var e=Bx.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:Zk,render:t}};ue.isValidElement=Ng;ue.lazy=function(t){return{$$typeof:rN,_payload:{_status:-1,_result:t},_init:oN}};ue.memo=function(t,e){return{$$typeof:tN,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};ue.unstable_act=Hx;ue.useCallback=function(t,e){return Vt.current.useCallback(t,e)};ue.useContext=function(t){return Vt.current.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};ue.useEffect=function(t,e){return Vt.current.useEffect(t,e)};ue.useId=function(){return Vt.current.useId()};ue.useImperativeHandle=function(t,e,r){return Vt.current.useImperativeHandle(t,e,r)};ue.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Vt.current.useMemo(t,e)};ue.useReducer=function(t,e,r){return Vt.current.useReducer(t,e,r)};ue.useRef=function(t){return Vt.current.useRef(t)};ue.useState=function(t){return Vt.current.useState(t)};ue.useSyncExternalStore=function(t,e,r){return Vt.current.useSyncExternalStore(t,e,r)};ue.useTransition=function(){return Vt.current.useTransition()};ue.version="18.3.1";Lx.exports=ue;var _=Lx.exports;const ii=Mx(_),Wx=qk({__proto__:null,default:ii},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lN=_,cN=Symbol.for("react.element"),uN=Symbol.for("react.fragment"),dN=Object.prototype.hasOwnProperty,fN=lN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hN={key:!0,ref:!0,__self:!0,__source:!0};function qx(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)dN.call(e,n)&&!hN.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:cN,type:t,key:s,ref:o,props:i,_owner:fN.current}}uf.Fragment=uN;uf.jsx=qx;uf.jsxs=qx;Ox.exports=uf;var f=Ox.exports,Kx={exports:{}},sr={},Gx={exports:{}},Qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,H){var J=F.length;F.push(H);e:for(;0<J;){var oe=J-1>>>1,Te=F[oe];if(0<i(Te,H))F[oe]=H,F[J]=Te,J=oe;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var H=F[0],J=F.pop();if(J!==H){F[0]=J;e:for(var oe=0,Te=F.length,vt=Te>>>1;oe<vt;){var Ze=2*(oe+1)-1,wr=F[Ze],Rt=Ze+1,Gt=F[Rt];if(0>i(wr,J))Rt<Te&&0>i(Gt,wr)?(F[oe]=Gt,F[Rt]=J,oe=Rt):(F[oe]=wr,F[Ze]=J,oe=Ze);else if(Rt<Te&&0>i(Gt,J))F[oe]=Gt,F[Rt]=J,oe=Rt;else break e}}return H}function i(F,H){var J=F.sortIndex-H.sortIndex;return J!==0?J:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,h=null,m=3,y=!1,I=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=F)n(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function P(F){if(v=!1,b(F),!I)if(r(c)!==null)I=!0,K(L);else{var H=r(u);H!==null&&te(P,H.startTime-F)}}function L(F,H){I=!1,v&&(v=!1,w(A),A=-1),y=!0;var J=m;try{for(b(H),h=r(c);h!==null&&(!(h.expirationTime>H)||F&&!N());){var oe=h.callback;if(typeof oe=="function"){h.callback=null,m=h.priorityLevel;var Te=oe(h.expirationTime<=H);H=t.unstable_now(),typeof Te=="function"?h.callback=Te:h===r(c)&&n(c),b(H)}else n(c);h=r(c)}if(h!==null)var vt=!0;else{var Ze=r(u);Ze!==null&&te(P,Ze.startTime-H),vt=!1}return vt}finally{h=null,m=J,y=!1}}var M=!1,T=null,A=-1,S=5,R=-1;function N(){return!(t.unstable_now()-R<S)}function D(){if(T!==null){var F=t.unstable_now();R=F;var H=!0;try{H=T(!0,F)}finally{H?k():(M=!1,T=null)}}else M=!1}var k;if(typeof E=="function")k=function(){E(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=D,k=function(){X.postMessage(null)}}else k=function(){x(D,0)};function K(F){T=F,M||(M=!0,k())}function te(F,H){A=x(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){I||y||(I=!0,K(L))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var J=m;m=H;try{return F()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var J=m;m=F;try{return H()}finally{m=J}},t.unstable_scheduleCallback=function(F,H,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,F){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=J+Te,F={id:d++,callback:H,priorityLevel:F,startTime:J,expirationTime:Te,sortIndex:-1},J>oe?(F.sortIndex=J,e(u,F),r(c)===null&&F===r(u)&&(v?(w(A),A=-1):v=!0,te(P,J-oe))):(F.sortIndex=Te,e(c,F),I||y||(I=!0,K(L))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var H=m;return function(){var J=m;m=H;try{return F.apply(this,arguments)}finally{m=J}}}})(Qx);Gx.exports=Qx;var pN=Gx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN=_,ir=pN;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Yx=new Set,Vl={};function Bs(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(Vl[t]=e,t=0;t<e.length;t++)Yx.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,gN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s_={},o_={};function yN(t){return Op.call(o_,t)?!0:Op.call(s_,t)?!1:gN.test(t)?o_[t]=!0:(s_[t]=!0,!1)}function vN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _N(t,e,r,n){if(e===null||typeof e>"u"||vN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jt(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new jt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new jt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new jt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new jt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new jt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new jt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new jt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new jt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new jt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dg=/[\-:]([a-z])/g;function Mg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dg,Mg);mt[e]=new jt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dg,Mg);mt[e]=new jt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dg,Mg);mt[e]=new jt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new jt(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new jt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Og(t,e,r,n){var i=mt.hasOwnProperty(e)?mt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_N(e,r,i,n)&&(r=null),n||i===null?yN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Hn=mN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Lg=Symbol.for("react.strict_mode"),Lp=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Vg=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Zx=Symbol.for("react.offscreen"),a_=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=a_&&t[a_]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,Mh;function cl(t){if(Mh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Mh=e&&e[1]||""}return`
`+Mh+t}var Oh=!1;function Lh(t,e){if(!t||Oh)return"";Oh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Oh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cl(t):""}function wN(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=Lh(t.type,!1),t;case 11:return t=Lh(t.type.render,!1),t;case 1:return t=Lh(t.type,!0),t;default:return""}}function Fp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uo:return"Fragment";case co:return"Portal";case Lp:return"Profiler";case Lg:return"StrictMode";case Vp:return"Suspense";case jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jx:return(t.displayName||"Context")+".Consumer";case Xx:return(t._context.displayName||"Context")+".Provider";case Vg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jg:return e=t.displayName||null,e!==null?e:Fp(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return Fp(t(e))}catch{}}return null}function EN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fp(e);case 8:return e===Lg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xN(t){var e=eb(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function su(t){t._valueTracker||(t._valueTracker=xN(t))}function tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=eb(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function fd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Up(t,e){var r=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function l_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Li(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rb(t,e){e=e.checked,e!=null&&Og(t,"checked",e,!1)}function $p(t,e){rb(t,e);var r=Li(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,r):e.hasOwnProperty("defaultValue")&&zp(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zp(t,e,r){(e!=="number"||fd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ul=Array.isArray;function xo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Li(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Bp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function u_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(B(92));if(ul(r)){if(1<r.length)throw Error(B(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Li(r)}}function nb(t,e){var r=Li(e.value),n=Li(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function d_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ib(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ib(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ou,sb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ou=ou||document.createElement("div"),ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bN=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){bN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function ob(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function ab(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ob(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var TN=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(TN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Fg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gp=null,bo=null,To=null;function f_(t){if(t=Tc(t)){if(typeof Gp!="function")throw Error(B(280));var e=t.stateNode;e&&(e=mf(e),Gp(t.stateNode,t.type,e))}}function lb(t){bo?To?To.push(t):To=[t]:bo=t}function cb(){if(bo){var t=bo,e=To;if(To=bo=null,f_(t),e)for(t=0;t<e.length;t++)f_(e[t])}}function ub(t,e){return t(e)}function db(){}var Vh=!1;function fb(t,e,r){if(Vh)return t(e,r);Vh=!0;try{return ub(t,e,r)}finally{Vh=!1,(bo!==null||To!==null)&&(db(),cb())}}function Fl(t,e){var r=t.stateNode;if(r===null)return null;var n=mf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(B(231,e,typeof r));return r}var Qp=!1;if(Dn)try{var Za={};Object.defineProperty(Za,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Za,Za),window.removeEventListener("test",Za,Za)}catch{Qp=!1}function AN(t,e,r,n,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var El=!1,hd=null,pd=!1,Yp=null,SN={onError:function(t){El=!0,hd=t}};function IN(t,e,r,n,i,s,o,a,c){El=!1,hd=null,AN.apply(SN,arguments)}function CN(t,e,r,n,i,s,o,a,c){if(IN.apply(this,arguments),El){if(El){var u=hd;El=!1,hd=null}else throw Error(B(198));pd||(pd=!0,Yp=u)}}function Hs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function hb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h_(t){if(Hs(t)!==t)throw Error(B(188))}function RN(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(B(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return h_(i),t;if(s===n)return h_(i),e;s=s.sibling}throw Error(B(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?t:e}function pb(t){return t=RN(t),t!==null?mb(t):null}function mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mb(t);if(e!==null)return e;t=t.sibling}return null}var gb=ir.unstable_scheduleCallback,p_=ir.unstable_cancelCallback,PN=ir.unstable_shouldYield,kN=ir.unstable_requestPaint,Ke=ir.unstable_now,NN=ir.unstable_getCurrentPriorityLevel,Ug=ir.unstable_ImmediatePriority,yb=ir.unstable_UserBlockingPriority,md=ir.unstable_NormalPriority,DN=ir.unstable_LowPriority,vb=ir.unstable_IdlePriority,df=null,Jr=null;function MN(t){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(df,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:VN,ON=Math.log,LN=Math.LN2;function VN(t){return t>>>=0,t===0?32:31-(ON(t)/LN|0)|0}var au=64,lu=4194304;function dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function gd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=dl(a):(s&=o,s!==0&&(n=dl(s)))}else o=r&~i,o!==0?n=dl(o):s!==0&&(n=dl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Cr(e),i=1<<r,n|=t[r],e&=~i;return n}function jN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Cr(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=jN(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Xp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _b(){var t=au;return au<<=1,!(au&4194240)&&(au=64),t}function jh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=r}function UN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Cr(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function $g(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Cr(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Se=0;function wb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Eb,zg,xb,bb,Tb,Jp=!1,cu=[],bi=null,Ti=null,Ai=null,Ul=new Map,$l=new Map,ci=[],$N="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m_(t,e){switch(t){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function el(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Tc(e),e!==null&&zg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zN(t,e,r,n,i){switch(e){case"focusin":return bi=el(bi,t,e,r,n,i),!0;case"dragenter":return Ti=el(Ti,t,e,r,n,i),!0;case"mouseover":return Ai=el(Ai,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ul.set(s,el(Ul.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,el($l.get(s)||null,t,e,r,n,i)),!0}return!1}function Ab(t){var e=fs(t.target);if(e!==null){var r=Hs(e);if(r!==null){if(e=r.tag,e===13){if(e=hb(r),e!==null){t.blockedOn=e,Tb(t.priority,function(){xb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Zp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Kp=n,r.target.dispatchEvent(n),Kp=null}else return e=Tc(r),e!==null&&zg(e),t.blockedOn=r,!1;e.shift()}return!0}function g_(t,e,r){Fu(t)&&r.delete(e)}function BN(){Jp=!1,bi!==null&&Fu(bi)&&(bi=null),Ti!==null&&Fu(Ti)&&(Ti=null),Ai!==null&&Fu(Ai)&&(Ai=null),Ul.forEach(g_),$l.forEach(g_)}function tl(t,e){t.blockedOn===e&&(t.blockedOn=null,Jp||(Jp=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,BN)))}function zl(t){function e(i){return tl(i,t)}if(0<cu.length){tl(cu[0],t);for(var r=1;r<cu.length;r++){var n=cu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(bi!==null&&tl(bi,t),Ti!==null&&tl(Ti,t),Ai!==null&&tl(Ai,t),Ul.forEach(e),$l.forEach(e),r=0;r<ci.length;r++)n=ci[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ci.length&&(r=ci[0],r.blockedOn===null);)Ab(r),r.blockedOn===null&&ci.shift()}var Ao=Hn.ReactCurrentBatchConfig,yd=!0;function HN(t,e,r,n){var i=Se,s=Ao.transition;Ao.transition=null;try{Se=1,Bg(t,e,r,n)}finally{Se=i,Ao.transition=s}}function WN(t,e,r,n){var i=Se,s=Ao.transition;Ao.transition=null;try{Se=4,Bg(t,e,r,n)}finally{Se=i,Ao.transition=s}}function Bg(t,e,r,n){if(yd){var i=Zp(t,e,r,n);if(i===null)Gh(t,e,n,vd,r),m_(t,n);else if(zN(i,t,e,r,n))n.stopPropagation();else if(m_(t,n),e&4&&-1<$N.indexOf(t)){for(;i!==null;){var s=Tc(i);if(s!==null&&Eb(s),s=Zp(t,e,r,n),s===null&&Gh(t,e,n,vd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Gh(t,e,n,null,r)}}var vd=null;function Zp(t,e,r,n){if(vd=null,t=Fg(n),t=fs(t),t!==null)if(e=Hs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=hb(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function Sb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NN()){case Ug:return 1;case yb:return 4;case md:case DN:return 16;case vb:return 536870912;default:return 16}default:return 16}}var wi=null,Hg=null,Uu=null;function Ib(){if(Uu)return Uu;var t,e=Hg,r=e.length,n,i="value"in wi?wi.value:wi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Uu=i.slice(t,1<n?1-n:void 0)}function $u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uu(){return!0}function y_(){return!1}function or(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uu:y_,this.isPropagationStopped=y_,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=uu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=uu)},persist:function(){},isPersistent:uu}),e}var ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wg=or(ga),bc=je({},ga,{view:0,detail:0}),qN=or(bc),Fh,Uh,rl,ff=je({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rl&&(rl&&t.type==="mousemove"?(Fh=t.screenX-rl.screenX,Uh=t.screenY-rl.screenY):Uh=Fh=0,rl=t),Fh)},movementY:function(t){return"movementY"in t?t.movementY:Uh}}),v_=or(ff),KN=je({},ff,{dataTransfer:0}),GN=or(KN),QN=je({},bc,{relatedTarget:0}),$h=or(QN),YN=je({},ga,{animationName:0,elapsedTime:0,pseudoElement:0}),XN=or(YN),JN=je({},ga,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZN=or(JN),e2=je({},ga,{data:0}),__=or(e2),t2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=n2[t])?!!e[t]:!1}function qg(){return i2}var s2=je({},bc,{key:function(t){if(t.key){var e=t2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?r2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qg,charCode:function(t){return t.type==="keypress"?$u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o2=or(s2),a2=je({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=or(a2),l2=je({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qg}),c2=or(l2),u2=je({},ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),d2=or(u2),f2=je({},ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),h2=or(f2),p2=[9,13,27,32],Kg=Dn&&"CompositionEvent"in window,xl=null;Dn&&"documentMode"in document&&(xl=document.documentMode);var m2=Dn&&"TextEvent"in window&&!xl,Cb=Dn&&(!Kg||xl&&8<xl&&11>=xl),E_=" ",x_=!1;function Rb(t,e){switch(t){case"keyup":return p2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function g2(t,e){switch(t){case"compositionend":return Pb(e);case"keypress":return e.which!==32?null:(x_=!0,E_);case"textInput":return t=e.data,t===E_&&x_?null:t;default:return null}}function y2(t,e){if(fo)return t==="compositionend"||!Kg&&Rb(t,e)?(t=Ib(),Uu=Hg=wi=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cb&&e.locale!=="ko"?null:e.data;default:return null}}var v2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!v2[t.type]:e==="textarea"}function kb(t,e,r,n){lb(n),e=_d(e,"onChange"),0<e.length&&(r=new Wg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var bl=null,Bl=null;function _2(t){zb(t,0)}function hf(t){var e=mo(t);if(tb(e))return t}function w2(t,e){if(t==="change")return e}var Nb=!1;if(Dn){var zh;if(Dn){var Bh="oninput"in document;if(!Bh){var T_=document.createElement("div");T_.setAttribute("oninput","return;"),Bh=typeof T_.oninput=="function"}zh=Bh}else zh=!1;Nb=zh&&(!document.documentMode||9<document.documentMode)}function A_(){bl&&(bl.detachEvent("onpropertychange",Db),Bl=bl=null)}function Db(t){if(t.propertyName==="value"&&hf(Bl)){var e=[];kb(e,Bl,t,Fg(t)),fb(_2,e)}}function E2(t,e,r){t==="focusin"?(A_(),bl=e,Bl=r,bl.attachEvent("onpropertychange",Db)):t==="focusout"&&A_()}function x2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hf(Bl)}function b2(t,e){if(t==="click")return hf(e)}function T2(t,e){if(t==="input"||t==="change")return hf(e)}function A2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dr=typeof Object.is=="function"?Object.is:A2;function Hl(t,e){if(Dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Op.call(e,i)||!Dr(t[i],e[i]))return!1}return!0}function S_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function I_(t,e){var r=S_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=S_(r)}}function Mb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ob(){for(var t=window,e=fd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=fd(t.document)}return e}function Gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S2(t){var e=Ob(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mb(r.ownerDocument.documentElement,r)){if(n!==null&&Gg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=I_(r,s);var o=I_(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var I2=Dn&&"documentMode"in document&&11>=document.documentMode,ho=null,em=null,Tl=null,tm=!1;function C_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;tm||ho==null||ho!==fd(n)||(n=ho,"selectionStart"in n&&Gg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tl&&Hl(Tl,n)||(Tl=n,n=_d(em,"onSelect"),0<n.length&&(e=new Wg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ho)))}function du(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var po={animationend:du("Animation","AnimationEnd"),animationiteration:du("Animation","AnimationIteration"),animationstart:du("Animation","AnimationStart"),transitionend:du("Transition","TransitionEnd")},Hh={},Lb={};Dn&&(Lb=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function pf(t){if(Hh[t])return Hh[t];if(!po[t])return t;var e=po[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Lb)return Hh[t]=e[r];return t}var Vb=pf("animationend"),jb=pf("animationiteration"),Fb=pf("animationstart"),Ub=pf("transitionend"),$b=new Map,R_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){$b.set(t,e),Bs(e,[t])}for(var Wh=0;Wh<R_.length;Wh++){var qh=R_[Wh],C2=qh.toLowerCase(),R2=qh[0].toUpperCase()+qh.slice(1);Yi(C2,"on"+R2)}Yi(Vb,"onAnimationEnd");Yi(jb,"onAnimationIteration");Yi(Fb,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(Ub,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P2=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function P_(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,CN(n,e,void 0,t),t.currentTarget=null}function zb(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;P_(i,a,u),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;P_(i,a,u),s=c}}}if(pd)throw t=Yp,pd=!1,Yp=null,t}function Ne(t,e){var r=e[om];r===void 0&&(r=e[om]=new Set);var n=t+"__bubble";r.has(n)||(Bb(e,t,2,!1),r.add(n))}function Kh(t,e,r){var n=0;e&&(n|=4),Bb(r,t,n,e)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Wl(t){if(!t[fu]){t[fu]=!0,Yx.forEach(function(r){r!=="selectionchange"&&(P2.has(r)||Kh(r,!1,t),Kh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fu]||(e[fu]=!0,Kh("selectionchange",!1,e))}}function Bb(t,e,r,n){switch(Sb(e)){case 1:var i=HN;break;case 4:i=WN;break;default:i=Bg}r=i.bind(null,e,r,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Gh(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=fs(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}fb(function(){var u=s,d=Fg(r),h=[];e:{var m=$b.get(t);if(m!==void 0){var y=Wg,I=t;switch(t){case"keypress":if($u(r)===0)break e;case"keydown":case"keyup":y=o2;break;case"focusin":I="focus",y=$h;break;case"focusout":I="blur",y=$h;break;case"beforeblur":case"afterblur":y=$h;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=v_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=GN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=c2;break;case Vb:case jb:case Fb:y=XN;break;case Ub:y=d2;break;case"scroll":y=qN;break;case"wheel":y=h2;break;case"copy":case"cut":case"paste":y=ZN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=w_}var v=(e&4)!==0,x=!v&&t==="scroll",w=v?m!==null?m+"Capture":null:m;v=[];for(var E=u,b;E!==null;){b=E;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,w!==null&&(P=Fl(E,w),P!=null&&v.push(ql(E,P,b)))),x)break;E=E.return}0<v.length&&(m=new y(m,I,null,r,d),h.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==Kp&&(I=r.relatedTarget||r.fromElement)&&(fs(I)||I[Mn]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(I=r.relatedTarget||r.toElement,y=u,I=I?fs(I):null,I!==null&&(x=Hs(I),I!==x||I.tag!==5&&I.tag!==6)&&(I=null)):(y=null,I=u),y!==I)){if(v=v_,P="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=w_,P="onPointerLeave",w="onPointerEnter",E="pointer"),x=y==null?m:mo(y),b=I==null?m:mo(I),m=new v(P,E+"leave",y,r,d),m.target=x,m.relatedTarget=b,P=null,fs(d)===u&&(v=new v(w,E+"enter",I,r,d),v.target=b,v.relatedTarget=x,P=v),x=P,y&&I)t:{for(v=y,w=I,E=0,b=v;b;b=to(b))E++;for(b=0,P=w;P;P=to(P))b++;for(;0<E-b;)v=to(v),E--;for(;0<b-E;)w=to(w),b--;for(;E--;){if(v===w||w!==null&&v===w.alternate)break t;v=to(v),w=to(w)}v=null}else v=null;y!==null&&k_(h,m,y,v,!1),I!==null&&x!==null&&k_(h,x,I,v,!0)}}e:{if(m=u?mo(u):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=w2;else if(b_(m))if(Nb)L=T2;else{L=x2;var M=E2}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=b2);if(L&&(L=L(t,u))){kb(h,L,r,d);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&zp(m,"number",m.value)}switch(M=u?mo(u):window,t){case"focusin":(b_(M)||M.contentEditable==="true")&&(ho=M,em=u,Tl=null);break;case"focusout":Tl=em=ho=null;break;case"mousedown":tm=!0;break;case"contextmenu":case"mouseup":case"dragend":tm=!1,C_(h,r,d);break;case"selectionchange":if(I2)break;case"keydown":case"keyup":C_(h,r,d)}var T;if(Kg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fo?Rb(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Cb&&r.locale!=="ko"&&(fo||A!=="onCompositionStart"?A==="onCompositionEnd"&&fo&&(T=Ib()):(wi=d,Hg="value"in wi?wi.value:wi.textContent,fo=!0)),M=_d(u,A),0<M.length&&(A=new __(A,t,null,r,d),h.push({event:A,listeners:M}),T?A.data=T:(T=Pb(r),T!==null&&(A.data=T)))),(T=m2?g2(t,r):y2(t,r))&&(u=_d(u,"onBeforeInput"),0<u.length&&(d=new __("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=T))}zb(h,e)})}function ql(t,e,r){return{instance:t,listener:e,currentTarget:r}}function _d(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fl(t,r),s!=null&&n.unshift(ql(t,s,i)),s=Fl(t,e),s!=null&&n.push(ql(t,s,i))),t=t.return}return n}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function k_(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,i?(c=Fl(r,s),c!=null&&o.unshift(ql(r,c,a))):i||(c=Fl(r,s),c!=null&&o.push(ql(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var k2=/\r\n?/g,N2=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(k2,`
`).replace(N2,"")}function hu(t,e,r){if(e=N_(e),N_(t)!==e&&r)throw Error(B(425))}function wd(){}var rm=null,nm=null;function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,D2=typeof clearTimeout=="function"?clearTimeout:void 0,D_=typeof Promise=="function"?Promise:void 0,M2=typeof queueMicrotask=="function"?queueMicrotask:typeof D_<"u"?function(t){return D_.resolve(null).then(t).catch(O2)}:sm;function O2(t){setTimeout(function(){throw t})}function Qh(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),zl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);zl(e)}function Si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function M_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),Qr="__reactFiber$"+ya,Kl="__reactProps$"+ya,Mn="__reactContainer$"+ya,om="__reactEvents$"+ya,L2="__reactListeners$"+ya,V2="__reactHandles$"+ya;function fs(t){var e=t[Qr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Mn]||r[Qr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=M_(t);t!==null;){if(r=t[Qr])return r;t=M_(t)}return e}t=r,r=t.parentNode}return null}function Tc(t){return t=t[Qr]||t[Mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function mf(t){return t[Kl]||null}var am=[],go=-1;function Xi(t){return{current:t}}function De(t){0>go||(t.current=am[go],am[go]=null,go--)}function Re(t,e){go++,am[go]=t.current,t.current=e}var Vi={},It=Xi(Vi),Wt=Xi(!1),Cs=Vi;function Jo(t,e){var r=t.type.contextTypes;if(!r)return Vi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qt(t){return t=t.childContextTypes,t!=null}function Ed(){De(Wt),De(It)}function O_(t,e,r){if(It.current!==Vi)throw Error(B(168));Re(It,e),Re(Wt,r)}function Hb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(B(108,EN(t)||"Unknown",i));return je({},r,n)}function xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vi,Cs=It.current,Re(It,t),Re(Wt,Wt.current),!0}function L_(t,e,r){var n=t.stateNode;if(!n)throw Error(B(169));r?(t=Hb(t,e,Cs),n.__reactInternalMemoizedMergedChildContext=t,De(Wt),De(It),Re(It,t)):De(Wt),Re(Wt,r)}var wn=null,gf=!1,Yh=!1;function Wb(t){wn===null?wn=[t]:wn.push(t)}function j2(t){gf=!0,Wb(t)}function Ji(){if(!Yh&&wn!==null){Yh=!0;var t=0,e=Se;try{var r=wn;for(Se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}wn=null,gf=!1}catch(i){throw wn!==null&&(wn=wn.slice(t+1)),gb(Ug,Ji),i}finally{Se=e,Yh=!1}}return null}var yo=[],vo=0,bd=null,Td=0,dr=[],fr=0,Rs=null,Sn=1,In="";function ls(t,e){yo[vo++]=Td,yo[vo++]=bd,bd=t,Td=e}function qb(t,e,r){dr[fr++]=Sn,dr[fr++]=In,dr[fr++]=Rs,Rs=t;var n=Sn;t=In;var i=32-Cr(n)-1;n&=~(1<<i),r+=1;var s=32-Cr(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Sn=1<<32-Cr(e)+i|r<<i|n,In=s+t}else Sn=1<<s|r<<i|n,In=t}function Qg(t){t.return!==null&&(ls(t,1),qb(t,1,0))}function Yg(t){for(;t===bd;)bd=yo[--vo],yo[vo]=null,Td=yo[--vo],yo[vo]=null;for(;t===Rs;)Rs=dr[--fr],dr[fr]=null,In=dr[--fr],dr[fr]=null,Sn=dr[--fr],dr[fr]=null}var rr=null,Zt=null,Oe=!1,Ar=null;function Kb(t,e){var r=pr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function V_(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,Zt=Si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Rs!==null?{id:Sn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=pr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,rr=t,Zt=null,!0):!1;default:return!1}}function lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cm(t){if(Oe){var e=Zt;if(e){var r=e;if(!V_(t,e)){if(lm(t))throw Error(B(418));e=Si(r.nextSibling);var n=rr;e&&V_(t,e)?Kb(n,r):(t.flags=t.flags&-4097|2,Oe=!1,rr=t)}}else{if(lm(t))throw Error(B(418));t.flags=t.flags&-4097|2,Oe=!1,rr=t}}}function j_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function pu(t){if(t!==rr)return!1;if(!Oe)return j_(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!im(t.type,t.memoizedProps)),e&&(e=Zt)){if(lm(t))throw Gb(),Error(B(418));for(;e;)Kb(t,e),e=Si(e.nextSibling)}if(j_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Zt=Si(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=rr?Si(t.stateNode.nextSibling):null;return!0}function Gb(){for(var t=Zt;t;)t=Si(t.nextSibling)}function Zo(){Zt=rr=null,Oe=!1}function Xg(t){Ar===null?Ar=[t]:Ar.push(t)}var F2=Hn.ReactCurrentBatchConfig;function nl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(B(309));var n=r.stateNode}if(!n)throw Error(B(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!r._owner)throw Error(B(290,t))}return t}function mu(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function F_(t){var e=t._init;return e(t._payload)}function Qb(t){function e(w,E){if(t){var b=w.deletions;b===null?(w.deletions=[E],w.flags|=16):b.push(E)}}function r(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function n(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=Pi(w,E),w.index=0,w.sibling=null,w}function s(w,E,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<E?(w.flags|=2,E):b):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,E,b,P){return E===null||E.tag!==6?(E=np(b,w.mode,P),E.return=w,E):(E=i(E,b),E.return=w,E)}function c(w,E,b,P){var L=b.type;return L===uo?d(w,E,b.props.children,P,b.key):E!==null&&(E.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ai&&F_(L)===E.type)?(P=i(E,b.props),P.ref=nl(w,E,b),P.return=w,P):(P=Gu(b.type,b.key,b.props,null,w.mode,P),P.ref=nl(w,E,b),P.return=w,P)}function u(w,E,b,P){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=ip(b,w.mode,P),E.return=w,E):(E=i(E,b.children||[]),E.return=w,E)}function d(w,E,b,P,L){return E===null||E.tag!==7?(E=As(b,w.mode,P,L),E.return=w,E):(E=i(E,b),E.return=w,E)}function h(w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=np(""+E,w.mode,b),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case iu:return b=Gu(E.type,E.key,E.props,null,w.mode,b),b.ref=nl(w,null,E),b.return=w,b;case co:return E=ip(E,w.mode,b),E.return=w,E;case ai:var P=E._init;return h(w,P(E._payload),b)}if(ul(E)||Ja(E))return E=As(E,w.mode,b,null),E.return=w,E;mu(w,E)}return null}function m(w,E,b,P){var L=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:a(w,E,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case iu:return b.key===L?c(w,E,b,P):null;case co:return b.key===L?u(w,E,b,P):null;case ai:return L=b._init,m(w,E,L(b._payload),P)}if(ul(b)||Ja(b))return L!==null?null:d(w,E,b,P,null);mu(w,b)}return null}function y(w,E,b,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(b)||null,a(E,w,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case iu:return w=w.get(P.key===null?b:P.key)||null,c(E,w,P,L);case co:return w=w.get(P.key===null?b:P.key)||null,u(E,w,P,L);case ai:var M=P._init;return y(w,E,b,M(P._payload),L)}if(ul(P)||Ja(P))return w=w.get(b)||null,d(E,w,P,L,null);mu(E,P)}return null}function I(w,E,b,P){for(var L=null,M=null,T=E,A=E=0,S=null;T!==null&&A<b.length;A++){T.index>A?(S=T,T=null):S=T.sibling;var R=m(w,T,b[A],P);if(R===null){T===null&&(T=S);break}t&&T&&R.alternate===null&&e(w,T),E=s(R,E,A),M===null?L=R:M.sibling=R,M=R,T=S}if(A===b.length)return r(w,T),Oe&&ls(w,A),L;if(T===null){for(;A<b.length;A++)T=h(w,b[A],P),T!==null&&(E=s(T,E,A),M===null?L=T:M.sibling=T,M=T);return Oe&&ls(w,A),L}for(T=n(w,T);A<b.length;A++)S=y(T,w,A,b[A],P),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?A:S.key),E=s(S,E,A),M===null?L=S:M.sibling=S,M=S);return t&&T.forEach(function(N){return e(w,N)}),Oe&&ls(w,A),L}function v(w,E,b,P){var L=Ja(b);if(typeof L!="function")throw Error(B(150));if(b=L.call(b),b==null)throw Error(B(151));for(var M=L=null,T=E,A=E=0,S=null,R=b.next();T!==null&&!R.done;A++,R=b.next()){T.index>A?(S=T,T=null):S=T.sibling;var N=m(w,T,R.value,P);if(N===null){T===null&&(T=S);break}t&&T&&N.alternate===null&&e(w,T),E=s(N,E,A),M===null?L=N:M.sibling=N,M=N,T=S}if(R.done)return r(w,T),Oe&&ls(w,A),L;if(T===null){for(;!R.done;A++,R=b.next())R=h(w,R.value,P),R!==null&&(E=s(R,E,A),M===null?L=R:M.sibling=R,M=R);return Oe&&ls(w,A),L}for(T=n(w,T);!R.done;A++,R=b.next())R=y(T,w,A,R.value,P),R!==null&&(t&&R.alternate!==null&&T.delete(R.key===null?A:R.key),E=s(R,E,A),M===null?L=R:M.sibling=R,M=R);return t&&T.forEach(function(D){return e(w,D)}),Oe&&ls(w,A),L}function x(w,E,b,P){if(typeof b=="object"&&b!==null&&b.type===uo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case iu:e:{for(var L=b.key,M=E;M!==null;){if(M.key===L){if(L=b.type,L===uo){if(M.tag===7){r(w,M.sibling),E=i(M,b.props.children),E.return=w,w=E;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ai&&F_(L)===M.type){r(w,M.sibling),E=i(M,b.props),E.ref=nl(w,M,b),E.return=w,w=E;break e}r(w,M);break}else e(w,M);M=M.sibling}b.type===uo?(E=As(b.props.children,w.mode,P,b.key),E.return=w,w=E):(P=Gu(b.type,b.key,b.props,null,w.mode,P),P.ref=nl(w,E,b),P.return=w,w=P)}return o(w);case co:e:{for(M=b.key;E!==null;){if(E.key===M)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){r(w,E.sibling),E=i(E,b.children||[]),E.return=w,w=E;break e}else{r(w,E);break}else e(w,E);E=E.sibling}E=ip(b,w.mode,P),E.return=w,w=E}return o(w);case ai:return M=b._init,x(w,E,M(b._payload),P)}if(ul(b))return I(w,E,b,P);if(Ja(b))return v(w,E,b,P);mu(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(r(w,E.sibling),E=i(E,b),E.return=w,w=E):(r(w,E),E=np(b,w.mode,P),E.return=w,w=E),o(w)):r(w,E)}return x}var ea=Qb(!0),Yb=Qb(!1),Ad=Xi(null),Sd=null,_o=null,Jg=null;function Zg(){Jg=_o=Sd=null}function ey(t){var e=Ad.current;De(Ad),t._currentValue=e}function um(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function So(t,e){Sd=t,Jg=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function gr(t){var e=t._currentValue;if(Jg!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Sd===null)throw Error(B(308));_o=t,Sd.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var hs=null;function ty(t){hs===null?hs=[t]:hs.push(t)}function Xb(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,ty(e)):(r.next=i.next,i.next=r),e.interleaved=r,On(t,n)}function On(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var li=!1;function ry(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,On(t,r)}return i=n.interleaved,i===null?(e.next=e,ty(n)):(e.next=i.next,i.next=e),n.interleaved=e,On(t,r)}function zu(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$g(t,r)}}function U_(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Id(t,e,r,n){var i=t.updateQueue;li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,d=u=c=null,a=s;do{var m=a.lane,y=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,v=a;switch(m=e,y=r,v.tag){case 1:if(I=v.payload,typeof I=="function"){h=I.call(y,h,m);break e}h=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=v.payload,m=typeof I=="function"?I.call(y,h,m):I,m==null)break e;h=je({},h,m);break e;case 2:li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ks|=o,t.lanes=o,t.memoizedState=h}}function $_(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(B(191,i));i.call(n)}}}var Ac={},Zr=Xi(Ac),Gl=Xi(Ac),Ql=Xi(Ac);function ps(t){if(t===Ac)throw Error(B(174));return t}function ny(t,e){switch(Re(Ql,e),Re(Gl,t),Re(Zr,Ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}De(Zr),Re(Zr,e)}function ta(){De(Zr),De(Gl),De(Ql)}function Zb(t){ps(Ql.current);var e=ps(Zr.current),r=Hp(e,t.type);e!==r&&(Re(Gl,t),Re(Zr,r))}function iy(t){Gl.current===t&&(De(Zr),De(Gl))}var Le=Xi(0);function Cd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function sy(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var Bu=Hn.ReactCurrentDispatcher,Jh=Hn.ReactCurrentBatchConfig,Ps=0,Ve=null,tt=null,at=null,Rd=!1,Al=!1,Yl=0,U2=0;function _t(){throw Error(B(321))}function oy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Dr(t[r],e[r]))return!1;return!0}function ay(t,e,r,n,i,s){if(Ps=s,Ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bu.current=t===null||t.memoizedState===null?H2:W2,t=r(n,i),Al){s=0;do{if(Al=!1,Yl=0,25<=s)throw Error(B(301));s+=1,at=tt=null,e.updateQueue=null,Bu.current=q2,t=r(n,i)}while(Al)}if(Bu.current=Pd,e=tt!==null&&tt.next!==null,Ps=0,at=tt=Ve=null,Rd=!1,e)throw Error(B(300));return t}function ly(){var t=Yl!==0;return Yl=0,t}function Br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=t:at=at.next=t,at}function yr(){if(tt===null){var t=Ve.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var e=at===null?Ve.memoizedState:at.next;if(e!==null)at=e,tt=t;else{if(t===null)throw Error(B(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},at===null?Ve.memoizedState=at=t:at=at.next=t}return at}function Xl(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=yr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=tt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,u=s;do{var d=u.lane;if((Ps&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,Ve.lanes|=d,ks|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=a,Dr(n,e.memoizedState)||(Ht=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Ve.lanes|=s,ks|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ep(t){var e=yr(),r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Dr(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function eT(){}function tT(t,e){var r=Ve,n=yr(),i=e(),s=!Dr(n.memoizedState,i);if(s&&(n.memoizedState=i,Ht=!0),n=n.queue,cy(iT.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||at!==null&&at.memoizedState.tag&1){if(r.flags|=2048,Jl(9,nT.bind(null,r,n,i,e),void 0,null),lt===null)throw Error(B(349));Ps&30||rT(r,e,i)}return i}function rT(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function nT(t,e,r,n){e.value=r,e.getSnapshot=n,sT(e)&&oT(t)}function iT(t,e,r){return r(function(){sT(e)&&oT(t)})}function sT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Dr(t,r)}catch{return!0}}function oT(t){var e=On(t,1);e!==null&&Rr(e,t,1,-1)}function z_(t){var e=Br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=B2.bind(null,Ve,t),[e.memoizedState,t]}function Jl(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Ve.updateQueue,e===null?(e={lastEffect:null,stores:null},Ve.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function aT(){return yr().memoizedState}function Hu(t,e,r,n){var i=Br();Ve.flags|=t,i.memoizedState=Jl(1|e,r,void 0,n===void 0?null:n)}function yf(t,e,r,n){var i=yr();n=n===void 0?null:n;var s=void 0;if(tt!==null){var o=tt.memoizedState;if(s=o.destroy,n!==null&&oy(n,o.deps)){i.memoizedState=Jl(e,r,s,n);return}}Ve.flags|=t,i.memoizedState=Jl(1|e,r,s,n)}function B_(t,e){return Hu(8390656,8,t,e)}function cy(t,e){return yf(2048,8,t,e)}function lT(t,e){return yf(4,2,t,e)}function cT(t,e){return yf(4,4,t,e)}function uT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function dT(t,e,r){return r=r!=null?r.concat([t]):null,yf(4,4,uT.bind(null,e,t),r)}function uy(){}function fT(t,e){var r=yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hT(t,e){var r=yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&oy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function pT(t,e,r){return Ps&21?(Dr(r,e)||(r=_b(),Ve.lanes|=r,ks|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=r)}function $2(t,e){var r=Se;Se=r!==0&&4>r?r:4,t(!0);var n=Jh.transition;Jh.transition={};try{t(!1),e()}finally{Se=r,Jh.transition=n}}function mT(){return yr().memoizedState}function z2(t,e,r){var n=Ri(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gT(t))yT(e,r);else if(r=Xb(t,e,r,n),r!==null){var i=Lt();Rr(r,t,n,i),vT(r,e,n)}}function B2(t,e,r){var n=Ri(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gT(t))yT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Dr(a,o)){var c=e.interleaved;c===null?(i.next=i,ty(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=Xb(t,e,i,n),r!==null&&(i=Lt(),Rr(r,t,n,i),vT(r,e,n))}}function gT(t){var e=t.alternate;return t===Ve||e!==null&&e===Ve}function yT(t,e){Al=Rd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vT(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,$g(t,r)}}var Pd={readContext:gr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},H2={readContext:gr,useCallback:function(t,e){return Br().memoizedState=[t,e===void 0?null:e],t},useContext:gr,useEffect:B_,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hu(4194308,4,uT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hu(4,2,t,e)},useMemo:function(t,e){var r=Br();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Br();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=z2.bind(null,Ve,t),[n.memoizedState,t]},useRef:function(t){var e=Br();return t={current:t},e.memoizedState=t},useState:z_,useDebugValue:uy,useDeferredValue:function(t){return Br().memoizedState=t},useTransition:function(){var t=z_(!1),e=t[0];return t=$2.bind(null,t[1]),Br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Ve,i=Br();if(Oe){if(r===void 0)throw Error(B(407));r=r()}else{if(r=e(),lt===null)throw Error(B(349));Ps&30||rT(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,B_(iT.bind(null,n,s,t),[t]),n.flags|=2048,Jl(9,nT.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Br(),e=lt.identifierPrefix;if(Oe){var r=In,n=Sn;r=(n&~(1<<32-Cr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Yl++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=U2++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},W2={readContext:gr,useCallback:fT,useContext:gr,useEffect:cy,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:hT,useReducer:Zh,useRef:aT,useState:function(){return Zh(Xl)},useDebugValue:uy,useDeferredValue:function(t){var e=yr();return pT(e,tt.memoizedState,t)},useTransition:function(){var t=Zh(Xl)[0],e=yr().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1},q2={readContext:gr,useCallback:fT,useContext:gr,useEffect:cy,useImperativeHandle:dT,useInsertionEffect:lT,useLayoutEffect:cT,useMemo:hT,useReducer:ep,useRef:aT,useState:function(){return ep(Xl)},useDebugValue:uy,useDeferredValue:function(t){var e=yr();return tt===null?e.memoizedState=t:pT(e,tt.memoizedState,t)},useTransition:function(){var t=ep(Xl)[0],e=yr().memoizedState;return[t,e]},useMutableSource:eT,useSyncExternalStore:tT,useId:mT,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function dm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:je({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vf={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Lt(),i=Ri(t),s=Pn(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ii(t,s,i),e!==null&&(Rr(e,t,i,n),zu(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Lt(),i=Ri(t),s=Pn(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ii(t,s,i),e!==null&&(Rr(e,t,i,n),zu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Lt(),n=Ri(t),i=Pn(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ii(t,i,n),e!==null&&(Rr(e,t,n,r),zu(e,t,n))}};function H_(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hl(r,n)||!Hl(i,s):!0}function _T(t,e,r){var n=!1,i=Vi,s=e.contextType;return typeof s=="object"&&s!==null?s=gr(s):(i=qt(e)?Cs:It.current,n=e.contextTypes,s=(n=n!=null)?Jo(t,i):Vi),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function W_(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&vf.enqueueReplaceState(e,e.state,null)}function fm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ry(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gr(s):(s=qt(e)?Cs:It.current,i.context=Jo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(dm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vf.enqueueReplaceState(i,i.state,null),Id(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ra(t,e){try{var r="",n=e;do r+=wN(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function hm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var K2=typeof WeakMap=="function"?WeakMap:Map;function wT(t,e,r){r=Pn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Nd||(Nd=!0,bm=n),hm(t,e)},r}function ET(t,e,r){r=Pn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){hm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){hm(t,e),typeof n!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function q_(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new K2;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=aD.bind(null,t,e,r),e.then(t,t))}function K_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G_(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Pn(-1,1),e.tag=2,Ii(r,e,1))),r.lanes|=1),t)}var G2=Hn.ReactCurrentOwner,Ht=!1;function Ot(t,e,r,n){e.child=t===null?Yb(e,null,r,n):ea(e,t.child,r,n)}function Q_(t,e,r,n,i){r=r.render;var s=e.ref;return So(e,i),n=ay(t,e,r,n,s,i),r=ly(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ln(t,e,i)):(Oe&&r&&Qg(e),e.flags|=1,Ot(t,e,n,i),e.child)}function Y_(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!vy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,xT(t,e,s,n,i)):(t=Gu(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(o,n)&&t.ref===e.ref)return Ln(t,e,i)}return e.flags|=1,t=Pi(s,n),t.ref=e.ref,t.return=e,e.child=t}function xT(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Hl(s,n)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Ln(t,e,i)}return pm(t,e,r,n,i)}function bT(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(Eo,Xt),Xt|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Re(Eo,Xt),Xt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Re(Eo,Xt),Xt|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Re(Eo,Xt),Xt|=n;return Ot(t,e,i,r),e.child}function TT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pm(t,e,r,n,i){var s=qt(r)?Cs:It.current;return s=Jo(e,s),So(e,i),r=ay(t,e,r,n,s,i),n=ly(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ln(t,e,i)):(Oe&&n&&Qg(e),e.flags|=1,Ot(t,e,r,i),e.child)}function X_(t,e,r,n,i){if(qt(r)){var s=!0;xd(e)}else s=!1;if(So(e,i),e.stateNode===null)Wu(t,e),_T(e,r,n),fm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=qt(r)?Cs:It.current,u=Jo(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&W_(e,o,n,u),li=!1;var m=e.memoizedState;o.state=m,Id(e,n,o,i),c=e.memoizedState,a!==n||m!==c||Wt.current||li?(typeof d=="function"&&(dm(e,r,d,n),c=e.memoizedState),(a=li||H_(e,r,a,n,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Jb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xr(e.type,a),o.props=u,h=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=qt(r)?Cs:It.current,c=Jo(e,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==c)&&W_(e,o,n,c),li=!1,m=e.memoizedState,o.state=m,Id(e,n,o,i);var I=e.memoizedState;a!==h||m!==I||Wt.current||li?(typeof y=="function"&&(dm(e,r,y,n),I=e.memoizedState),(u=li||H_(e,r,u,n,m,I,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=I),o.props=n,o.state=I,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return mm(t,e,r,n,s,i)}function mm(t,e,r,n,i,s){TT(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&L_(e,r,!1),Ln(t,e,s);n=e.stateNode,G2.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ea(e,t.child,null,s),e.child=ea(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=n.state,i&&L_(e,r,!0),e.child}function AT(t){var e=t.stateNode;e.pendingContext?O_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&O_(t,e.context,!1),ny(t,e.containerInfo)}function J_(t,e,r,n,i){return Zo(),Xg(i),e.flags|=256,Ot(t,e,r,n),e.child}var gm={dehydrated:null,treeContext:null,retryLane:0};function ym(t){return{baseLanes:t,cachePool:null,transitions:null}}function ST(t,e,r){var n=e.pendingProps,i=Le.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Re(Le,i&1),t===null)return cm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ef(o,n,0,null),t=As(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ym(r),e.memoizedState=gm,t):dy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Q2(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Pi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Pi(a,s):(s=As(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?ym(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=gm,n}return s=t.child,t=s.sibling,n=Pi(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function dy(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gu(t,e,r,n){return n!==null&&Xg(n),ea(e,t.child,null,r),t=dy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Q2(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=tp(Error(B(422))),gu(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ef({mode:"visible",children:n.children},i,0,null),s=As(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ea(e,t.child,null,o),e.child.memoizedState=ym(o),e.memoizedState=gm,s);if(!(e.mode&1))return gu(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(B(419)),n=tp(s,n,void 0),gu(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ht||a){if(n=lt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,On(t,i),Rr(n,t,i,-1))}return yy(),n=tp(Error(B(421))),gu(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=Si(i.nextSibling),rr=e,Oe=!0,Ar=null,t!==null&&(dr[fr++]=Sn,dr[fr++]=In,dr[fr++]=Rs,Sn=t.id,In=t.overflow,Rs=e),e=dy(e,n.children),e.flags|=4096,e)}function Z_(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),um(t.return,e,r)}function rp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function IT(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ot(t,e,n.children,r),n=Le.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z_(t,r,e);else if(t.tag===19)Z_(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Re(Le,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Cd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),rp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Cd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}rp(e,!0,r,null,s);break;case"together":rp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ln(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ks|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,r=Pi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Y2(t,e,r){switch(e.tag){case 3:AT(e),Zo();break;case 5:Zb(e);break;case 1:qt(e.type)&&xd(e);break;case 4:ny(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Re(Ad,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Re(Le,Le.current&1),e.flags|=128,null):r&e.child.childLanes?ST(t,e,r):(Re(Le,Le.current&1),t=Ln(t,e,r),t!==null?t.sibling:null);Re(Le,Le.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return IT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Le,Le.current),n)break;return null;case 22:case 23:return e.lanes=0,bT(t,e,r)}return Ln(t,e,r)}var CT,vm,RT,PT;CT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};vm=function(){};RT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ps(Zr.current);var s=null;switch(r){case"input":i=Up(t,i),n=Up(t,n),s=[];break;case"select":i=je({},i,{value:void 0}),n=je({},n,{value:void 0}),s=[];break;case"textarea":i=Bp(t,i),n=Bp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=wd)}Wp(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};PT=function(t,e,r,n){r!==n&&(e.flags|=4)};function il(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function X2(t,e,r){var n=e.pendingProps;switch(Yg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return qt(e.type)&&Ed(),wt(e),null;case 3:return n=e.stateNode,ta(),De(Wt),De(It),sy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(pu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Sm(Ar),Ar=null))),vm(t,e),wt(e),null;case 5:iy(e);var i=ps(Ql.current);if(r=e.type,t!==null&&e.stateNode!=null)RT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(B(166));return wt(e),null}if(t=ps(Zr.current),pu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Qr]=e,n[Kl]=s,t=(e.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(i=0;i<fl.length;i++)Ne(fl[i],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":l_(n,s),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ne("invalid",n);break;case"textarea":u_(n,s),Ne("invalid",n)}Wp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&hu(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hu(n.textContent,a,t),i=["children",""+a]):Vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ne("scroll",n)}switch(r){case"input":su(n),c_(n,s,!0);break;case"textarea":su(n),d_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=wd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ib(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Qr]=e,t[Kl]=n,CT(t,e,!1,!1),e.stateNode=t;e:{switch(o=qp(r,n),r){case"dialog":Ne("cancel",t),Ne("close",t),i=n;break;case"iframe":case"object":case"embed":Ne("load",t),i=n;break;case"video":case"audio":for(i=0;i<fl.length;i++)Ne(fl[i],t);i=n;break;case"source":Ne("error",t),i=n;break;case"img":case"image":case"link":Ne("error",t),Ne("load",t),i=n;break;case"details":Ne("toggle",t),i=n;break;case"input":l_(t,n),i=Up(t,n),Ne("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=je({},n,{value:void 0}),Ne("invalid",t);break;case"textarea":u_(t,n),i=Bp(t,n),Ne("invalid",t);break;default:i=n}Wp(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?ab(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sb(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jl(t,c):typeof c=="number"&&jl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ne("scroll",t):c!=null&&Og(t,s,c,o))}switch(r){case"input":su(t),c_(t,n,!1);break;case"textarea":su(t),d_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Li(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?xo(t,!!n.multiple,s,!1):n.defaultValue!=null&&xo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)PT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(B(166));if(r=ps(Ql.current),ps(Zr.current),pu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Qr]=e,(s=n.nodeValue!==r)&&(t=rr,t!==null))switch(t.tag){case 3:hu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qr]=e,e.stateNode=n}return wt(e),null;case 13:if(De(Le),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&Zt!==null&&e.mode&1&&!(e.flags&128))Gb(),Zo(),e.flags|=98560,s=!1;else if(s=pu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[Qr]=e}else Zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else Ar!==null&&(Sm(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?nt===0&&(nt=3):yy())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return ta(),vm(t,e),t===null&&Wl(e.stateNode.containerInfo),wt(e),null;case 10:return ey(e.type._context),wt(e),null;case 17:return qt(e.type)&&Ed(),wt(e),null;case 19:if(De(Le),s=e.memoizedState,s===null)return wt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)il(s,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Cd(t),o!==null){for(e.flags|=128,il(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Re(Le,Le.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ke()>na&&(e.flags|=128,n=!0,il(s,!1),e.lanes=4194304)}else{if(!n)if(t=Cd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return wt(e),null}else 2*Ke()-s.renderingStartTime>na&&r!==1073741824&&(e.flags|=128,n=!0,il(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ke(),e.sibling=null,r=Le.current,Re(Le,n?r&1|2:r&1),e):(wt(e),null);case 22:case 23:return gy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Xt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function J2(t,e){switch(Yg(e),e.tag){case 1:return qt(e.type)&&Ed(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ta(),De(Wt),De(It),sy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return iy(e),null;case 13:if(De(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(Le),null;case 4:return ta(),null;case 10:return ey(e.type._context),null;case 22:case 23:return gy(),null;case 24:return null;default:return null}}var yu=!1,Tt=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,Y=null;function wo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Be(t,e,n)}else r.current=null}function _m(t,e,r){try{r()}catch(n){Be(t,e,n)}}var ew=!1;function eD(t,e){if(rm=yd,t=Ob(),Gg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===r&&++u===i&&(a=o),m===s&&++d===n&&(c=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(nm={focusedElem:t,selectionRange:r},yd=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var v=I.memoizedProps,x=I.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?v:xr(e.type,v),x);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(P){Be(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return I=ew,ew=!1,I}function Sl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&_m(e,r,s)}i=i.next}while(i!==n)}}function _f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function wm(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function kT(t){var e=t.alternate;e!==null&&(t.alternate=null,kT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qr],delete e[Kl],delete e[om],delete e[L2],delete e[V2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NT(t){return t.tag===5||t.tag===3||t.tag===4}function tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Em(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=wd));else if(n!==4&&(t=t.child,t!==null))for(Em(t,e,r),t=t.sibling;t!==null;)Em(t,e,r),t=t.sibling}function xm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(xm(t,e,r),t=t.sibling;t!==null;)xm(t,e,r),t=t.sibling}var dt=null,Tr=!1;function ei(t,e,r){for(r=r.child;r!==null;)DT(t,e,r),r=r.sibling}function DT(t,e,r){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(df,r)}catch{}switch(r.tag){case 5:Tt||wo(r,e);case 6:var n=dt,i=Tr;dt=null,ei(t,e,r),dt=n,Tr=i,dt!==null&&(Tr?(t=dt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):dt.removeChild(r.stateNode));break;case 18:dt!==null&&(Tr?(t=dt,r=r.stateNode,t.nodeType===8?Qh(t.parentNode,r):t.nodeType===1&&Qh(t,r),zl(t)):Qh(dt,r.stateNode));break;case 4:n=dt,i=Tr,dt=r.stateNode.containerInfo,Tr=!0,ei(t,e,r),dt=n,Tr=i;break;case 0:case 11:case 14:case 15:if(!Tt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&_m(r,e,o),i=i.next}while(i!==n)}ei(t,e,r);break;case 1:if(!Tt&&(wo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Be(r,e,a)}ei(t,e,r);break;case 21:ei(t,e,r);break;case 22:r.mode&1?(Tt=(n=Tt)||r.memoizedState!==null,ei(t,e,r),Tt=n):ei(t,e,r);break;default:ei(t,e,r)}}function rw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Z2),e.forEach(function(n){var i=cD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Er(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,Tr=!1;break e;case 3:dt=a.stateNode.containerInfo,Tr=!0;break e;case 4:dt=a.stateNode.containerInfo,Tr=!0;break e}a=a.return}if(dt===null)throw Error(B(160));DT(s,o,i),dt=null,Tr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Be(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MT(e,t),e=e.sibling}function MT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),zr(t),n&4){try{Sl(3,t,t.return),_f(3,t)}catch(v){Be(t,t.return,v)}try{Sl(5,t,t.return)}catch(v){Be(t,t.return,v)}}break;case 1:Er(e,t),zr(t),n&512&&r!==null&&wo(r,r.return);break;case 5:if(Er(e,t),zr(t),n&512&&r!==null&&wo(r,r.return),t.flags&32){var i=t.stateNode;try{jl(i,"")}catch(v){Be(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rb(i,s),qp(a,o);var u=qp(a,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?ab(i,h):d==="dangerouslySetInnerHTML"?sb(i,h):d==="children"?jl(i,h):Og(i,d,h,u)}switch(a){case"input":$p(i,s);break;case"textarea":nb(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?xo(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?xo(i,!!s.multiple,s.defaultValue,!0):xo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Kl]=s}catch(v){Be(t,t.return,v)}}break;case 6:if(Er(e,t),zr(t),n&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Be(t,t.return,v)}}break;case 3:if(Er(e,t),zr(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zl(e.containerInfo)}catch(v){Be(t,t.return,v)}break;case 4:Er(e,t),zr(t);break;case 13:Er(e,t),zr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(py=Ke())),n&4&&rw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Tt=(u=Tt)||d,Er(e,t),Tt=u):Er(e,t),zr(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(h=Y=d;Y!==null;){switch(m=Y,y=m.child,m.tag){case 0:case 11:case 14:case 15:Sl(4,m,m.return);break;case 1:wo(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(v){Be(n,r,v)}}break;case 5:wo(m,m.return);break;case 22:if(m.memoizedState!==null){iw(h);continue}}y!==null?(y.return=m,Y=y):iw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ob("display",o))}catch(v){Be(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Be(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Er(e,t),zr(t),n&4&&rw(t);break;case 21:break;default:Er(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(NT(r)){var n=r;break e}r=r.return}throw Error(B(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(jl(i,""),n.flags&=-33);var s=tw(t);xm(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=tw(t);Em(t,a,o);break;default:throw Error(B(161))}}catch(c){Be(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tD(t,e,r){Y=t,OT(t)}function OT(t,e,r){for(var n=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||yu;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Tt;a=yu;var u=Tt;if(yu=o,(Tt=c)&&!u)for(Y=i;Y!==null;)o=Y,c=o.child,o.tag===22&&o.memoizedState!==null?sw(i):c!==null?(c.return=o,Y=c):sw(i);for(;s!==null;)Y=s,OT(s),s=s.sibling;Y=i,yu=a,Tt=u}nw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):nw(t)}}function nw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tt||_f(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:xr(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$_(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}$_(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Tt||e.flags&512&&wm(e)}catch(m){Be(e,e.return,m)}}if(e===t){Y=null;break}if(r=e.sibling,r!==null){r.return=e.return,Y=r;break}Y=e.return}}function iw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Y=r;break}Y=e.return}}function sw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{_f(4,e)}catch(c){Be(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Be(e,i,c)}}var s=e.return;try{wm(e)}catch(c){Be(e,s,c)}break;case 5:var o=e.return;try{wm(e)}catch(c){Be(e,o,c)}}}catch(c){Be(e,e.return,c)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var rD=Math.ceil,kd=Hn.ReactCurrentDispatcher,fy=Hn.ReactCurrentOwner,mr=Hn.ReactCurrentBatchConfig,ge=0,lt=null,Ye=null,pt=0,Xt=0,Eo=Xi(0),nt=0,Zl=null,ks=0,wf=0,hy=0,Il=null,zt=null,py=0,na=1/0,_n=null,Nd=!1,bm=null,Ci=null,vu=!1,Ei=null,Dd=0,Cl=0,Tm=null,qu=-1,Ku=0;function Lt(){return ge&6?Ke():qu!==-1?qu:qu=Ke()}function Ri(t){return t.mode&1?ge&2&&pt!==0?pt&-pt:F2.transition!==null?(Ku===0&&(Ku=_b()),Ku):(t=Se,t!==0||(t=window.event,t=t===void 0?16:Sb(t.type)),t):1}function Rr(t,e,r,n){if(50<Cl)throw Cl=0,Tm=null,Error(B(185));xc(t,r,n),(!(ge&2)||t!==lt)&&(t===lt&&(!(ge&2)&&(wf|=r),nt===4&&ui(t,pt)),Kt(t,n),r===1&&ge===0&&!(e.mode&1)&&(na=Ke()+500,gf&&Ji()))}function Kt(t,e){var r=t.callbackNode;FN(t,e);var n=gd(t,t===lt?pt:0);if(n===0)r!==null&&p_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&p_(r),e===1)t.tag===0?j2(ow.bind(null,t)):Wb(ow.bind(null,t)),M2(function(){!(ge&6)&&Ji()}),r=null;else{switch(wb(n)){case 1:r=Ug;break;case 4:r=yb;break;case 16:r=md;break;case 536870912:r=vb;break;default:r=md}r=BT(r,LT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function LT(t,e){if(qu=-1,Ku=0,ge&6)throw Error(B(327));var r=t.callbackNode;if(Io()&&t.callbackNode!==r)return null;var n=gd(t,t===lt?pt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Md(t,n);else{e=n;var i=ge;ge|=2;var s=jT();(lt!==t||pt!==e)&&(_n=null,na=Ke()+500,Ts(t,e));do try{sD();break}catch(a){VT(t,a)}while(!0);Zg(),kd.current=s,ge=i,Ye!==null?e=0:(lt=null,pt=0,e=nt)}if(e!==0){if(e===2&&(i=Xp(t),i!==0&&(n=i,e=Am(t,i))),e===1)throw r=Zl,Ts(t,0),ui(t,n),Kt(t,Ke()),r;if(e===6)ui(t,n);else{if(i=t.current.alternate,!(n&30)&&!nD(i)&&(e=Md(t,n),e===2&&(s=Xp(t),s!==0&&(n=s,e=Am(t,s))),e===1))throw r=Zl,Ts(t,0),ui(t,n),Kt(t,Ke()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(B(345));case 2:cs(t,zt,_n);break;case 3:if(ui(t,n),(n&130023424)===n&&(e=py+500-Ke(),10<e)){if(gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sm(cs.bind(null,t,zt,_n),e);break}cs(t,zt,_n);break;case 4:if(ui(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Cr(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rD(n/1960))-n,10<n){t.timeoutHandle=sm(cs.bind(null,t,zt,_n),n);break}cs(t,zt,_n);break;case 5:cs(t,zt,_n);break;default:throw Error(B(329))}}}return Kt(t,Ke()),t.callbackNode===r?LT.bind(null,t):null}function Am(t,e){var r=Il;return t.current.memoizedState.isDehydrated&&(Ts(t,e).flags|=256),t=Md(t,e),t!==2&&(e=zt,zt=r,e!==null&&Sm(e)),t}function Sm(t){zt===null?zt=t:zt.push.apply(zt,t)}function nD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Dr(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ui(t,e){for(e&=~hy,e&=~wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Cr(e),n=1<<r;t[r]=-1,e&=~n}}function ow(t){if(ge&6)throw Error(B(327));Io();var e=gd(t,0);if(!(e&1))return Kt(t,Ke()),null;var r=Md(t,e);if(t.tag!==0&&r===2){var n=Xp(t);n!==0&&(e=n,r=Am(t,n))}if(r===1)throw r=Zl,Ts(t,0),ui(t,e),Kt(t,Ke()),r;if(r===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cs(t,zt,_n),Kt(t,Ke()),null}function my(t,e){var r=ge;ge|=1;try{return t(e)}finally{ge=r,ge===0&&(na=Ke()+500,gf&&Ji())}}function Ns(t){Ei!==null&&Ei.tag===0&&!(ge&6)&&Io();var e=ge;ge|=1;var r=mr.transition,n=Se;try{if(mr.transition=null,Se=1,t)return t()}finally{Se=n,mr.transition=r,ge=e,!(ge&6)&&Ji()}}function gy(){Xt=Eo.current,De(Eo)}function Ts(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,D2(r)),Ye!==null)for(r=Ye.return;r!==null;){var n=r;switch(Yg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ed();break;case 3:ta(),De(Wt),De(It),sy();break;case 5:iy(n);break;case 4:ta();break;case 13:De(Le);break;case 19:De(Le);break;case 10:ey(n.type._context);break;case 22:case 23:gy()}r=r.return}if(lt=t,Ye=t=Pi(t.current,null),pt=Xt=e,nt=0,Zl=null,hy=wf=ks=0,zt=Il=null,hs!==null){for(e=0;e<hs.length;e++)if(r=hs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}hs=null}return t}function VT(t,e){do{var r=Ye;try{if(Zg(),Bu.current=Pd,Rd){for(var n=Ve.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rd=!1}if(Ps=0,at=tt=Ve=null,Al=!1,Yl=0,fy.current=null,r===null||r.return===null){nt=1,Zl=e,Ye=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=pt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=K_(o);if(y!==null){y.flags&=-257,G_(y,o,a,s,e),y.mode&1&&q_(s,u,e),e=y,c=u;var I=e.updateQueue;if(I===null){var v=new Set;v.add(c),e.updateQueue=v}else I.add(c);break e}else{if(!(e&1)){q_(s,u,e),yy();break e}c=Error(B(426))}}else if(Oe&&a.mode&1){var x=K_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),G_(x,o,a,s,e),Xg(ra(c,a));break e}}s=c=ra(c,a),nt!==4&&(nt=2),Il===null?Il=[s]:Il.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=wT(s,c,e);U_(s,w);break e;case 1:a=c;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ci===null||!Ci.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=ET(s,a,e);U_(s,P);break e}}s=s.return}while(s!==null)}UT(r)}catch(L){e=L,Ye===r&&r!==null&&(Ye=r=r.return);continue}break}while(!0)}function jT(){var t=kd.current;return kd.current=Pd,t===null?Pd:t}function yy(){(nt===0||nt===3||nt===2)&&(nt=4),lt===null||!(ks&268435455)&&!(wf&268435455)||ui(lt,pt)}function Md(t,e){var r=ge;ge|=2;var n=jT();(lt!==t||pt!==e)&&(_n=null,Ts(t,e));do try{iD();break}catch(i){VT(t,i)}while(!0);if(Zg(),ge=r,kd.current=n,Ye!==null)throw Error(B(261));return lt=null,pt=0,nt}function iD(){for(;Ye!==null;)FT(Ye)}function sD(){for(;Ye!==null&&!PN();)FT(Ye)}function FT(t){var e=zT(t.alternate,t,Xt);t.memoizedProps=t.pendingProps,e===null?UT(t):Ye=e,fy.current=null}function UT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=J2(r,e),r!==null){r.flags&=32767,Ye=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nt=6,Ye=null;return}}else if(r=X2(r,e,Xt),r!==null){Ye=r;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);nt===0&&(nt=5)}function cs(t,e,r){var n=Se,i=mr.transition;try{mr.transition=null,Se=1,oD(t,e,r,n)}finally{mr.transition=i,Se=n}return null}function oD(t,e,r,n){do Io();while(Ei!==null);if(ge&6)throw Error(B(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(UN(t,s),t===lt&&(Ye=lt=null,pt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vu||(vu=!0,BT(md,function(){return Io(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=mr.transition,mr.transition=null;var o=Se;Se=1;var a=ge;ge|=4,fy.current=null,eD(t,r),MT(r,t),S2(nm),yd=!!rm,nm=rm=null,t.current=r,tD(r),kN(),ge=a,Se=o,mr.transition=s}else t.current=r;if(vu&&(vu=!1,Ei=t,Dd=i),s=t.pendingLanes,s===0&&(Ci=null),MN(r.stateNode),Kt(t,Ke()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Nd)throw Nd=!1,t=bm,bm=null,t;return Dd&1&&t.tag!==0&&Io(),s=t.pendingLanes,s&1?t===Tm?Cl++:(Cl=0,Tm=t):Cl=0,Ji(),null}function Io(){if(Ei!==null){var t=wb(Dd),e=mr.transition,r=Se;try{if(mr.transition=null,Se=16>t?16:t,Ei===null)var n=!1;else{if(t=Ei,Ei=null,Dd=0,ge&6)throw Error(B(331));var i=ge;for(ge|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Y=u;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:Sl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Y=h;else for(;Y!==null;){d=Y;var m=d.sibling,y=d.return;if(kT(d),d===u){Y=null;break}if(m!==null){m.return=y,Y=m;break}Y=y}}}var I=s.alternate;if(I!==null){var v=I.child;if(v!==null){I.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Y=w;break e}Y=s.return}}var E=t.current;for(Y=E;Y!==null;){o=Y;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Y=b;else e:for(o=E;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_f(9,a)}}catch(L){Be(a,a.return,L)}if(a===o){Y=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,Y=P;break e}Y=a.return}}if(ge=i,Ji(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(df,t)}catch{}n=!0}return n}finally{Se=r,mr.transition=e}}return!1}function aw(t,e,r){e=ra(r,e),e=wT(t,e,1),t=Ii(t,e,1),e=Lt(),t!==null&&(xc(t,1,e),Kt(t,e))}function Be(t,e,r){if(t.tag===3)aw(t,t,r);else for(;e!==null;){if(e.tag===3){aw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ci===null||!Ci.has(n))){t=ra(r,t),t=ET(e,t,1),e=Ii(e,t,1),t=Lt(),e!==null&&(xc(e,1,t),Kt(e,t));break}}e=e.return}}function aD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&r,lt===t&&(pt&r)===r&&(nt===4||nt===3&&(pt&130023424)===pt&&500>Ke()-py?Ts(t,0):hy|=r),Kt(t,e)}function $T(t,e){e===0&&(t.mode&1?(e=lu,lu<<=1,!(lu&130023424)&&(lu=4194304)):e=1);var r=Lt();t=On(t,e),t!==null&&(xc(t,e,r),Kt(t,r))}function lD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),$T(t,r)}function cD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(B(314))}n!==null&&n.delete(e),$T(t,r)}var zT;zT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Wt.current)Ht=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ht=!1,Y2(t,e,r);Ht=!!(t.flags&131072)}else Ht=!1,Oe&&e.flags&1048576&&qb(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wu(t,e),t=e.pendingProps;var i=Jo(e,It.current);So(e,r),i=ay(null,e,n,t,i,r);var s=ly();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qt(n)?(s=!0,xd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ry(e),i.updater=vf,e.stateNode=i,i._reactInternals=e,fm(e,n,t,r),e=mm(null,e,n,!0,s,r)):(e.tag=0,Oe&&s&&Qg(e),Ot(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wu(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=dD(n),t=xr(n,t),i){case 0:e=pm(null,e,n,t,r);break e;case 1:e=X_(null,e,n,t,r);break e;case 11:e=Q_(null,e,n,t,r);break e;case 14:e=Y_(null,e,n,xr(n.type,t),r);break e}throw Error(B(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xr(n,i),pm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xr(n,i),X_(t,e,n,i,r);case 3:e:{if(AT(e),t===null)throw Error(B(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Jb(t,e),Id(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ra(Error(B(423)),e),e=J_(t,e,n,r,i);break e}else if(n!==i){i=ra(Error(B(424)),e),e=J_(t,e,n,r,i);break e}else for(Zt=Si(e.stateNode.containerInfo.firstChild),rr=e,Oe=!0,Ar=null,r=Yb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zo(),n===i){e=Ln(t,e,r);break e}Ot(t,e,n,r)}e=e.child}return e;case 5:return Zb(e),t===null&&cm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,im(n,i)?o=null:s!==null&&im(n,s)&&(e.flags|=32),TT(t,e),Ot(t,e,o,r),e.child;case 6:return t===null&&cm(e),null;case 13:return ST(t,e,r);case 4:return ny(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ea(e,null,n,r):Ot(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xr(n,i),Q_(t,e,n,i,r);case 7:return Ot(t,e,e.pendingProps,r),e.child;case 8:return Ot(t,e,e.pendingProps.children,r),e.child;case 12:return Ot(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Re(Ad,n._currentValue),n._currentValue=o,s!==null)if(Dr(s.value,o)){if(s.children===i.children&&!Wt.current){e=Ln(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Pn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),um(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),um(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,So(e,r),i=gr(i),n=n(i),e.flags|=1,Ot(t,e,n,r),e.child;case 14:return n=e.type,i=xr(n,e.pendingProps),i=xr(n.type,i),Y_(t,e,n,i,r);case 15:return xT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xr(n,i),Wu(t,e),e.tag=1,qt(n)?(t=!0,xd(e)):t=!1,So(e,r),_T(e,n,i),fm(e,n,i,r),mm(null,e,n,!0,t,r);case 19:return IT(t,e,r);case 22:return bT(t,e,r)}throw Error(B(156,e.tag))};function BT(t,e){return gb(t,e)}function uD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,r,n){return new uD(t,e,r,n)}function vy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dD(t){if(typeof t=="function")return vy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vg)return 11;if(t===jg)return 14}return 2}function Pi(t,e){var r=t.alternate;return r===null?(r=pr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Gu(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")vy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uo:return As(r.children,i,s,e);case Lg:o=8,i|=8;break;case Lp:return t=pr(12,r,e,i|2),t.elementType=Lp,t.lanes=s,t;case Vp:return t=pr(13,r,e,i),t.elementType=Vp,t.lanes=s,t;case jp:return t=pr(19,r,e,i),t.elementType=jp,t.lanes=s,t;case Zx:return Ef(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xx:o=10;break e;case Jx:o=9;break e;case Vg:o=11;break e;case jg:o=14;break e;case ai:o=16,n=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=pr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function As(t,e,r,n){return t=pr(7,t,n,e),t.lanes=r,t}function Ef(t,e,r,n){return t=pr(22,t,n,e),t.elementType=Zx,t.lanes=r,t.stateNode={isHidden:!1},t}function np(t,e,r){return t=pr(6,t,null,e),t.lanes=r,t}function ip(t,e,r){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jh(0),this.expirationTimes=jh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _y(t,e,r,n,i,s,o,a,c){return t=new fD(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ry(s),t}function hD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function HT(t){if(!t)return Vi;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var r=t.type;if(qt(r))return Hb(t,r,e)}return e}function WT(t,e,r,n,i,s,o,a,c){return t=_y(r,n,!0,t,i,s,o,a,c),t.context=HT(null),r=t.current,n=Lt(),i=Ri(r),s=Pn(n,i),s.callback=e??null,Ii(r,s,i),t.current.lanes=i,xc(t,i,n),Kt(t,n),t}function xf(t,e,r,n){var i=e.current,s=Lt(),o=Ri(i);return r=HT(r),e.context===null?e.context=r:e.pendingContext=r,e=Pn(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ii(i,e,o),t!==null&&(Rr(t,i,o,s),zu(t,i,o)),o}function Od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function wy(t,e){lw(t,e),(t=t.alternate)&&lw(t,e)}function pD(){return null}var qT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ey(t){this._internalRoot=t}bf.prototype.render=Ey.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));xf(t,e,null,null)};bf.prototype.unmount=Ey.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ns(function(){xf(null,t,null,null)}),e[Mn]=null}};function bf(t){this._internalRoot=t}bf.prototype.unstable_scheduleHydration=function(t){if(t){var e=bb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ci.length&&e!==0&&e<ci[r].priority;r++);ci.splice(r,0,t),r===0&&Ab(t)}};function xy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function cw(){}function mD(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Od(o);s.call(u)}}var o=WT(e,n,t,0,null,!1,!1,"",cw);return t._reactRootContainer=o,t[Mn]=o.current,Wl(t.nodeType===8?t.parentNode:t),Ns(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Od(c);a.call(u)}}var c=_y(t,0,!1,null,null,!1,!1,"",cw);return t._reactRootContainer=c,t[Mn]=c.current,Wl(t.nodeType===8?t.parentNode:t),Ns(function(){xf(e,c,r,n)}),c}function Af(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=Od(o);a.call(c)}}xf(e,o,t,i)}else o=mD(r,e,t,i,n);return Od(o)}Eb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=dl(e.pendingLanes);r!==0&&($g(e,r|1),Kt(e,Ke()),!(ge&6)&&(na=Ke()+500,Ji()))}break;case 13:Ns(function(){var n=On(t,1);if(n!==null){var i=Lt();Rr(n,t,1,i)}}),wy(t,1)}};zg=function(t){if(t.tag===13){var e=On(t,134217728);if(e!==null){var r=Lt();Rr(e,t,134217728,r)}wy(t,134217728)}};xb=function(t){if(t.tag===13){var e=Ri(t),r=On(t,e);if(r!==null){var n=Lt();Rr(r,t,e,n)}wy(t,e)}};bb=function(){return Se};Tb=function(t,e){var r=Se;try{return Se=t,e()}finally{Se=r}};Gp=function(t,e,r){switch(e){case"input":if($p(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=mf(n);if(!i)throw Error(B(90));tb(n),$p(n,i)}}}break;case"textarea":nb(t,r);break;case"select":e=r.value,e!=null&&xo(t,!!r.multiple,e,!1)}};ub=my;db=Ns;var gD={usingClientEntryPoint:!1,Events:[Tc,mo,mf,lb,cb,my]},sl={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yD={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pb(t),t===null?null:t.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||pD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_u.isDisabled&&_u.supportsFiber)try{df=_u.inject(yD),Jr=_u}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;sr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xy(e))throw Error(B(200));return hD(t,e,null,r)};sr.createRoot=function(t,e){if(!xy(t))throw Error(B(299));var r=!1,n="",i=qT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=_y(t,1,!1,null,null,r,!1,n,i),t[Mn]=e.current,Wl(t.nodeType===8?t.parentNode:t),new Ey(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=pb(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return Ns(t)};sr.hydrate=function(t,e,r){if(!Tf(e))throw Error(B(200));return Af(null,t,e,!0,r)};sr.hydrateRoot=function(t,e,r){if(!xy(t))throw Error(B(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=qT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=WT(e,null,t,1,r??null,i,!1,s,o),t[Mn]=e.current,Wl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bf(e)};sr.render=function(t,e,r){if(!Tf(e))throw Error(B(200));return Af(null,t,e,!1,r)};sr.unmountComponentAtNode=function(t){if(!Tf(t))throw Error(B(40));return t._reactRootContainer?(Ns(function(){Af(null,null,t,!1,function(){t._reactRootContainer=null,t[Mn]=null})}),!0):!1};sr.unstable_batchedUpdates=my;sr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Tf(r))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Af(t,e,r,!1,n)};sr.version="18.3.1-next-f1338f8080-20240426";function KT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(KT)}catch(t){console.error(t)}}KT(),Kx.exports=sr;var Sc=Kx.exports;const vD=Mx(Sc);var GT,uw=Sc;GT=uw.createRoot,uw.hydrateRoot;function _D(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,o=[],a="",c=t.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),a+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~n?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var QT={exports:{}},YT={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=_;function wD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ED=typeof Object.is=="function"?Object.is:wD,xD=ia.useState,bD=ia.useEffect,TD=ia.useLayoutEffect,AD=ia.useDebugValue;function SD(t,e){var r=e(),n=xD({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return TD(function(){i.value=r,i.getSnapshot=e,sp(i)&&s({inst:i})},[t,r,e]),bD(function(){return sp(i)&&s({inst:i}),t(function(){sp(i)&&s({inst:i})})},[t]),AD(r),r}function sp(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ED(t,r)}catch{return!0}}function ID(t,e){return e()}var CD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ID:SD;YT.useSyncExternalStore=ia.useSyncExternalStore!==void 0?ia.useSyncExternalStore:CD;QT.exports=YT;var RD=QT.exports;const PD=Wx.useInsertionEffect,kD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ND=kD?_.useLayoutEffect:_.useEffect,DD=PD||ND,XT=t=>{const e=_.useRef([t,(...r)=>e[0](...r)]).current;return DD(()=>{e[0]=t}),e[1]},MD="popstate",by="pushState",Ty="replaceState",OD="hashchange",dw=[MD,by,Ty,OD],LD=t=>{for(const e of dw)addEventListener(e,t);return()=>{for(const e of dw)removeEventListener(e,t)}},JT=(t,e)=>RD.useSyncExternalStore(LD,t,e),VD=()=>location.search,jD=({ssrSearch:t=""}={})=>JT(VD,()=>t),fw=()=>location.pathname,FD=({ssrPath:t}={})=>JT(fw,t?()=>t:fw),UD=(t,{replace:e=!1,state:r=null}={})=>history[e?Ty:by](r,"",t),$D=(t={})=>[FD(t),UD],hw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[hw]>"u"){for(const t of[by,Ty]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,hw,{value:!0})}const zD=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",ZT=(t="")=>t==="/"?"":t,BD=(t,e)=>t[0]==="~"?t.slice(1):ZT(e)+t,HD=(t="",e)=>zD(pw(ZT(t)),pw(e)),pw=t=>{try{return decodeURI(t)}catch{return t}},eA={hook:$D,searchHook:jD,parser:_D,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},tA=_.createContext(eA),va=()=>_.useContext(tA),rA={},nA=_.createContext(rA),WD=()=>_.useContext(nA),Sf=t=>{const[e,r]=t.hook(t);return[HD(t.base,e),XT((n,i)=>r(BD(n,t.base),i))]},yt=()=>Sf(va()),Ay=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(r)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=s!==!1?Object.fromEntries(s.map((h,m)=>[h,c[m]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[a]:[]]:[!1,null]},ds=t=>Ay(va().parser,t,yt()[0]),qD=({children:t,...e})=>{var d,h;const r=va(),n=e.hook?eA:r;let i=n;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let a=_.useRef({}),c=a.current,u=c;for(let m in n){const y=m==="base"?n[m]+(e[m]||""):e[m]||n[m];c===u&&y!==u[m]&&(a.current=u={...u}),u[m]=y,y!==n[m]&&(i=u)}return _.createElement(tA.Provider,{value:i,children:t})},mw=({children:t,component:e},r)=>e?_.createElement(e,{params:r}):typeof t=="function"?t(r):t,KD=t=>{let e=_.useRef(rA),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},gn=({path:t,nest:e,match:r,...n})=>{const i=va(),[s]=Sf(i),[o,a,c]=r??Ay(i.parser,t,s,e),u=KD({...WD(),...a});if(!o)return null;const d=c?_.createElement(qD,{base:c},mw(n,u)):mw(n,u);return _.createElement(nA.Provider,{value:u,children:d})};_.forwardRef((t,e)=>{const r=va(),[n,i]=Sf(r),{to:s="",href:o=s,onClick:a,asChild:c,children:u,className:d,replace:h,state:m,...y}=t,I=XT(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(a==null||a(x),x.defaultPrevented||(x.preventDefault(),i(o,t)))}),v=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&_.isValidElement(u)?_.cloneElement(u,{onClick:I,href:v}):_.createElement("a",{...y,onClick:I,href:v,className:d!=null&&d.call?d(n===o):d,children:u,ref:e})});const iA=t=>Array.isArray(t)?t.flatMap(e=>iA(e&&e.type===_.Fragment?e.props.children:e)):[t],GD=({children:t,location:e})=>{const r=va(),[n]=Sf(r);for(const i of iA(t)){let s=0;if(_.isValidElement(i)&&(s=Ay(r.parser,i.props.path,e||n,i.props.nest))[0])return _.cloneElement(i,{match:s})}return null};var _a=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ds=typeof window>"u"||"Deno"in globalThis;function ur(){}function QD(t,e){return typeof t=="function"?t(e):t}function Im(t){return typeof t=="number"&&t>=0&&t!==1/0}function sA(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Co(t,e){return typeof t=="function"?t(e):t}function Sr(t,e){return typeof t=="function"?t(e):t}function gw(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Sy(o,e.options))return!1}else if(!ec(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function yw(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Ms(e.options.mutationKey)!==Ms(s))return!1}else if(!ec(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Sy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ms)(t)}function Ms(t){return JSON.stringify(t,(e,r)=>Cm(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ec(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!ec(t[r],e[r])):!1}function oA(t,e){if(t===e)return t;const r=vw(t)&&vw(e);if(r||Cm(t)&&Cm(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=oA(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function Ld(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function vw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cm(t){if(!_w(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!_w(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _w(t){return Object.prototype.toString.call(t)==="[object Object]"}function YD(t){return new Promise(e=>{setTimeout(e,t)})}function Rm(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?oA(t,e):e}function XD(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function JD(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Iy=Symbol();function aA(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Iy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ys,di,jo,Tx,ZD=(Tx=class extends _a{constructor(){super();re(this,ys);re(this,di);re(this,jo);G(this,jo,e=>{if(!Ds&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,di)||this.setEventListener(O(this,jo))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,di))==null||e.call(this),G(this,di,void 0))}setEventListener(e){var r;G(this,jo,e),(r=O(this,di))==null||r.call(this),G(this,di,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){O(this,ys)!==e&&(G(this,ys,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof O(this,ys)=="boolean"?O(this,ys):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ys=new WeakMap,di=new WeakMap,jo=new WeakMap,Tx),Cy=new ZD,Fo,fi,Uo,Ax,eM=(Ax=class extends _a{constructor(){super();re(this,Fo,!0);re(this,fi);re(this,Uo);G(this,Uo,e=>{if(!Ds&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,fi)||this.setEventListener(O(this,Uo))}onUnsubscribe(){var e;this.hasListeners()||((e=O(this,fi))==null||e.call(this),G(this,fi,void 0))}setEventListener(e){var r;G(this,Uo,e),(r=O(this,fi))==null||r.call(this),G(this,fi,e(this.setOnline.bind(this)))}setOnline(e){O(this,Fo)!==e&&(G(this,Fo,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return O(this,Fo)}},Fo=new WeakMap,fi=new WeakMap,Uo=new WeakMap,Ax),Vd=new eM;function Pm(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function tM(t){return Math.min(1e3*2**t,3e4)}function lA(t){return(t??"online")==="online"?Vd.isOnline():!0}var cA=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function op(t){return t instanceof cA}function uA(t){let e=!1,r=0,n=!1,i;const s=Pm(),o=v=>{var x;n||(m(new cA(v)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>Cy.isFocused()&&(t.networkMode==="always"||Vd.isOnline())&&t.canRun(),d=()=>lA(t.networkMode)&&t.canRun(),h=v=>{var x;n||(n=!0,(x=t.onSuccess)==null||x.call(t,v),i==null||i(),s.resolve(v))},m=v=>{var x;n||(n=!0,(x=t.onError)==null||x.call(t,v),i==null||i(),s.reject(v))},y=()=>new Promise(v=>{var x;i=w=>{(n||u())&&v(w)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;i=void 0,n||(v=t.onContinue)==null||v.call(t)}),I=()=>{if(n)return;let v;const x=r===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(w){v=Promise.reject(w)}Promise.resolve(v).then(h).catch(w=>{var M;if(n)return;const E=t.retry??(Ds?0:3),b=t.retryDelay??tM,P=typeof b=="function"?b(r,w):b,L=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,w);if(e||!L){m(w);return}r++,(M=t.onFail)==null||M.call(t,r,w),YD(P).then(()=>u()?void 0:y()).then(()=>{e?m(w):I()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?I():y().then(I),s)}}function rM(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{s(()=>{a(...c)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var rt=rM(),vs,Sx,dA=(Sx=class{constructor(){re(this,vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Im(this.gcTime)&&G(this,vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ds?1/0:5*60*1e3))}clearGcTimeout(){O(this,vs)&&(clearTimeout(O(this,vs)),G(this,vs,void 0))}},vs=new WeakMap,Sx),$o,zo,cr,xt,yc,_s,br,vn,Ix,nM=(Ix=class extends dA{constructor(r){super();re(this,br);re(this,$o);re(this,zo);re(this,cr);re(this,xt);re(this,yc);re(this,_s);G(this,_s,!1),G(this,yc,r.defaultOptions),this.setOptions(r.options),this.observers=[],G(this,cr,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,G(this,$o,iM(this.options)),this.state=r.state??O(this,$o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=O(this,xt))==null?void 0:r.promise}setOptions(r){this.options={...O(this,yc),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,cr).remove(this)}setData(r,n){const i=Rm(this.state.data,r,this.options);return ce(this,br,vn).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(r,n){ce(this,br,vn).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var i,s;const n=(i=O(this,xt))==null?void 0:i.promise;return(s=O(this,xt))==null||s.cancel(r),n?n.then(ur).catch(ur):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,$o))}isActive(){return this.observers.some(r=>Sr(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Iy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!sA(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(i=>i.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=O(this,xt))==null||n.continue()}onOnline(){var n;const r=this.observers.find(i=>i.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=O(this,xt))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),O(this,cr).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(O(this,xt)&&(O(this,_s)?O(this,xt).cancel({revert:!0}):O(this,xt).cancelRetry()),this.scheduleGc()),O(this,cr).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ce(this,br,vn).call(this,{type:"invalidate"})}fetch(r,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(O(this,xt))return O(this,xt).continueRetry(),O(this,xt).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(G(this,_s,!0),i.signal)})},o=()=>{const m=aA(this.options,n),y={queryKey:this.queryKey,meta:this.meta};return s(y),G(this,_s,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(u=this.options.behavior)==null||u.onFetch(a,this),G(this,zo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ce(this,br,vn).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const c=m=>{var y,I,v,x;op(m)&&m.silent||ce(this,br,vn).call(this,{type:"error",error:m}),op(m)||((I=(y=O(this,cr).config).onError)==null||I.call(y,m,this),(x=(v=O(this,cr).config).onSettled)==null||x.call(v,this.state.data,m,this)),this.scheduleGc()};return G(this,xt,uA({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var y,I,v,x;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){c(w);return}(I=(y=O(this,cr).config).onSuccess)==null||I.call(y,m,this),(x=(v=O(this,cr).config).onSettled)==null||x.call(v,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,y)=>{ce(this,br,vn).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{ce(this,br,vn).call(this,{type:"pause"})},onContinue:()=>{ce(this,br,vn).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),O(this,xt).start()}},$o=new WeakMap,zo=new WeakMap,cr=new WeakMap,xt=new WeakMap,yc=new WeakMap,_s=new WeakMap,br=new WeakSet,vn=function(r){const n=i=>{switch(r.type){case"failed":return{...i,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...fA(i.data,this.options),fetchMeta:r.meta??null};case"success":return{...i,data:r.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=r.error;return op(s)&&s.revert&&O(this,zo)?{...O(this,zo),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...r.state}}};this.state=n(this.state),rt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),O(this,cr).notify({query:this,type:"updated",action:r})})},Ix);function fA(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function iM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wr,Cx,sM=(Cx=class extends _a{constructor(e={}){super();re(this,Wr);this.config=e,G(this,Wr,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Sy(i,r);let o=this.get(s);return o||(o=new nM({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){O(this,Wr).has(e.queryHash)||(O(this,Wr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=O(this,Wr).get(e.queryHash);r&&(e.destroy(),r===e&&O(this,Wr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return O(this,Wr).get(e)}getAll(){return[...O(this,Wr).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>gw(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>gw(e,n)):r}notify(e){rt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){rt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){rt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wr=new WeakMap,Cx),qr,Dt,ws,Kr,si,Rx,oM=(Rx=class extends dA{constructor(r){super();re(this,Kr);re(this,qr);re(this,Dt);re(this,ws);this.mutationId=r.mutationId,G(this,Dt,r.mutationCache),G(this,qr,[]),this.state=r.state||hA(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){O(this,qr).includes(r)||(O(this,qr).push(r),this.clearGcTimeout(),O(this,Dt).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){G(this,qr,O(this,qr).filter(n=>n!==r)),this.scheduleGc(),O(this,Dt).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){O(this,qr).length||(this.state.status==="pending"?this.scheduleGc():O(this,Dt).remove(this))}continue(){var r;return((r=O(this,ws))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var s,o,a,c,u,d,h,m,y,I,v,x,w,E,b,P,L,M,T,A;G(this,ws,uA({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(S,R)=>{ce(this,Kr,si).call(this,{type:"failed",failureCount:S,error:R})},onPause:()=>{ce(this,Kr,si).call(this,{type:"pause"})},onContinue:()=>{ce(this,Kr,si).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Dt).canRun(this)}));const n=this.state.status==="pending",i=!O(this,ws).canStart();try{if(!n){ce(this,Kr,si).call(this,{type:"pending",variables:r,isPaused:i}),await((o=(s=O(this,Dt).config).onMutate)==null?void 0:o.call(s,r,this));const R=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,r));R!==this.state.context&&ce(this,Kr,si).call(this,{type:"pending",context:R,variables:r,isPaused:i})}const S=await O(this,ws).start();return await((d=(u=O(this,Dt).config).onSuccess)==null?void 0:d.call(u,S,r,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,S,r,this.state.context)),await((I=(y=O(this,Dt).config).onSettled)==null?void 0:I.call(y,S,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,S,null,r,this.state.context)),ce(this,Kr,si).call(this,{type:"success",data:S}),S}catch(S){try{throw await((E=(w=O(this,Dt).config).onError)==null?void 0:E.call(w,S,r,this.state.context,this)),await((P=(b=this.options).onError)==null?void 0:P.call(b,S,r,this.state.context)),await((M=(L=O(this,Dt).config).onSettled)==null?void 0:M.call(L,void 0,S,this.state.variables,this.state.context,this)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,void 0,S,r,this.state.context)),S}finally{ce(this,Kr,si).call(this,{type:"error",error:S})}}finally{O(this,Dt).runNext(this)}}},qr=new WeakMap,Dt=new WeakMap,ws=new WeakMap,Kr=new WeakSet,si=function(r){const n=i=>{switch(r.type){case"failed":return{...i,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...i,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:r.error,failureCount:i.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rt.batch(()=>{O(this,qr).forEach(i=>{i.onMutationUpdate(r)}),O(this,Dt).notify({mutation:this,type:"updated",action:r})})},Rx);function hA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yt,vc,Px,aM=(Px=class extends _a{constructor(e={}){super();re(this,Yt);re(this,vc);this.config=e,G(this,Yt,new Map),G(this,vc,Date.now())}build(e,r,n){const i=new oM({mutationCache:this,mutationId:++ru(this,vc)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=wu(e),n=O(this,Yt).get(r)??[];n.push(e),O(this,Yt).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=wu(e);if(O(this,Yt).has(r)){const i=(n=O(this,Yt).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?O(this,Yt).delete(r):O(this,Yt).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=O(this,Yt).get(wu(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=O(this,Yt).get(wu(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){rt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...O(this,Yt).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yw(r,n))}findAll(e={}){return this.getAll().filter(r=>yw(e,r))}notify(e){rt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return rt.batch(()=>Promise.all(e.map(r=>r.continue().catch(ur))))}},Yt=new WeakMap,vc=new WeakMap,Px);function wu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ww(t){return{onFetch:(e,r)=>{var d,h,m,y,I;const n=e.options,i=(m=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,s=((y=e.state.data)==null?void 0:y.pages)||[],o=((I=e.state.data)==null?void 0:I.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},w=aA(e.options,e.fetchOptions),E=async(b,P,L)=>{if(v)return Promise.reject();if(P==null&&b.pages.length)return Promise.resolve(b);const M={queryKey:e.queryKey,pageParam:P,direction:L?"backward":"forward",meta:e.options.meta};x(M);const T=await w(M),{maxPages:A}=e.options,S=L?JD:XD;return{pages:S(b.pages,T,A),pageParams:S(b.pageParams,P,A)}};if(i&&s.length){const b=i==="backward",P=b?lM:Ew,L={pages:s,pageParams:o},M=P(n,L);a=await E(L,M,b)}else{const b=t??s.length;do{const P=c===0?o[0]??n.initialPageParam:Ew(n,a);if(c>0&&P==null)break;a=await E(a,P),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function Ew(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function lM(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var ze,hi,pi,Bo,Ho,mi,Wo,qo,kx,cM=(kx=class{constructor(t={}){re(this,ze);re(this,hi);re(this,pi);re(this,Bo);re(this,Ho);re(this,mi);re(this,Wo);re(this,qo);G(this,ze,t.queryCache||new sM),G(this,hi,t.mutationCache||new aM),G(this,pi,t.defaultOptions||{}),G(this,Bo,new Map),G(this,Ho,new Map),G(this,mi,0)}mount(){ru(this,mi)._++,O(this,mi)===1&&(G(this,Wo,Cy.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ze).onFocus())})),G(this,qo,Vd.subscribe(async t=>{t&&(await this.resumePausedMutations(),O(this,ze).onOnline())})))}unmount(){var t,e;ru(this,mi)._--,O(this,mi)===0&&((t=O(this,Wo))==null||t.call(this),G(this,Wo,void 0),(e=O(this,qo))==null||e.call(this),G(this,qo,void 0))}isFetching(t){return O(this,ze).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return O(this,hi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,ze).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=O(this,ze).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Co(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return O(this,ze).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=O(this,ze).get(n.queryHash),s=i==null?void 0:i.state.data,o=QD(e,s);if(o!==void 0)return O(this,ze).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return rt.batch(()=>O(this,ze).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=O(this,ze).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=O(this,ze);rt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=O(this,ze),n={type:"active",...t};return rt.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=rt.batch(()=>O(this,ze).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ur).catch(ur)}invalidateQueries(t={},e={}){return rt.batch(()=>{if(O(this,ze).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=rt.batch(()=>O(this,ze).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(ur)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ur)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=O(this,ze).build(this,e);return r.isStaleByTime(Co(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ur).catch(ur)}fetchInfiniteQuery(t){return t.behavior=ww(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ur).catch(ur)}ensureInfiniteQueryData(t){return t.behavior=ww(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Vd.isOnline()?O(this,hi).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,ze)}getMutationCache(){return O(this,hi)}getDefaultOptions(){return O(this,pi)}setDefaultOptions(t){G(this,pi,t)}setQueryDefaults(t,e){O(this,Bo).set(Ms(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...O(this,Bo).values()];let r={};return e.forEach(n=>{ec(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){O(this,Ho).set(Ms(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...O(this,Ho).values()];let r={};return e.forEach(n=>{ec(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...O(this,pi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Sy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Iy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...O(this,pi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){O(this,ze).clear(),O(this,hi).clear()}},ze=new WeakMap,hi=new WeakMap,pi=new WeakMap,Bo=new WeakMap,Ho=new WeakMap,mi=new WeakMap,Wo=new WeakMap,qo=new WeakMap,kx),Ft,pe,_c,Mt,Es,Ko,gi,Gr,wc,Go,Qo,xs,bs,yi,Yo,xe,hl,km,Nm,Dm,Mm,Om,Lm,Vm,pA,Nx,uM=(Nx=class extends _a{constructor(e,r){super();re(this,xe);re(this,Ft);re(this,pe);re(this,_c);re(this,Mt);re(this,Es);re(this,Ko);re(this,gi);re(this,Gr);re(this,wc);re(this,Go);re(this,Qo);re(this,xs);re(this,bs);re(this,yi);re(this,Yo,new Set);this.options=r,G(this,Ft,e),G(this,Gr,null),G(this,gi,Pm()),this.options.experimental_prefetchInRender||O(this,gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,pe).addObserver(this),xw(O(this,pe),this.options)?ce(this,xe,hl).call(this):this.updateResult(),ce(this,xe,Mm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jm(O(this,pe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jm(O(this,pe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ce(this,xe,Om).call(this),ce(this,xe,Lm).call(this),O(this,pe).removeObserver(this)}setOptions(e,r){const n=this.options,i=O(this,pe);if(this.options=O(this,Ft).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sr(this.options.enabled,O(this,pe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ce(this,xe,Vm).call(this),O(this,pe).setOptions(this.options),n._defaulted&&!Ld(this.options,n)&&O(this,Ft).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,pe),observer:this});const s=this.hasListeners();s&&bw(O(this,pe),i,this.options,n)&&ce(this,xe,hl).call(this),this.updateResult(r),s&&(O(this,pe)!==i||Sr(this.options.enabled,O(this,pe))!==Sr(n.enabled,O(this,pe))||Co(this.options.staleTime,O(this,pe))!==Co(n.staleTime,O(this,pe)))&&ce(this,xe,km).call(this);const o=ce(this,xe,Nm).call(this);s&&(O(this,pe)!==i||Sr(this.options.enabled,O(this,pe))!==Sr(n.enabled,O(this,pe))||o!==O(this,yi))&&ce(this,xe,Dm).call(this,o)}getOptimisticResult(e){const r=O(this,Ft).getQueryCache().build(O(this,Ft),e),n=this.createResult(r,e);return fM(this,n)&&(G(this,Mt,n),G(this,Ko,this.options),G(this,Es,O(this,pe).state)),n}getCurrentResult(){return O(this,Mt)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){O(this,Yo).add(e)}getCurrentQuery(){return O(this,pe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=O(this,Ft).defaultQueryOptions(e),n=O(this,Ft).getQueryCache().build(O(this,Ft),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return ce(this,xe,hl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Mt)))}createResult(e,r){var A;const n=O(this,pe),i=this.options,s=O(this,Mt),o=O(this,Es),a=O(this,Ko),u=e!==n?e.state:O(this,_c),{state:d}=e;let h={...d},m=!1,y;if(r._optimisticResults){const S=this.hasListeners(),R=!S&&xw(e,r),N=S&&bw(e,n,r,i);(R||N)&&(h={...h,...fA(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:I,errorUpdatedAt:v,status:x}=h;if(r.select&&h.data!==void 0)if(s&&h.data===(o==null?void 0:o.data)&&r.select===O(this,wc))y=O(this,Go);else try{G(this,wc,r.select),y=r.select(h.data),y=Rm(s==null?void 0:s.data,y,r),G(this,Go,y),G(this,Gr,null)}catch(S){G(this,Gr,S)}else y=h.data;if(r.placeholderData!==void 0&&y===void 0&&x==="pending"){let S;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))S=s.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData((A=O(this,Qo))==null?void 0:A.state.data,O(this,Qo)):r.placeholderData,r.select&&S!==void 0)try{S=r.select(S),G(this,Gr,null)}catch(R){G(this,Gr,R)}S!==void 0&&(x="success",y=Rm(s==null?void 0:s.data,S,r),m=!0)}O(this,Gr)&&(I=O(this,Gr),y=O(this,Go),v=Date.now(),x="error");const w=h.fetchStatus==="fetching",E=x==="pending",b=x==="error",P=E&&w,L=y!==void 0,T={status:x,fetchStatus:h.fetchStatus,isPending:E,isSuccess:x==="success",isError:b,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:h.dataUpdatedAt,error:I,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!E,isLoadingError:b&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&L,isStale:Ry(e,r),refetch:this.refetch,promise:O(this,gi)};if(this.options.experimental_prefetchInRender){const S=D=>{T.status==="error"?D.reject(T.error):T.data!==void 0&&D.resolve(T.data)},R=()=>{const D=G(this,gi,T.promise=Pm());S(D)},N=O(this,gi);switch(N.status){case"pending":e.queryHash===n.queryHash&&S(N);break;case"fulfilled":(T.status==="error"||T.data!==N.value)&&R();break;case"rejected":(T.status!=="error"||T.error!==N.reason)&&R();break}}return T}updateResult(e){const r=O(this,Mt),n=this.createResult(O(this,pe),this.options);if(G(this,Es,O(this,pe).state),G(this,Ko,this.options),O(this,Es).data!==void 0&&G(this,Qo,O(this,pe)),Ld(n,r))return;G(this,Mt,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!O(this,Yo).size)return!0;const c=new Set(a??O(this,Yo));return this.options.throwOnError&&c.add("error"),Object.keys(O(this,Mt)).some(u=>{const d=u;return O(this,Mt)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),ce(this,xe,pA).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ce(this,xe,Mm).call(this)}},Ft=new WeakMap,pe=new WeakMap,_c=new WeakMap,Mt=new WeakMap,Es=new WeakMap,Ko=new WeakMap,gi=new WeakMap,Gr=new WeakMap,wc=new WeakMap,Go=new WeakMap,Qo=new WeakMap,xs=new WeakMap,bs=new WeakMap,yi=new WeakMap,Yo=new WeakMap,xe=new WeakSet,hl=function(e){ce(this,xe,Vm).call(this);let r=O(this,pe).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ur)),r},km=function(){ce(this,xe,Om).call(this);const e=Co(this.options.staleTime,O(this,pe));if(Ds||O(this,Mt).isStale||!Im(e))return;const n=sA(O(this,Mt).dataUpdatedAt,e)+1;G(this,xs,setTimeout(()=>{O(this,Mt).isStale||this.updateResult()},n))},Nm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,pe)):this.options.refetchInterval)??!1},Dm=function(e){ce(this,xe,Lm).call(this),G(this,yi,e),!(Ds||Sr(this.options.enabled,O(this,pe))===!1||!Im(O(this,yi))||O(this,yi)===0)&&G(this,bs,setInterval(()=>{(this.options.refetchIntervalInBackground||Cy.isFocused())&&ce(this,xe,hl).call(this)},O(this,yi)))},Mm=function(){ce(this,xe,km).call(this),ce(this,xe,Dm).call(this,ce(this,xe,Nm).call(this))},Om=function(){O(this,xs)&&(clearTimeout(O(this,xs)),G(this,xs,void 0))},Lm=function(){O(this,bs)&&(clearInterval(O(this,bs)),G(this,bs,void 0))},Vm=function(){const e=O(this,Ft).getQueryCache().build(O(this,Ft),this.options);if(e===O(this,pe))return;const r=O(this,pe);G(this,pe,e),G(this,_c,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},pA=function(e){rt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(O(this,Mt))}),O(this,Ft).getQueryCache().notify({query:O(this,pe),type:"observerResultsUpdated"})})},Nx);function dM(t,e){return Sr(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function xw(t,e){return dM(t,e)||t.state.data!==void 0&&jm(t,e,e.refetchOnMount)}function jm(t,e,r){if(Sr(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Ry(t,e)}return!1}function bw(t,e,r,n){return(t!==e||Sr(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Ry(t,r)}function Ry(t,e){return Sr(e.enabled,t)!==!1&&t.isStaleByTime(Co(e.staleTime,t))}function fM(t,e){return!Ld(t.getCurrentResult(),e)}var vi,_i,Ut,xn,Nn,Qu,Fm,Dx,hM=(Dx=class extends _a{constructor(r,n){super();re(this,Nn);re(this,vi);re(this,_i);re(this,Ut);re(this,xn);G(this,vi,r),this.setOptions(n),this.bindMethods(),ce(this,Nn,Qu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=O(this,vi).defaultMutationOptions(r),Ld(this.options,n)||O(this,vi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Ut),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ms(n.mutationKey)!==Ms(this.options.mutationKey)?this.reset():((i=O(this,Ut))==null?void 0:i.state.status)==="pending"&&O(this,Ut).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=O(this,Ut))==null||r.removeObserver(this)}onMutationUpdate(r){ce(this,Nn,Qu).call(this),ce(this,Nn,Fm).call(this,r)}getCurrentResult(){return O(this,_i)}reset(){var r;(r=O(this,Ut))==null||r.removeObserver(this),G(this,Ut,void 0),ce(this,Nn,Qu).call(this),ce(this,Nn,Fm).call(this)}mutate(r,n){var i;return G(this,xn,n),(i=O(this,Ut))==null||i.removeObserver(this),G(this,Ut,O(this,vi).getMutationCache().build(O(this,vi),this.options)),O(this,Ut).addObserver(this),O(this,Ut).execute(r)}},vi=new WeakMap,_i=new WeakMap,Ut=new WeakMap,xn=new WeakMap,Nn=new WeakSet,Qu=function(){var n;const r=((n=O(this,Ut))==null?void 0:n.state)??hA();G(this,_i,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Fm=function(r){rt.batch(()=>{var n,i,s,o,a,c,u,d;if(O(this,xn)&&this.hasListeners()){const h=O(this,_i).variables,m=O(this,_i).context;(r==null?void 0:r.type)==="success"?((i=(n=O(this,xn)).onSuccess)==null||i.call(n,r.data,h,m),(o=(s=O(this,xn)).onSettled)==null||o.call(s,r.data,null,h,m)):(r==null?void 0:r.type)==="error"&&((c=(a=O(this,xn)).onError)==null||c.call(a,r.error,h,m),(d=(u=O(this,xn)).onSettled)==null||d.call(u,void 0,r.error,h,m))}this.listeners.forEach(h=>{h(O(this,_i))})})},Dx),mA=_.createContext(void 0),gA=t=>{const e=_.useContext(mA);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},pM=({client:t,children:e})=>(_.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(mA.Provider,{value:t,children:e})),yA=_.createContext(!1),mM=()=>_.useContext(yA);yA.Provider;function gM(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var yM=_.createContext(gM()),vM=()=>_.useContext(yM);function vA(t,e){return typeof t=="function"?t(...e):!!t}function Um(){}var _M=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},wM=t=>{_.useEffect(()=>{t.clearReset()},[t])},EM=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&vA(r,[t.error,n]),xM=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},bM=(t,e)=>t.isLoading&&t.isFetching&&!e,TM=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Tw=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function AM(t,e,r){var d,h,m,y,I;const n=gA(),i=mM(),s=vM(),o=n.defaultQueryOptions(t);(h=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",xM(o),_M(o,s),wM(s);const a=!n.getQueryCache().get(o.queryHash),[c]=_.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(_.useSyncExternalStore(_.useCallback(v=>{const x=i?Um:c.subscribe(rt.batchCalls(v));return c.updateResult(),x},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),_.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),TM(o,u))throw Tw(o,c,s);if(EM({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((y=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,u),o.experimental_prefetchInRender&&!Ds&&bM(u,i)){const v=a?Tw(o,c,s):(I=n.getQueryCache().get(o.queryHash))==null?void 0:I.promise;v==null||v.catch(Um).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function If(t,e){return AM(t,uM)}function Rl(t,e){const r=gA(),[n]=_.useState(()=>new hM(r,t));_.useEffect(()=>{n.setOptions(t)},[n,t]);const i=_.useSyncExternalStore(_.useCallback(o=>n.subscribe(rt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=_.useCallback((o,a)=>{n.mutate(o,a).catch(Um)},[n]);if(i.error&&vA(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function SM(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const IM=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&r.status===401?null:(await SM(r),await r.json())},lr=new cM({defaultOptions:{queries:{queryFn:IM({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),CM=1,RM=1e6;let ap=0;function PM(){return ap=(ap+1)%Number.MAX_SAFE_INTEGER,ap.toString()}const lp=new Map,Aw=t=>{if(lp.has(t))return;const e=setTimeout(()=>{lp.delete(t),Pl({type:"REMOVE_TOAST",toastId:t})},RM);lp.set(t,e)},kM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,CM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Aw(r):t.toasts.forEach(n=>{Aw(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Yu=[];let Xu={toasts:[]};function Pl(t){Xu=kM(Xu,t),Yu.forEach(e=>{e(Xu)})}function NM({...t}){const e=PM(),r=i=>Pl({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>Pl({type:"DISMISS_TOAST",toastId:e});return Pl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Ws(){const[t,e]=_.useState(Xu);return _.useEffect(()=>(Yu.push(e),()=>{const r=Yu.indexOf(e);r>-1&&Yu.splice(r,1)}),[t]),{...t,toast:NM,dismiss:r=>Pl({type:"DISMISS_TOAST",toastId:r})}}function we(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Sw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _A(...t){return e=>{let r=!1;const n=t.map(i=>{const s=Sw(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Sw(t[i],null)}}}}function He(...t){return _.useCallback(_A(...t),t)}function DM(t,e){const r=_.createContext(e),n=s=>{const{children:o,...a}=s,c=_.useMemo(()=>a,Object.values(a));return f.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=_.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function qs(t,e=[]){let r=[];function n(s,o){const a=_.createContext(o),c=r.length;r=[...r,o];const u=h=>{var w;const{scope:m,children:y,...I}=h,v=((w=m==null?void 0:m[t])==null?void 0:w[c])||a,x=_.useMemo(()=>I,Object.values(I));return f.jsx(v.Provider,{value:x,children:y})};u.displayName=s+"Provider";function d(h,m){var v;const y=((v=m==null?void 0:m[t])==null?void 0:v[c])||a,I=_.useContext(y);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>_.createContext(o));return function(a){const c=(a==null?void 0:a[t])||s;return _.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[n,MM(i,...e)]}function MM(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...a,...h}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function tc(t){const e=LM(t),r=_.forwardRef((n,i)=>{const{children:s,...o}=n,a=_.Children.toArray(s),c=a.find(VM);if(c){const u=c.props.children,d=a.map(h=>h===c?_.Children.count(u)>1?_.Children.only(null):_.isValidElement(u)?u.props.children:null:h);return f.jsx(e,{...o,ref:i,children:_.isValidElement(u)?_.cloneElement(u,void 0,d):null})}return f.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var OM=tc("Slot");function LM(t){const e=_.forwardRef((r,n)=>{const{children:i,...s}=r;if(_.isValidElement(i)){const o=FM(i),a=jM(s,i.props);return i.type!==_.Fragment&&(a.ref=n?_A(n,o):o),_.cloneElement(i,a)}return _.Children.count(i)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wA=Symbol("radix.slottable");function EA(t){const e=({children:r})=>f.jsx(f.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=wA,e}function VM(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wA}function jM(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...a)=>{s(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function FM(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function xA(t){const e=t+"CollectionProvider",[r,n]=qs(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:x,children:w}=v,E=ii.useRef(null),b=ii.useRef(new Map).current;return f.jsx(i,{scope:x,itemMap:b,collectionRef:E,children:w})};o.displayName=e;const a=t+"CollectionSlot",c=tc(a),u=ii.forwardRef((v,x)=>{const{scope:w,children:E}=v,b=s(a,w),P=He(x,b.collectionRef);return f.jsx(c,{ref:P,children:E})});u.displayName=a;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=tc(d),y=ii.forwardRef((v,x)=>{const{scope:w,children:E,...b}=v,P=ii.useRef(null),L=He(x,P),M=s(d,w);return ii.useEffect(()=>(M.itemMap.set(P,{ref:P,...b}),()=>void M.itemMap.delete(P))),f.jsx(m,{[h]:"",ref:L,children:E})});y.displayName=d;function I(v){const x=s(t+"CollectionConsumer",v);return ii.useCallback(()=>{const E=x.collectionRef.current;if(!E)return[];const b=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((M,T)=>b.indexOf(M.ref.current)-b.indexOf(T.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},I,n]}var UM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Me=UM.reduce((t,e)=>{const r=tc(`Primitive.${e}`),n=_.forwardRef((i,s)=>{const{asChild:o,...a}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(c,{...a,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bA(t,e){t&&Sc.flushSync(()=>t.dispatchEvent(e))}function vr(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function $M(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t);_.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var zM="DismissableLayer",$m="dismissableLayer.update",BM="dismissableLayer.pointerDownOutside",HM="dismissableLayer.focusOutside",Iw,TA=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cf=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...c}=t,u=_.useContext(TA),[d,h]=_.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=_.useState({}),I=He(e,T=>h(T)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(x),E=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,P=E>=w,L=qM(T=>{const A=T.target,S=[...u.branches].some(R=>R.contains(A));!P||S||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},m),M=KM(T=>{const A=T.target;[...u.branches].some(R=>R.contains(A))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},m);return $M(T=>{E===u.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},m),_.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Iw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Cw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Iw)}},[d,m,r,u]),_.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Cw())},[d,u]),_.useEffect(()=>{const T=()=>y({});return document.addEventListener($m,T),()=>document.removeEventListener($m,T)},[]),f.jsx(Me.div,{...c,ref:I,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:we(t.onFocusCapture,M.onFocusCapture),onBlurCapture:we(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:we(t.onPointerDownCapture,L.onPointerDownCapture)})});Cf.displayName=zM;var WM="DismissableLayerBranch",AA=_.forwardRef((t,e)=>{const r=_.useContext(TA),n=_.useRef(null),i=He(e,n);return _.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),f.jsx(Me.div,{...t,ref:i})});AA.displayName=WM;function qM(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t),n=_.useRef(!1),i=_.useRef(()=>{});return _.useEffect(()=>{const s=a=>{if(a.target&&!n.current){let c=function(){SA(BM,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function KM(t,e=globalThis==null?void 0:globalThis.document){const r=vr(t),n=_.useRef(!1);return _.useEffect(()=>{const i=s=>{s.target&&!n.current&&SA(HM,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Cw(){const t=new CustomEvent($m);document.dispatchEvent(t)}function SA(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bA(i,s):i.dispatchEvent(s)}var GM=Cf,QM=AA,ji=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},YM="Portal",Py=_.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,s]=_.useState(!1);ji(()=>s(!0),[]);const o=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?vD.createPortal(f.jsx(Me.div,{...n,ref:e}),o):null});Py.displayName=YM;function XM(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var wa=t=>{const{present:e,children:r}=t,n=JM(e),i=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),s=He(n.ref,ZM(i));return typeof r=="function"||n.isPresent?_.cloneElement(i,{ref:s}):null};wa.displayName="Presence";function JM(t){const[e,r]=_.useState(),n=_.useRef({}),i=_.useRef(t),s=_.useRef("none"),o=t?"mounted":"unmounted",[a,c]=XM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const u=Eu(n.current);s.current=a==="mounted"?u:"none"},[a]),ji(()=>{const u=n.current,d=i.current;if(d!==t){const m=s.current,y=Eu(u);t?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),ji(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=y=>{const v=Eu(n.current).includes(y.animationName);if(y.target===e&&v&&(c("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},m=y=>{y.target===e&&(s.current=Eu(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:_.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Eu(t){return(t==null?void 0:t.animationName)||"none"}function ZM(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function ky({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=eO({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,a=vr(r),c=_.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&a(h)}else i(u)},[s,t,i,a]);return[o,c]}function eO({defaultProp:t,onChange:e}){const r=_.useState(t),[n]=r,i=_.useRef(n),s=vr(e);return _.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var tO="VisuallyHidden",Rf=_.forwardRef((t,e)=>f.jsx(Me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Rf.displayName=tO;var rO=Rf,Ny="ToastProvider",[Dy,nO,iO]=xA("Toast"),[IA,K8]=qs("Toast",[iO]),[sO,Pf]=IA(Ny),CA=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,c]=_.useState(null),[u,d]=_.useState(0),h=_.useRef(!1),m=_.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ny}\`. Expected non-empty \`string\`.`),f.jsx(Dy.Provider,{scope:e,children:f.jsx(sO,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:_.useCallback(()=>d(y=>y+1),[]),onToastRemove:_.useCallback(()=>d(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:o})})};CA.displayName=Ny;var RA="ToastViewport",oO=["F8"],zm="toast.viewportPause",Bm="toast.viewportResume",PA=_.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=oO,label:i="Notifications ({hotkey})",...s}=t,o=Pf(RA,r),a=nO(r),c=_.useRef(null),u=_.useRef(null),d=_.useRef(null),h=_.useRef(null),m=He(e,h,o.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=o.toastCount>0;_.useEffect(()=>{const x=w=>{var b;n.length!==0&&n.every(P=>w[P]||w.code===P)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),_.useEffect(()=>{const x=c.current,w=h.current;if(I&&x&&w){const E=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(zm);w.dispatchEvent(M),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(Bm);w.dispatchEvent(M),o.isClosePausedRef.current=!1}},P=M=>{!x.contains(M.relatedTarget)&&b()},L=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",E),x.addEventListener("focusout",P),x.addEventListener("pointermove",E),x.addEventListener("pointerleave",L),window.addEventListener("blur",E),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",E),x.removeEventListener("focusout",P),x.removeEventListener("pointermove",E),x.removeEventListener("pointerleave",L),window.removeEventListener("blur",E),window.removeEventListener("focus",b)}}},[I,o.isClosePausedRef]);const v=_.useCallback(({tabbingDirection:x})=>{const E=a().map(b=>{const P=b.ref.current,L=[P,..._O(P)];return x==="forwards"?L:L.reverse()});return(x==="forwards"?E.reverse():E).flat()},[a]);return _.useEffect(()=>{const x=h.current;if(x){const w=E=>{var L,M,T;const b=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!b){const A=document.activeElement,S=E.shiftKey;if(E.target===x&&S){(L=u.current)==null||L.focus();return}const D=v({tabbingDirection:S?"backwards":"forwards"}),k=D.findIndex($=>$===A);cp(D.slice(k+1))?E.preventDefault():S?(M=u.current)==null||M.focus():(T=d.current)==null||T.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,v]),f.jsxs(QM,{ref:c,role:"region","aria-label":i.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&f.jsx(Hm,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});cp(x)}}),f.jsx(Dy.Slot,{scope:r,children:f.jsx(Me.ol,{tabIndex:-1,...s,ref:m})}),I&&f.jsx(Hm,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});cp(x)}})]})});PA.displayName=RA;var kA="ToastFocusProxy",Hm=_.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=Pf(kA,r);return f.jsx(Rf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&n()}})});Hm.displayName=kA;var kf="Toast",aO="toast.swipeStart",lO="toast.swipeMove",cO="toast.swipeCancel",uO="toast.swipeEnd",NA=_.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,c]=ky({prop:n,defaultProp:i,onChange:s});return f.jsx(wa,{present:r||a,children:f.jsx(hO,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:vr(t.onPause),onResume:vr(t.onResume),onSwipeStart:we(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:we(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});NA.displayName=kf;var[dO,fO]=IA(kf,{onClose(){}}),hO=_.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:y,...I}=t,v=Pf(kf,r),[x,w]=_.useState(null),E=He(e,$=>w($)),b=_.useRef(null),P=_.useRef(null),L=i||v.duration,M=_.useRef(0),T=_.useRef(L),A=_.useRef(0),{onToastAdd:S,onToastRemove:R}=v,N=vr(()=>{var X;(x==null?void 0:x.contains(document.activeElement))&&((X=v.viewport)==null||X.focus()),o()}),D=_.useCallback($=>{!$||$===1/0||(window.clearTimeout(A.current),M.current=new Date().getTime(),A.current=window.setTimeout(N,$))},[N]);_.useEffect(()=>{const $=v.viewport;if($){const X=()=>{D(T.current),u==null||u()},K=()=>{const te=new Date().getTime()-M.current;T.current=T.current-te,window.clearTimeout(A.current),c==null||c()};return $.addEventListener(zm,K),$.addEventListener(Bm,X),()=>{$.removeEventListener(zm,K),$.removeEventListener(Bm,X)}}},[v.viewport,L,c,u,D]),_.useEffect(()=>{s&&!v.isClosePausedRef.current&&D(L)},[s,L,v.isClosePausedRef,D]),_.useEffect(()=>(S(),()=>R()),[S,R]);const k=_.useMemo(()=>x?FA(x):null,[x]);return v.viewport?f.jsxs(f.Fragment,{children:[k&&f.jsx(pO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),f.jsx(dO,{scope:r,onClose:N,children:Sc.createPortal(f.jsx(Dy.ItemSlot,{scope:r,children:f.jsx(GM,{asChild:!0,onEscapeKeyDown:we(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||N(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(Me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...I,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:we(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:we(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:we(t.onPointerMove,$=>{if(!b.current)return;const X=$.clientX-b.current.x,K=$.clientY-b.current.y,te=!!P.current,F=["left","right"].includes(v.swipeDirection),H=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,J=F?H(0,X):0,oe=F?0:H(0,K),Te=$.pointerType==="touch"?10:2,vt={x:J,y:oe},Ze={originalEvent:$,delta:vt};te?(P.current=vt,xu(lO,h,Ze,{discrete:!1})):Rw(vt,v.swipeDirection,Te)?(P.current=vt,xu(aO,d,Ze,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(X)>Te||Math.abs(K)>Te)&&(b.current=null)}),onPointerUp:we(t.onPointerUp,$=>{const X=P.current,K=$.target;if(K.hasPointerCapture($.pointerId)&&K.releasePointerCapture($.pointerId),P.current=null,b.current=null,X){const te=$.currentTarget,F={originalEvent:$,delta:X};Rw(X,v.swipeDirection,v.swipeThreshold)?xu(uO,y,F,{discrete:!0}):xu(cO,m,F,{discrete:!0}),te.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pO=t=>{const{__scopeToast:e,children:r,...n}=t,i=Pf(kf,e),[s,o]=_.useState(!1),[a,c]=_.useState(!1);return yO(()=>o(!0)),_.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(Py,{asChild:!0,children:f.jsx(Rf,{...n,children:s&&f.jsxs(f.Fragment,{children:[i.label," ",r]})})})},mO="ToastTitle",DA=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return f.jsx(Me.div,{...n,ref:e})});DA.displayName=mO;var gO="ToastDescription",MA=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return f.jsx(Me.div,{...n,ref:e})});MA.displayName=gO;var OA="ToastAction",LA=_.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?f.jsx(jA,{altText:r,asChild:!0,children:f.jsx(My,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${OA}\`. Expected non-empty \`string\`.`),null)});LA.displayName=OA;var VA="ToastClose",My=_.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=fO(VA,r);return f.jsx(jA,{asChild:!0,children:f.jsx(Me.button,{type:"button",...n,ref:e,onClick:we(t.onClick,i.onClose)})})});My.displayName=VA;var jA=_.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return f.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function FA(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),vO(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...FA(n))}}),e}function xu(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bA(i,s):i.dispatchEvent(s)}var Rw=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function yO(t=()=>{}){const e=vr(t);ji(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function vO(t){return t.nodeType===t.ELEMENT_NODE}function _O(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function cp(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var wO=CA,UA=PA,$A=NA,zA=DA,BA=MA,HA=LA,WA=My;function qA(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=qA(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function KA(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=qA(t))&&(n&&(n+=" "),n+=e);return n}const Pw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,kw=KA,Oy=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return kw(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],h=s==null?void 0:s[u];if(d===null)return null;const m=Pw(d)||Pw(h);return i[u][m]}),a=r&&Object.entries(r).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:m,...y}=d;return Object.entries(y).every(I=>{let[v,x]=I;return Array.isArray(x)?x.includes({...s,...a}[v]):{...s,...a}[v]===x})?[...u,h,m]:u},[]);return kw(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GA=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...a},c)=>_.createElement("svg",{ref:c,...xO,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:GA("lucide",i),...a},[...o.map(([u,d])=>_.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const r=_.forwardRef(({className:n,...i},s)=>_.createElement(bO,{ref:s,iconNode:e,className:GA(`lucide-${EO(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=_e("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=_e("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=_e("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=_e("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=_e("Flower2",[["path",{d:"M12 5a3 3 0 1 1 3 3m-3-3a3 3 0 1 0-3 3m3-3v1M9 8a3 3 0 1 0 3 3M9 8h1m5 0a3 3 0 1 1-3 3m3-3h-1m-2 3v-1",key:"3pnvol"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M12 10v12",key:"6ubwww"}],["path",{d:"M12 22c4.2 0 7-1.667 7-5-4.2 0-7 1.667-7 5Z",key:"9hd38g"}],["path",{d:"M12 22c-4.2 0-7-1.667-7-5 4.2 0 7 1.667 7 5Z",key:"ufn41s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=_e("Frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=_e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=_e("Laugh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M18 13a6 6 0 0 1-6 5 6 6 0 0 1-6-5h12Z",key:"b2q4dd"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=_e("Meh",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=_e("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=_e("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=_e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=_e("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=_e("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=_e("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=_e("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Ly="-",HO=t=>{const e=qO(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const a=o.split(Ly);return a[0]===""&&a.length!==1&&a.shift(),JA(a,e)||WO(o)},getConflictingClassGroupIds:(o,a)=>{const c=r[o]||[];return a&&n[o]?[...c,...n[o]]:c}}},JA=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?JA(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Ly);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},jw=/^\[(.+)\]$/,WO=t=>{if(jw.test(t)){const e=jw.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},qO=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return GO(Object.entries(t.classGroups),r).forEach(([s,o])=>{qm(o,n,s,e)}),n},qm=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Fw(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(KO(i)){qm(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{qm(o,Fw(e,s),r,n)})})},Fw=(t,e)=>{let r=t;return e.split(Ly).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KO=t=>t.isThemeGetter,GO=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[r,i]}):t,QO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},ZA="!",YO=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=a=>{const c=[];let u=0,d=0,h;for(let x=0;x<a.length;x++){let w=a[x];if(u===0){if(w===i&&(n||a.slice(x,x+s)===e)){c.push(a.slice(d,x)),d=x+s;continue}if(w==="/"){h=x;continue}}w==="["?u++:w==="]"&&u--}const m=c.length===0?a:a.substring(d),y=m.startsWith(ZA),I=y?m.substring(1):m,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:y,baseClassName:I,maybePostfixModifierPosition:v}};return r?a=>r({className:a,parseClassName:o}):o},XO=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},JO=t=>({cache:QO(t.cacheSize),parseClassName:YO(t),...HO(t)}),ZO=/\s+/,eL=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(ZO);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:y}=r(u);let I=!!y,v=n(I?m.substring(0,y):m);if(!v){if(!I){a=u+(a.length>0?" "+a:a);continue}if(v=n(m),!v){a=u+(a.length>0?" "+a:a);continue}I=!1}const x=XO(d).join(":"),w=h?x+ZA:x,E=w+v;if(s.includes(E))continue;s.push(E);const b=i(v,I);for(let P=0;P<b.length;++P){const L=b[P];s.push(w+L)}a=u+(a.length>0?" "+a:a)}return a};function tL(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=eS(e))&&(n&&(n+=" "),n+=r);return n}const eS=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=eS(t[n]))&&(r&&(r+=" "),r+=e);return r};function rL(t,...e){let r,n,i,s=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=JO(u),n=r.cache.get,i=r.cache.set,s=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=eL(c,r);return i(c,d),d}return function(){return s(tL.apply(null,arguments))}}const ke=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},tS=/^\[(?:([a-z-]+):)?(.+)\]$/i,nL=/^\d+\/\d+$/,iL=new Set(["px","full","screen"]),sL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yn=t=>Ro(t)||iL.has(t)||nL.test(t),ti=t=>Ea(t,"length",yL),Ro=t=>!!t&&!Number.isNaN(Number(t)),up=t=>Ea(t,"number",Ro),ol=t=>!!t&&Number.isInteger(Number(t)),uL=t=>t.endsWith("%")&&Ro(t.slice(0,-1)),ae=t=>tS.test(t),ri=t=>sL.test(t),dL=new Set(["length","size","percentage"]),fL=t=>Ea(t,dL,rS),hL=t=>Ea(t,"position",rS),pL=new Set(["image","url"]),mL=t=>Ea(t,pL,_L),gL=t=>Ea(t,"",vL),al=()=>!0,Ea=(t,e,r)=>{const n=tS.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},yL=t=>oL.test(t)&&!aL.test(t),rS=()=>!1,vL=t=>lL.test(t),_L=t=>cL.test(t),wL=()=>{const t=ke("colors"),e=ke("spacing"),r=ke("blur"),n=ke("brightness"),i=ke("borderColor"),s=ke("borderRadius"),o=ke("borderSpacing"),a=ke("borderWidth"),c=ke("contrast"),u=ke("grayscale"),d=ke("hueRotate"),h=ke("invert"),m=ke("gap"),y=ke("gradientColorStops"),I=ke("gradientColorStopPositions"),v=ke("inset"),x=ke("margin"),w=ke("opacity"),E=ke("padding"),b=ke("saturate"),P=ke("scale"),L=ke("sepia"),M=ke("skew"),T=ke("space"),A=ke("translate"),S=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ae,e],D=()=>[ae,e],k=()=>["",yn,ti],$=()=>["auto",Ro,ae],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",ae],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Ro,ae];return{cacheSize:500,separator:":",theme:{colors:[al],spacing:[yn,ti],blur:["none","",ri,ae],brightness:oe(),borderColor:[t],borderRadius:["none","","full",ri,ae],borderSpacing:D(),borderWidth:k(),contrast:oe(),grayscale:H(),hueRotate:oe(),invert:H(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[uL,ti],inset:N(),margin:N(),opacity:oe(),padding:D(),saturate:oe(),scale:oe(),sepia:H(),skew:oe(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[ri]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),ae]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ol,ae]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",ol,ae]}],"grid-cols":[{"grid-cols":[al]}],"col-start-end":[{col:["auto",{span:["full",ol,ae]},ae]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[al]}],"row-start-end":[{row:["auto",{span:[ol,ae]},ae]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,e]}],"min-w":[{"min-w":[ae,e,"min","max","fit"]}],"max-w":[{"max-w":[ae,e,"none","full","min","max","fit","prose",{screen:[ri]},ri]}],h:[{h:[ae,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ri,ti]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",up]}],"font-family":[{font:[al]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",Ro,up]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yn,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yn,ti]}],"underline-offset":[{"underline-offset":["auto",yn,ae]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),hL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",fL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},mL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:K()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[yn,ae]}],"outline-w":[{outline:[yn,ti]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[yn,ti]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ri,gL]}],"shadow-color":[{shadow:[al]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ri,ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[ol,ae]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[yn,ti,up]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},EL=rL(wL);function ve(...t){return EL(KA(t))}const xL=wO,nS=_.forwardRef(({className:t,...e},r)=>f.jsx(UA,{ref:r,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));nS.displayName=UA.displayName;const bL=Oy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-xl border p-4 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border-border bg-card text-foreground",destructive:"destructive group border-border bg-card text-foreground"}},defaultVariants:{variant:"default"}}),iS=_.forwardRef(({className:t,variant:e,...r},n)=>f.jsx($A,{ref:n,className:ve(bL({variant:e}),t),...r}));iS.displayName=$A.displayName;const TL=_.forwardRef(({className:t,...e},r)=>f.jsx(HA,{ref:r,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));TL.displayName=HA.displayName;const sS=_.forwardRef(({className:t,...e},r)=>f.jsx(WA,{ref:r,className:ve("absolute right-2 top-2 rounded-full p-1 text-muted-foreground opacity-70 transition-all hover:opacity-100 hover:bg-muted focus:opacity-100 focus:outline-none focus:ring-2",t),"toast-close":"",...e,children:f.jsx(XA,{className:"h-4 w-4"})}));sS.displayName=WA.displayName;const oS=_.forwardRef(({className:t,...e},r)=>f.jsx(zA,{ref:r,className:ve("text-sm font-semibold",t),...e}));oS.displayName=zA.displayName;const aS=_.forwardRef(({className:t,...e},r)=>f.jsx(BA,{ref:r,className:ve("text-sm opacity-90",t),...e}));aS.displayName=BA.displayName;function AL(){const{toasts:t}=Ws();return f.jsxs(xL,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return f.jsxs(iS,{...s,children:[f.jsxs("div",{className:"grid gap-1",children:[r&&f.jsx(oS,{children:r}),n&&f.jsx(aS,{children:n})]}),i,f.jsx(sS,{})]},e)}),f.jsx(nS,{})]})}var SL=Wx[" useId ".trim().toString()]||(()=>{}),IL=0;function dp(t){const[e,r]=_.useState(SL());return ji(()=>{t||r(n=>n??String(IL++))},[t]),t||(e?`radix-${e}`:"")}const CL=["top","right","bottom","left"],Fi=Math.min,Jt=Math.max,jd=Math.round,bu=Math.floor,en=t=>({x:t,y:t}),RL={left:"right",right:"left",bottom:"top",top:"bottom"},PL={start:"end",end:"start"};function Km(t,e,r){return Jt(t,Fi(e,r))}function Vn(t,e){return typeof t=="function"?t(e):t}function jn(t){return t.split("-")[0]}function xa(t){return t.split("-")[1]}function Vy(t){return t==="x"?"y":"x"}function jy(t){return t==="y"?"height":"width"}function Ui(t){return["top","bottom"].includes(jn(t))?"y":"x"}function Fy(t){return Vy(Ui(t))}function kL(t,e,r){r===void 0&&(r=!1);const n=xa(t),i=Fy(t),s=jy(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Fd(o)),[o,Fd(o)]}function NL(t){const e=Fd(t);return[Gm(t),e,Gm(e)]}function Gm(t){return t.replace(/start|end/g,e=>PL[e])}function DL(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function ML(t,e,r,n){const i=xa(t);let s=DL(jn(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Gm)))),s}function Fd(t){return t.replace(/left|right|bottom|top/g,e=>RL[e])}function OL(t){return{top:0,right:0,bottom:0,left:0,...t}}function lS(t){return typeof t!="number"?OL(t):{top:t,right:t,bottom:t,left:t}}function Ud(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function Uw(t,e,r){let{reference:n,floating:i}=t;const s=Ui(e),o=Fy(e),a=jy(o),c=jn(e),u=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,m=n[a]/2-i[a]/2;let y;switch(c){case"top":y={x:d,y:n.y-i.height};break;case"bottom":y={x:d,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:h};break;case"left":y={x:n.x-i.width,y:h};break;default:y={x:n.x,y:n.y}}switch(xa(e)){case"start":y[o]-=m*(r&&u?-1:1);break;case"end":y[o]+=m*(r&&u?-1:1);break}return y}const LL=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=Uw(u,n,c),m=n,y={},I=0;for(let v=0;v<a.length;v++){const{name:x,fn:w}=a[v],{x:E,y:b,data:P,reset:L}=await w({x:d,y:h,initialPlacement:n,placement:m,strategy:i,middlewareData:y,rects:u,platform:o,elements:{reference:t,floating:e}});d=E??d,h=b??h,y={...y,[x]:{...y[x],...P}},L&&I<=50&&(I++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:d,y:h}=Uw(u,m,c)),v=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:y}};async function rc(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=Vn(e,t),I=lS(y),x=a[m?h==="floating"?"reference":"floating":h],w=Ud(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),E=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),P=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},L=Ud(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:b,strategy:c}):E);return{top:(w.top-L.top+I.top)/P.y,bottom:(L.bottom-w.bottom+I.bottom)/P.y,left:(w.left-L.left+I.left)/P.x,right:(L.right-w.right+I.right)/P.x}}const VL=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Vn(t,e)||{};if(u==null)return{};const h=lS(d),m={x:r,y:n},y=Fy(i),I=jy(y),v=await o.getDimensions(u),x=y==="y",w=x?"top":"left",E=x?"bottom":"right",b=x?"clientHeight":"clientWidth",P=s.reference[I]+s.reference[y]-m[y]-s.floating[I],L=m[y]-s.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=M?M[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(M)))&&(T=a.floating[b]||s.floating[I]);const A=P/2-L/2,S=T/2-v[I]/2-1,R=Fi(h[w],S),N=Fi(h[E],S),D=R,k=T-v[I]-N,$=T/2-v[I]/2+A,X=Km(D,$,k),K=!c.arrow&&xa(i)!=null&&$!==X&&s.reference[I]/2-($<D?R:N)-v[I]/2<0,te=K?$<D?$-D:$-k:0;return{[y]:m[y]+te,data:{[y]:X,centerOffset:$-X-te,...K&&{alignmentOffset:te}},reset:K}}}),jL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:v=!0,...x}=Vn(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const w=jn(i),E=Ui(a),b=jn(a)===a,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),L=m||(b||!v?[Fd(a)]:NL(a)),M=I!=="none";!m&&M&&L.push(...ML(a,v,I,P));const T=[a,...L],A=await rc(e,x),S=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&S.push(A[w]),h){const $=kL(i,o,P);S.push(A[$[0]],A[$[1]])}if(R=[...R,{placement:i,overflows:S}],!S.every($=>$<=0)){var N,D;const $=(((N=s.flip)==null?void 0:N.index)||0)+1,X=T[$];if(X)return{data:{index:$,overflows:R},reset:{placement:X}};let K=(D=R.filter(te=>te.overflows[0]<=0).sort((te,F)=>te.overflows[1]-F.overflows[1])[0])==null?void 0:D.placement;if(!K)switch(y){case"bestFit":{var k;const te=(k=R.filter(F=>{if(M){const H=Ui(F.placement);return H===E||H==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(H=>H>0).reduce((H,J)=>H+J,0)]).sort((F,H)=>F[1]-H[1])[0])==null?void 0:k[0];te&&(K=te);break}case"initialPlacement":K=a;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function $w(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zw(t){return CL.some(e=>t[e]>=0)}const FL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Vn(t,e);switch(n){case"referenceHidden":{const s=await rc(e,{...i,elementContext:"reference"}),o=$w(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zw(o)}}}case"escaped":{const s=await rc(e,{...i,altBoundary:!0}),o=$w(s,r.floating);return{data:{escapedOffsets:o,escaped:zw(o)}}}default:return{}}}}};async function UL(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=jn(r),a=xa(r),c=Ui(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,h=Vn(e,t);let{mainAxis:m,crossAxis:y,alignmentAxis:I}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof I=="number"&&(y=a==="end"?I*-1:I),c?{x:y*d,y:m*u}:{x:m*u,y:y*d}}const $L=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:a}=e,c=await UL(e,t);return o===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},zL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:w,y:E}=x;return{x:w,y:E}}},...c}=Vn(t,e),u={x:r,y:n},d=await rc(e,c),h=Ui(jn(i)),m=Vy(h);let y=u[m],I=u[h];if(s){const x=m==="y"?"top":"left",w=m==="y"?"bottom":"right",E=y+d[x],b=y-d[w];y=Km(E,y,b)}if(o){const x=h==="y"?"top":"left",w=h==="y"?"bottom":"right",E=I+d[x],b=I-d[w];I=Km(E,I,b)}const v=a.fn({...e,[m]:y,[h]:I});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:s,[h]:o}}}}}},BL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Vn(t,e),d={x:r,y:n},h=Ui(i),m=Vy(h);let y=d[m],I=d[h];const v=Vn(a,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",P=s.reference[m]-s.floating[b]+x.mainAxis,L=s.reference[m]+s.reference[b]-x.mainAxis;y<P?y=P:y>L&&(y=L)}if(u){var w,E;const b=m==="y"?"width":"height",P=["top","left"].includes(jn(i)),L=s.reference[h]-s.floating[b]+(P&&((w=o.offset)==null?void 0:w[h])||0)+(P?0:x.crossAxis),M=s.reference[h]+s.reference[b]+(P?0:((E=o.offset)==null?void 0:E[h])||0)-(P?x.crossAxis:0);I<L?I=L:I>M&&(I=M)}return{[m]:y,[h]:I}}}},HL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Vn(t,e),d=await rc(e,u),h=jn(i),m=xa(i),y=Ui(i)==="y",{width:I,height:v}=s.floating;let x,w;h==="top"||h==="bottom"?(x=h,w=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,x=m==="end"?"top":"bottom");const E=v-d.top-d.bottom,b=I-d.left-d.right,P=Fi(v-d[x],E),L=Fi(I-d[w],b),M=!e.middlewareData.shift;let T=P,A=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(A=b),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(T=E),M&&!m){const R=Jt(d.left,0),N=Jt(d.right,0),D=Jt(d.top,0),k=Jt(d.bottom,0);y?A=I-2*(R!==0||N!==0?R+N:Jt(d.left,d.right)):T=v-2*(D!==0||k!==0?D+k:Jt(d.top,d.bottom))}await c({...e,availableWidth:A,availableHeight:T});const S=await o.getDimensions(a.floating);return I!==S.width||v!==S.height?{reset:{rects:!0}}:{}}}};function Df(){return typeof window<"u"}function ba(t){return cS(t)?(t.nodeName||"").toLowerCase():"#document"}function nr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dn(t){var e;return(e=(cS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cS(t){return Df()?t instanceof Node||t instanceof nr(t).Node:!1}function Mr(t){return Df()?t instanceof Element||t instanceof nr(t).Element:!1}function ln(t){return Df()?t instanceof HTMLElement||t instanceof nr(t).HTMLElement:!1}function Bw(t){return!Df()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof nr(t).ShadowRoot}function Ic(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Or(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function WL(t){return["table","td","th"].includes(ba(t))}function Mf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Uy(t){const e=$y(),r=Mr(t)?Or(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function qL(t){let e=$i(t);for(;ln(e)&&!oa(e);){if(Uy(e))return e;if(Mf(e))return null;e=$i(e)}return null}function $y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oa(t){return["html","body","#document"].includes(ba(t))}function Or(t){return nr(t).getComputedStyle(t)}function Of(t){return Mr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function $i(t){if(ba(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Bw(t)&&t.host||dn(t);return Bw(e)?e.host:e}function uS(t){const e=$i(t);return oa(e)?t.ownerDocument?t.ownerDocument.body:t.body:ln(e)&&Ic(e)?e:uS(e)}function nc(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=uS(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=nr(i);if(s){const a=Qm(o);return e.concat(o,o.visualViewport||[],Ic(i)?i:[],a&&r?nc(a):[])}return e.concat(i,nc(i,[],r))}function Qm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dS(t){const e=Or(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=ln(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,a=jd(r)!==s||jd(n)!==o;return a&&(r=s,n=o),{width:r,height:n,$:a}}function zy(t){return Mr(t)?t:t.contextElement}function Po(t){const e=zy(t);if(!ln(e))return en(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=dS(e);let o=(s?jd(r.width):r.width)/n,a=(s?jd(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const KL=en(0);function fS(t){const e=nr(t);return!$y()||!e.visualViewport?KL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GL(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==nr(t)?!1:e}function Os(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=zy(t);let o=en(1);e&&(n?Mr(n)&&(o=Po(n)):o=Po(t));const a=GL(s,r,n)?fS(s):en(0);let c=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const m=nr(s),y=n&&Mr(n)?nr(n):n;let I=m,v=Qm(I);for(;v&&n&&y!==I;){const x=Po(v),w=v.getBoundingClientRect(),E=Or(v),b=w.left+(v.clientLeft+parseFloat(E.paddingLeft))*x.x,P=w.top+(v.clientTop+parseFloat(E.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=b,u+=P,I=nr(v),v=Qm(I)}}return Ud({width:d,height:h,x:c,y:u})}function By(t,e){const r=Of(t).scrollLeft;return e?e.left+r:Os(dn(t)).left+r}function hS(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:By(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function QL(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=dn(n),a=e?Mf(e.floating):!1;if(n===o||a&&s)return r;let c={scrollLeft:0,scrollTop:0},u=en(1);const d=en(0),h=ln(n);if((h||!h&&!s)&&((ba(n)!=="body"||Ic(o))&&(c=Of(n)),ln(n))){const y=Os(n);u=Po(n),d.x=y.x+n.clientLeft,d.y=y.y+n.clientTop}const m=o&&!h&&!s?hS(o,c,!0):en(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function YL(t){return Array.from(t.getClientRects())}function XL(t){const e=dn(t),r=Of(t),n=t.ownerDocument.body,i=Jt(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Jt(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+By(t);const a=-r.scrollTop;return Or(n).direction==="rtl"&&(o+=Jt(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:a}}function JL(t,e){const r=nr(t),n=dn(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,a=0,c=0;if(i){s=i.width,o=i.height;const u=$y();(!u||u&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:a,y:c}}function ZL(t,e){const r=Os(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=ln(t)?Po(t):en(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:a,x:c,y:u}}function Hw(t,e,r){let n;if(e==="viewport")n=JL(t,r);else if(e==="document")n=XL(dn(t));else if(Mr(e))n=ZL(e,r);else{const i=fS(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ud(n)}function pS(t,e){const r=$i(t);return r===e||!Mr(r)||oa(r)?!1:Or(r).position==="fixed"||pS(r,e)}function e3(t,e){const r=e.get(t);if(r)return r;let n=nc(t,[],!1).filter(a=>Mr(a)&&ba(a)!=="body"),i=null;const s=Or(t).position==="fixed";let o=s?$i(t):t;for(;Mr(o)&&!oa(o);){const a=Or(o),c=Uy(o);!c&&a.position==="fixed"&&(i=null),(s?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ic(o)&&!c&&pS(t,o))?n=n.filter(d=>d!==o):i=a,o=$i(o)}return e.set(t,n),n}function t3(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?Mf(e)?[]:e3(e,this._c):[].concat(r),n],a=o[0],c=o.reduce((u,d)=>{const h=Hw(e,d,i);return u.top=Jt(h.top,u.top),u.right=Fi(h.right,u.right),u.bottom=Fi(h.bottom,u.bottom),u.left=Jt(h.left,u.left),u},Hw(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function r3(t){const{width:e,height:r}=dS(t);return{width:e,height:r}}function n3(t,e,r){const n=ln(e),i=dn(e),s=r==="fixed",o=Os(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const c=en(0);if(n||!n&&!s)if((ba(e)!=="body"||Ic(i))&&(a=Of(e)),n){const m=Os(e,!0,s,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else i&&(c.x=By(i));const u=i&&!n&&!s?hS(i,a):en(0),d=o.left+a.scrollLeft-c.x-u.x,h=o.top+a.scrollTop-c.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function fp(t){return Or(t).position==="static"}function Ww(t,e){if(!ln(t)||Or(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return dn(t)===r&&(r=r.ownerDocument.body),r}function mS(t,e){const r=nr(t);if(Mf(t))return r;if(!ln(t)){let i=$i(t);for(;i&&!oa(i);){if(Mr(i)&&!fp(i))return i;i=$i(i)}return r}let n=Ww(t,e);for(;n&&WL(n)&&fp(n);)n=Ww(n,e);return n&&oa(n)&&fp(n)&&!Uy(n)?r:n||qL(t)||r}const i3=async function(t){const e=this.getOffsetParent||mS,r=this.getDimensions,n=await r(t.floating);return{reference:n3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function s3(t){return Or(t).direction==="rtl"}const o3={convertOffsetParentRelativeRectToViewportRelativeRect:QL,getDocumentElement:dn,getClippingRect:t3,getOffsetParent:mS,getElementRects:i3,getClientRects:YL,getDimensions:r3,getScale:Po,isElement:Mr,isRTL:s3};function gS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function a3(t,e){let r=null,n;const i=dn(t);function s(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:y}=u;if(a||e(),!m||!y)return;const I=bu(h),v=bu(i.clientWidth-(d+m)),x=bu(i.clientHeight-(h+y)),w=bu(d),b={rootMargin:-I+"px "+-v+"px "+-x+"px "+-w+"px",threshold:Jt(0,Fi(1,c))||1};let P=!0;function L(M){const T=M[0].intersectionRatio;if(T!==c){if(!P)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!gS(u,t.getBoundingClientRect())&&o(),P=!1}try{r=new IntersectionObserver(L,{...b,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,b)}r.observe(t)}return o(!0),s}function l3(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=zy(t),d=i||s?[...u?nc(u):[],...nc(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",r,{passive:!0}),s&&w.addEventListener("resize",r)});const h=u&&a?a3(u,r):null;let m=-1,y=null;o&&(y=new ResizeObserver(w=>{let[E]=w;E&&E.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=y)==null||b.observe(e)})),r()}),u&&!c&&y.observe(u),y.observe(e));let I,v=c?Os(t):null;c&&x();function x(){const w=Os(t);v&&!gS(v,w)&&r(),v=w,I=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(E=>{i&&E.removeEventListener("scroll",r),s&&E.removeEventListener("resize",r)}),h==null||h(),(w=y)==null||w.disconnect(),y=null,c&&cancelAnimationFrame(I)}}const c3=$L,u3=zL,d3=jL,f3=HL,h3=FL,qw=VL,p3=BL,m3=(t,e,r)=>{const n=new Map,i={platform:o3,...r},s={...i.platform,_c:n};return LL(t,e,{...i,platform:s})};var Ju=typeof document<"u"?_.useLayoutEffect:_.useEffect;function $d(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!$d(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!$d(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function yS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Kw(t,e){const r=yS(t);return Math.round(e*r)/r}function hp(t){const e=_.useRef(t);return Ju(()=>{e.current=t}),e}function g3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,h]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,y]=_.useState(n);$d(m,n)||y(n);const[I,v]=_.useState(null),[x,w]=_.useState(null),E=_.useCallback(F=>{F!==M.current&&(M.current=F,v(F))},[]),b=_.useCallback(F=>{F!==T.current&&(T.current=F,w(F))},[]),P=s||I,L=o||x,M=_.useRef(null),T=_.useRef(null),A=_.useRef(d),S=c!=null,R=hp(c),N=hp(i),D=hp(u),k=_.useCallback(()=>{if(!M.current||!T.current)return;const F={placement:e,strategy:r,middleware:m};N.current&&(F.platform=N.current),m3(M.current,T.current,F).then(H=>{const J={...H,isPositioned:D.current!==!1};$.current&&!$d(A.current,J)&&(A.current=J,Sc.flushSync(()=>{h(J)}))})},[m,e,r,N,D]);Ju(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const $=_.useRef(!1);Ju(()=>($.current=!0,()=>{$.current=!1}),[]),Ju(()=>{if(P&&(M.current=P),L&&(T.current=L),P&&L){if(R.current)return R.current(P,L,k);k()}},[P,L,k,R,S]);const X=_.useMemo(()=>({reference:M,floating:T,setReference:E,setFloating:b}),[E,b]),K=_.useMemo(()=>({reference:P,floating:L}),[P,L]),te=_.useMemo(()=>{const F={position:r,left:0,top:0};if(!K.floating)return F;const H=Kw(K.floating,d.x),J=Kw(K.floating,d.y);return a?{...F,transform:"translate("+H+"px, "+J+"px)",...yS(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:H,top:J}},[r,a,K.floating,d.x,d.y]);return _.useMemo(()=>({...d,update:k,refs:X,elements:K,floatingStyles:te}),[d,k,X,K,te])}const y3=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?qw({element:n.current,padding:i}).fn(r):{}:n?qw({element:n,padding:i}).fn(r):{}}}},v3=(t,e)=>({...c3(t),options:[t,e]}),_3=(t,e)=>({...u3(t),options:[t,e]}),w3=(t,e)=>({...p3(t),options:[t,e]}),E3=(t,e)=>({...d3(t),options:[t,e]}),x3=(t,e)=>({...f3(t),options:[t,e]}),b3=(t,e)=>({...h3(t),options:[t,e]}),T3=(t,e)=>({...y3(t),options:[t,e]});var A3="Arrow",vS=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return f.jsx(Me.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});vS.displayName=A3;var S3=vS;function _S(t){const[e,r]=_.useState(void 0);return ji(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;r({width:o,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var wS="Popper",[ES,xS]=qs(wS),[G8,bS]=ES(wS),TS="PopperAnchor",AS=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=bS(TS,r),o=_.useRef(null),a=He(e,o);return _.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:f.jsx(Me.div,{...i,ref:a})});AS.displayName=TS;var Hy="PopperContent",[I3,C3]=ES(Hy),SS=_.forwardRef((t,e)=>{var Gt,pn,rs,$c,zc,Na;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:I,...v}=t,x=bS(Hy,r),[w,E]=_.useState(null),b=He(e,mn=>E(mn)),[P,L]=_.useState(null),M=_S(P),T=(M==null?void 0:M.width)??0,A=(M==null?void 0:M.height)??0,S=n+(s!=="center"?"-"+s:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,k={padding:R,boundary:N.filter(P3),altBoundary:D},{refs:$,floatingStyles:X,placement:K,isPositioned:te,middlewareData:F}=g3({strategy:"fixed",placement:S,whileElementsMounted:(...mn)=>l3(...mn,{animationFrame:y==="always"}),elements:{reference:x.anchor},middleware:[v3({mainAxis:i+A,alignmentAxis:o}),c&&_3({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?w3():void 0,...k}),c&&E3({...k}),x3({...k,apply:({elements:mn,rects:Da,availableWidth:ph,availableHeight:Ma})=>{const{width:Oa,height:Bc}=Da.reference,We=mn.floating.style;We.setProperty("--radix-popper-available-width",`${ph}px`),We.setProperty("--radix-popper-available-height",`${Ma}px`),We.setProperty("--radix-popper-anchor-width",`${Oa}px`),We.setProperty("--radix-popper-anchor-height",`${Bc}px`)}}),P&&T3({element:P,padding:a}),k3({arrowWidth:T,arrowHeight:A}),m&&b3({strategy:"referenceHidden",...k})]}),[H,J]=RS(K),oe=vr(I);ji(()=>{te&&(oe==null||oe())},[te,oe]);const Te=(Gt=F.arrow)==null?void 0:Gt.x,vt=(pn=F.arrow)==null?void 0:pn.y,Ze=((rs=F.arrow)==null?void 0:rs.centerOffset)!==0,[wr,Rt]=_.useState();return ji(()=>{w&&Rt(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:te?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:wr,"--radix-popper-transform-origin":[($c=F.transformOrigin)==null?void 0:$c.x,(zc=F.transformOrigin)==null?void 0:zc.y].join(" "),...((Na=F.hide)==null?void 0:Na.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(I3,{scope:r,placedSide:H,onArrowChange:L,arrowX:Te,arrowY:vt,shouldHideArrow:Ze,children:f.jsx(Me.div,{"data-side":H,"data-align":J,...v,ref:b,style:{...v.style,animation:te?void 0:"none"}})})})});SS.displayName=Hy;var IS="PopperArrow",R3={top:"bottom",right:"left",bottom:"top",left:"right"},CS=_.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=C3(IS,n),o=R3[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(S3,{...i,ref:r,style:{...i.style,display:"block"}})})});CS.displayName=IS;function P3(t){return t!==null}var k3=t=>({name:"transformOrigin",options:t,fn(e){var x,w,E;const{placement:r,rects:n,middlewareData:i}=e,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=RS(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,y=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let I="",v="";return u==="bottom"?(I=o?h:`${m}px`,v=`${-c}px`):u==="top"?(I=o?h:`${m}px`,v=`${n.floating.height+c}px`):u==="right"?(I=`${-c}px`,v=o?h:`${y}px`):u==="left"&&(I=`${n.floating.width+c}px`,v=o?h:`${y}px`),{data:{x:I,y:v}}}});function RS(t){const[e,r="center"]=t.split("-");return[e,r]}var N3=AS,D3=SS,M3=CS,[Lf,Q8]=qs("Tooltip",[xS]),Wy=xS(),PS="TooltipProvider",O3=700,Gw="tooltip.open",[L3,kS]=Lf(PS),NS=t=>{const{__scopeTooltip:e,delayDuration:r=O3,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=_.useRef(!0),a=_.useRef(!1),c=_.useRef(0);return _.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),f.jsx(L3,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:a,onPointerInTransitChange:_.useCallback(u=>{a.current=u},[]),disableHoverableContent:i,children:s})};NS.displayName=PS;var DS="Tooltip",[Y8,Vf]=Lf(DS),Ym="TooltipTrigger",V3=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Vf(Ym,r),s=kS(Ym,r),o=Wy(r),a=_.useRef(null),c=He(e,a,i.onTriggerChange),u=_.useRef(!1),d=_.useRef(!1),h=_.useCallback(()=>u.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),f.jsx(N3,{asChild:!0,...o,children:f.jsx(Me.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:we(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:we(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:we(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:we(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:we(t.onBlur,i.onClose),onClick:we(t.onClick,i.onClose)})})});V3.displayName=Ym;var j3="TooltipPortal",[X8,F3]=Lf(j3,{forceMount:void 0}),aa="TooltipContent",MS=_.forwardRef((t,e)=>{const r=F3(aa,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=Vf(aa,t.__scopeTooltip);return f.jsx(wa,{present:n||o.open,children:o.disableHoverableContent?f.jsx(OS,{side:i,...s,ref:e}):f.jsx(U3,{side:i,...s,ref:e})})}),U3=_.forwardRef((t,e)=>{const r=Vf(aa,t.__scopeTooltip),n=kS(aa,t.__scopeTooltip),i=_.useRef(null),s=He(e,i),[o,a]=_.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,m=_.useCallback(()=>{a(null),h(!1)},[h]),y=_.useCallback((I,v)=>{const x=I.currentTarget,w={x:I.clientX,y:I.clientY},E=W3(w,x.getBoundingClientRect()),b=q3(w,E),P=K3(v.getBoundingClientRect()),L=Q3([...b,...P]);a(L),h(!0)},[h]);return _.useEffect(()=>()=>m(),[m]),_.useEffect(()=>{if(c&&d){const I=x=>y(x,d),v=x=>y(x,c);return c.addEventListener("pointerleave",I),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",I),d.removeEventListener("pointerleave",v)}}},[c,d,y,m]),_.useEffect(()=>{if(o){const I=v=>{const x=v.target,w={x:v.clientX,y:v.clientY},E=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!G3(w,o);E?m():b&&(m(),u())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[c,d,o,u,m]),f.jsx(OS,{...t,ref:s})}),[$3,z3]=Lf(DS,{isInside:!1}),B3=EA("TooltipContent"),OS=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,c=Vf(aa,r),u=Wy(r),{onClose:d}=c;return _.useEffect(()=>(document.addEventListener(Gw,d),()=>document.removeEventListener(Gw,d)),[d]),_.useEffect(()=>{if(c.trigger){const h=m=>{const y=m.target;y!=null&&y.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),f.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:f.jsxs(D3,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[f.jsx(B3,{children:n}),f.jsx($3,{scope:r,isInside:!0,children:f.jsx(rO,{id:c.contentId,role:"tooltip",children:i||n})})]})})});MS.displayName=aa;var LS="TooltipArrow",H3=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=Wy(r);return z3(LS,r).isInside?null:f.jsx(M3,{...i,...n,ref:e})});H3.displayName=LS;function W3(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function q3(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function K3(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function G3(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,c=e[s].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-a)*(n-c)/(d-c)+a&&(i=!i)}return i}function Q3(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Y3(e)}function Y3(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var X3=NS,VS=MS;const J3=X3,Z3=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>f.jsx(VS,{ref:n,sideOffset:e,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));Z3.displayName=VS.displayName;const e4=()=>{};var Qw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},t4=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],o=t[r++],a=t[r++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=t[r++],o=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,y=u&63;c||(y=64,o||(m=64)),n.push(r[d],r[h],r[m],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new r4;const m=s<<2|a>>4;if(n.push(m),u!==64){const y=a<<4&240|u>>2;if(n.push(y),h!==64){const I=u<<6&192|h;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n4=function(t){const e=jS(t);return FS.encodeByteArray(e,!0)},zd=function(t){return n4(t).replace(/\./g,"")},US=function(t){try{return FS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=()=>i4().__FIREBASE_DEFAULTS__,o4=()=>{if(typeof process>"u"||typeof Qw>"u")return;const t=Qw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&US(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return e4()||s4()||o4()||a4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$S=t=>{var e,r;return(r=(e=jf())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},zS=t=>{const e=$S(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},BS=()=>{var t;return(t=jf())==null?void 0:t.config},HS=t=>{var e;return(e=jf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[zd(JSON.stringify(r)),zd(JSON.stringify(o)),""].join(".")}const kl={};function c4(){const t={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?t.emulator.push(e):t.prod.push(e);return t}function u4(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let Yw=!1;function Ky(t,e){if(typeof window>"u"||typeof document>"u"||!Zi(window.location.host)||kl[t]===e||kl[t]||Yw)return;kl[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",s=c4().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Yw=!0,o()},m}function d(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=u4(n),y=r("text"),I=document.getElementById(y)||document.createElement("span"),v=r("learnmore"),x=document.getElementById(v)||document.createElement("a"),w=r("preprendIcon"),E=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const b=m.element;a(b),d(x,v);const P=u();c(E,w),b.append(E,I,x,P),document.body.appendChild(b)}s?(I.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function f4(){var e;const t=(e=jf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function m4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g4(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y4(){return!f4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v4(){try{return typeof indexedDB=="object"}catch{return!1}}function _4(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="FirebaseError";class fn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=w4,Object.setPrototypeOf(this,fn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?E4(s,n):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fn(i,a,n)}}function E4(t,e){return t.replace(x4,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const x4=/\{\$([^}]+)}/g;function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ls(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],o=e[i];if(Xw(s)&&Xw(o)){if(!Ls(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ml(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function T4(t,e){const r=new A4(t,e);return r.subscribe.bind(r)}class A4{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");S4(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=pp),i.error===void 0&&(i.error=pp),i.complete===void 0&&(i.complete=pp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S4(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new l4;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R4(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&o.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:C4(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C4(t){return t===us?void 0:t}function R4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new I4(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const k4={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},N4=de.INFO,D4={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},M4=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=D4[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gy{constructor(e){this.name=e,this._logLevel=N4,this._logHandler=M4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const O4=(t,e)=>e.some(r=>t instanceof r);let Jw,Zw;function L4(){return Jw||(Jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V4(){return Zw||(Zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qS=new WeakMap,Xm=new WeakMap,KS=new WeakMap,mp=new WeakMap,Qy=new WeakMap;function j4(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{r(ki(t.result)),i()},o=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&qS.set(r,t)}).catch(()=>{}),Qy.set(e,t),e}function F4(t){if(Xm.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{r(),i()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xm.set(t,e)}let Jm={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Xm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ki(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function U4(t){Jm=t(Jm)}function $4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(gp(this),e,...r);return KS.set(n,e.sort?e.sort():[e]),ki(n)}:V4().includes(t)?function(...e){return t.apply(gp(this),e),ki(qS.get(this))}:function(...e){return ki(t.apply(gp(this),e))}}function z4(t){return typeof t=="function"?$4(t):(t instanceof IDBTransaction&&F4(t),O4(t,L4())?new Proxy(t,Jm):t)}function ki(t){if(t instanceof IDBRequest)return j4(t);if(mp.has(t))return mp.get(t);const e=z4(t);return e!==t&&(mp.set(t,e),Qy.set(e,t)),e}const gp=t=>Qy.get(t);function B4(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ki(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ki(o.result),c.oldVersion,c.newVersion,ki(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const H4=["get","getKey","getAll","getAllKeys","count"],W4=["put","add","delete","clear"],yp=new Map;function eE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yp.get(e))return yp.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=W4.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||H4.includes(r)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),i&&c.done]))[0]};return yp.set(e,s),s}U4(t=>({...t,get:(e,r,n)=>eE(e,r)||t.get(e,r,n),has:(e,r)=>!!eE(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(K4(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function K4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zm="@firebase/app",tE="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new Gy("@firebase/app"),G4="@firebase/app-compat",Q4="@firebase/analytics-compat",Y4="@firebase/analytics",X4="@firebase/app-check-compat",J4="@firebase/app-check",Z4="@firebase/auth",eV="@firebase/auth-compat",tV="@firebase/database",rV="@firebase/data-connect",nV="@firebase/database-compat",iV="@firebase/functions",sV="@firebase/functions-compat",oV="@firebase/installations",aV="@firebase/installations-compat",lV="@firebase/messaging",cV="@firebase/messaging-compat",uV="@firebase/performance",dV="@firebase/performance-compat",fV="@firebase/remote-config",hV="@firebase/remote-config-compat",pV="@firebase/storage",mV="@firebase/storage-compat",gV="@firebase/firestore",yV="@firebase/ai",vV="@firebase/firestore-compat",_V="firebase",wV="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="[DEFAULT]",EV={[Zm]:"fire-core",[G4]:"fire-core-compat",[Y4]:"fire-analytics",[Q4]:"fire-analytics-compat",[J4]:"fire-app-check",[X4]:"fire-app-check-compat",[Z4]:"fire-auth",[eV]:"fire-auth-compat",[tV]:"fire-rtdb",[rV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[iV]:"fire-fn",[sV]:"fire-fn-compat",[oV]:"fire-iid",[aV]:"fire-iid-compat",[lV]:"fire-fcm",[cV]:"fire-fcm-compat",[uV]:"fire-perf",[dV]:"fire-perf-compat",[fV]:"fire-rc",[hV]:"fire-rc-compat",[pV]:"fire-gcs",[mV]:"fire-gcs-compat",[gV]:"fire-fst",[vV]:"fire-fst-compat",[yV]:"fire-vertex","fire-js":"fire-js",[_V]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Map,xV=new Map,tg=new Map;function rE(t,e){try{t.container.addComponent(e)}catch(r){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Vs(t){const e=t.name;if(tg.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;tg.set(e,t);for(const r of Bd.values())rE(r,t);for(const r of xV.values())rE(r,t);return!0}function Ff(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function St(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ni=new Cc("app","Firebase",bV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ni.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=wV;function GS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:eg,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Ni.create("bad-app-name",{appName:String(i)});if(r||(r=BS()),!r)throw Ni.create("no-options");const s=Bd.get(i);if(s){if(Ls(r,s.options)&&Ls(n,s.config))return s;throw Ni.create("duplicate-app",{appName:i})}const o=new P4(i);for(const c of tg.values())o.addComponent(c);const a=new TV(r,n,o);return Bd.set(i,a),a}function Yy(t=eg){const e=Bd.get(t);if(!e&&t===eg&&BS())return GS();if(!e)throw Ni.create("no-app",{appName:t});return e}function tn(t,e,r){let n=EV[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(o.join(" "));return}Vs(new zi(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="firebase-heartbeat-database",SV=1,ic="firebase-heartbeat-store";let vp=null;function QS(){return vp||(vp=B4(AV,SV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ni.create("idb-open",{originalErrorMessage:t.message})})),vp}async function IV(t){try{const r=(await QS()).transaction(ic),n=await r.objectStore(ic).get(YS(t));return await r.done,n}catch(e){if(e instanceof fn)Fn.warn(e.message);else{const r=Ni.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fn.warn(r.message)}}}async function nE(t,e){try{const n=(await QS()).transaction(ic,"readwrite");await n.objectStore(ic).put(e,YS(t)),await n.done}catch(r){if(r instanceof fn)Fn.warn(r.message);else{const n=Ni.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Fn.warn(n.message)}}}function YS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=1024,RV=30;class PV{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new NV(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=iE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>RV){const o=DV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Fn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=iE(),{heartbeatsToSend:n,unsentEntries:i}=kV(this._heartbeatsCache.heartbeats),s=zd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Fn.warn(r),""}}}function iE(){return new Date().toISOString().substring(0,10)}function kV(t,e=CV){const r=[];let n=t.slice();for(const i of t){const s=r.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sE(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),sE(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class NV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v4()?_4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await IV(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return nE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return nE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function sE(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}function DV(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){Vs(new zi("platform-logger",e=>new q4(e),"PRIVATE")),Vs(new zi("heartbeat",e=>new PV(e),"PRIVATE")),tn(Zm,tE,t),tn(Zm,tE,"esm2020"),tn("fire-js","")}MV("");function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JS=XS,ZS=new Cc("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new Gy("@firebase/auth");function OV(t,...e){Hd.logLevel<=de.WARN&&Hd.warn(`Auth (${Ks}): ${t}`,...e)}function Zu(t,...e){Hd.logLevel<=de.ERROR&&Hd.error(`Auth (${Ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t,...e){throw Jy(t,...e)}function Pr(t,...e){return Jy(t,...e)}function Xy(t,e,r){const n={...JS(),[e]:r};return new Cc("auth","Firebase",n).create(e,{appName:t.name})}function kr(t){return Xy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LV(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&_r(t,"argument-error"),Xy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jy(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return ZS.create(t,...e)}function ee(t,e,...r){if(!t)throw Jy(e,...r)}function Cn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zu(e),new Error(e)}function Un(t,e){t||Cn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function VV(){return oE()==="http:"||oE()==="https:"}function oE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VV()||p4()||"connection"in navigator)?navigator.onLine:!0}function FV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Un(r>e,"Short delay should be less than long delay!"),this.isMobile=d4()||m4()}get(){return jV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){Un(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zV=new Pc(3e4,6e4);function Wn(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Vr(t,e,r,n,i={}){return tI(t,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const a=Rc({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return h4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Zi(t.emulatorConfig.host)&&(u.credentials="include"),eI.fetch()(await rI(t,t.config.apiHost,r,a),u)})}async function tI(t,e,r){t._canInitEmulator=!1;const n={...UV,...e};try{const i=new HV(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Tu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tu(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Tu(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Tu(t,"user-disabled",o);const d=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xy(t,d,u);_r(t,d)}}catch(i){if(i instanceof fn)throw i;_r(t,"network-request-failed",{message:String(i)})}}async function kc(t,e,r,n,i={}){const s=await Vr(t,e,r,n,i);return"mfaPendingCredential"in s&&_r(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function rI(t,e,r,n){const i=`${e}${r}?${n}`,s=t,o=s.config.emulator?Zy(t.config,i):`${t.config.apiScheme}://${i}`;return $V.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function BV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Pr(this.auth,"network-request-failed")),zV.get())})}}function Tu(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Pr(t,e,n);return i.customData._tokenResponse=r,i}function aE(t){return t!==void 0&&t.enterprise!==void 0}class WV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return BV(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qV(t,e){return Vr(t,"GET","/v2/recaptchaConfig",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(t,e){return Vr(t,"POST","/v1/accounts:delete",e)}async function Wd(t,e){return Vr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nI(t,e=!1){const r=Fe(t),n=await r.getIdToken(e),i=ev(n);ee(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Nl(_p(i.auth_time)),issuedAtTime:Nl(_p(i.iat)),expirationTime:Nl(_p(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _p(t){return Number(t)*1e3}function ev(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const i=US(r);return i?JSON.parse(i):(Zu("Failed to decode base64 JWT payload"),null)}catch(i){return Zu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lE(t){const e=ev(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof fn&&GV(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function GV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(t){var h;const e=t.auth,r=await t.getIdToken(),n=await js(t,Wd(e,{idToken:r}));ee(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?sI(i.providerUserInfo):[],o=YV(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ng(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function iI(t){const e=Fe(t);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YV(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function sI(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){const r=await tI(t,{},async()=>{const n=Rc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await rI(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:n};return t.emulatorConfig&&Zi(t.emulatorConfig.host)&&(c.credentials="include"),eI.fetch()(o,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function JV(t,e){return Vr(t,"POST","/v2/accounts:revokeToken",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const r=lE(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await XV(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,o=new ko;return n&&(ee(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Cn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ir{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new QV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ng(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await js(this,this.stsTokenManager.getToken(this.auth,e));return ee(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return nI(this,e)}reload(){return iI(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await qd(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(St(this.auth.app))return Promise.reject(kr(this.auth));const e=await this.getIdToken();return await js(this,KV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,o=r.photoURL??void 0,a=r.tenantId??void 0,c=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:y,providerData:I,stsTokenManager:v}=r;ee(h&&v,e,"internal-error");const x=ko.fromJSON(this.name,v);ee(typeof h=="string",e,"internal-error"),ni(n,e.name),ni(i,e.name),ee(typeof m=="boolean",e,"internal-error"),ee(typeof y=="boolean",e,"internal-error"),ni(s,e.name),ni(o,e.name),ni(a,e.name),ni(c,e.name),ni(u,e.name),ni(d,e.name);const w=new Ir({uid:h,auth:e,email:i,emailVerified:m,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:x,createdAt:u,lastLoginAt:d});return I&&Array.isArray(I)&&(w.providerData=I.map(E=>({...E}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,r,n=!1){const i=new ko;i.updateFromServerResponse(r);const s=new Ir({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await qd(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sI(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ko;a.updateFromIdToken(n);const c=new Ir({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ng(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;function Rn(t){Un(t instanceof Function,"Expected a class definition");let e=cE.get(t);return e?(Un(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}oI.type="NONE";const ig=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t,e,r){return`firebase:${t}:${e}:${r}`}class No{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=ed(this.userKey,i.apiKey,s),this.fullPersistenceKey=ed("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Wd(this.auth,{idToken:e}).catch(()=>{});return r?Ir._fromGetAccountInfoResponse(this.auth,r,e):null}return Ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new No(Rn(ig),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Rn(ig);const o=ed(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const m=await Wd(e,{idToken:d}).catch(()=>{});if(!m)break;h=await Ir._fromGetAccountInfoResponse(e,m,d)}else h=Ir._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new No(s,e,n):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new No(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fI(e))return"Blackberry";if(hI(e))return"Webos";if(lI(e))return"Safari";if((e.includes("chrome/")||cI(e))&&!e.includes("edge/"))return"Chrome";if(dI(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function aI(t=Ct()){return/firefox\//i.test(t)}function lI(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cI(t=Ct()){return/crios\//i.test(t)}function uI(t=Ct()){return/iemobile/i.test(t)}function dI(t=Ct()){return/android/i.test(t)}function fI(t=Ct()){return/blackberry/i.test(t)}function hI(t=Ct()){return/webos/i.test(t)}function tv(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ZV(t=Ct()){var e;return tv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function ej(){return g4()&&document.documentMode===10}function pI(t=Ct()){return tv(t)||dI(t)||hI(t)||fI(t)||/windows phone/i.test(t)||uI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e=[]){let r;switch(t){case"Browser":r=uE(Ct());break;case"Worker":r=`${uE(Ct())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Ks}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(t,e={}){return Vr(t,"GET","/v2/passwordPolicy",Wn(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=6;class ij{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??nj,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new tj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Rn(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await No.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Wd(this,{idToken:e}),n=await Ir._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(St(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=n==null?void 0:n._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(o){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(St(this.app))return Promise.reject(kr(this));const r=e?Fe(e):null;return r&&ee(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return St(this.app)?Promise.reject(kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return St(this.app)?Promise.reject(kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rj(this),r=new ij(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await JV(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Rn(e)||this._popupRedirectResolver;ee(r,this,"argument-error"),this.redirectPersistenceManager=await No.create(this,[Rn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&OV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hn(t){return Fe(t)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=T4(r=>this.observer=r)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oj(t){Uf=t}function gI(t){return Uf.loadJS(t)}function aj(){return Uf.recaptchaEnterpriseScript}function lj(){return Uf.gapiScript}function cj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class uj{constructor(){this.enterprise=new dj}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class dj{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const fj="recaptcha-enterprise",yI="NO_RECAPTCHA";class hj{constructor(e){this.type=fj,this.auth=hn(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{qV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new WV(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;aE(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(a=>{if(!r&&aE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=aj();c.length!==0&&(c+=a),gI(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function fE(t,e,r,n=!1,i=!1){const s=new hj(t);let o;if(i)o=yI;else try{o=await s.verify(r)}catch{o=await s.verify(r,!0)}const a={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return n?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Kd(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fE(t,e,r,r==="getOobCode");return n(t,o)}else return n(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await fE(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t,e){const r=Ff(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Ls(s,e??{}))return i;_r(i,"already-initialized")}return r.initialize({options:e})}function pj(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Rn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function _I(t,e,r){const n=hn(t);ee(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!(r!=null&&r.disableWarnings),s=wI(e),{host:o,port:a}=mj(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ee(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ee(Ls(u,n.config.emulator)&&Ls(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Zi(o)?(qy(`${s}//${o}${c}`),Ky("Auth",!0)):gj()}function wI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mj(t){const e=wI(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:hE(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:hE(o)}}}function hE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gj(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,r){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}}async function yj(t,e){return Vr(t,"POST","/v1/accounts:update",e)}async function vj(t,e){return Vr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){return kc(t,"POST","/v1/accounts:signInWithPassword",Wn(t,e))}async function wj(t,e){return Vr(t,"POST","/v1/accounts:sendOobCode",Wn(t,e))}async function Ej(t,e){return wj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,e))}async function bj(t,e){return kc(t,"POST","/v1/accounts:signInWithEmailLink",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends $f{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new la(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new la(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,r,"signInWithPassword",_j);case"emailLink":return xj(e,{email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Kd(e,n,"signUpPassword",vj);case"emailLink":return bj(e,{idToken:r,email:this._email,oobCode:this._password});default:_r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return kc(t,"POST","/v1/accounts:signInWithIdp",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj="http://localhost";class Bi extends $f{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):_r("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const o=new Bi(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Do(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Do(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Do(e,r)}buildRequest(){const e={requestUri:Tj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Rc(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Sj(t){const e=pl(ml(t)).link,r=e?pl(ml(e)).deep_link_id:null,n=pl(ml(t)).deep_link_id;return(n?pl(ml(n)).link:null)||n||r||e||t}class zf{constructor(e){const r=pl(ml(e)),n=r.apiKey??null,i=r.oobCode??null,s=Aj(r.mode??null);ee(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Sj(e);try{return new zf(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.providerId=Gs.PROVIDER_ID}static credential(e,r){return la._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=zf.parseLink(r);return ee(n,"argument-error"),la._fromEmailAndCode(e,n.code,n.tenantId)}}Gs.PROVIDER_ID="password";Gs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn extends Nc{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:bn.PROVIDER_ID,signInMethod:bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bn.credentialFromTaggedObject(e)}static credentialFromError(e){return bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bn.credential(e.oauthAccessToken)}catch{return null}}}bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";bn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Yr.credential(r,n)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Nc{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:Tn.PROVIDER_ID,signInMethod:Tn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tn.credentialFromTaggedObject(e)}static credentialFromError(e){return Tn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tn.credential(e.oauthAccessToken)}catch{return null}}}Tn.GITHUB_SIGN_IN_METHOD="github.com";Tn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends Nc{constructor(){super("twitter.com")}static credential(e,r){return Bi._fromParams({providerId:An.PROVIDER_ID,signInMethod:An.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return An.credentialFromTaggedObject(e)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return An.credential(r,n)}catch{return null}}}An.TWITTER_SIGN_IN_METHOD="twitter.com";An.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(t,e){return kc(t,"POST","/v1/accounts:signUp",Wn(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await Ir._fromIdTokenResponse(e,n,i),o=pE(n);return new $n({user:s,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=pE(n);return new $n({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function pE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(t){var i;if(St(t.app))return Promise.reject(kr(t));const e=hn(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new $n({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await EI(e,{returnSecureToken:!0}),n=await $n._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(n.user),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends fn{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Gd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Gd(e,r,n,i)}}function bI(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gd._fromErrorAndOperation(t,s,e,n):s})}async function Ij(t,e,r=!1){const n=await js(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return $n._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(t,e,r=!1){const{auth:n}=t;if(St(n.app))return Promise.reject(kr(n));const i="reauthenticate";try{const s=await js(t,bI(n,i,e,t),r);ee(s.idToken,n,"internal-error");const o=ev(s.idToken);ee(o,n,"internal-error");const{sub:a}=o;return ee(t.uid===a,n,"user-mismatch"),$n._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_r(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t,e,r=!1){if(St(t.app))return Promise.reject(kr(t));const n="signIn",i=await bI(t,n,e),s=await $n._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function AI(t,e){return TI(hn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t,e,r){var n;ee(((n=r.url)==null?void 0:n.length)>0,t,"invalid-continue-uri"),ee(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ee(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(ee(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(ee(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(t){const e=hn(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pj(t,e,r){const n=hn(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&Rj(n,i,r),await Kd(n,i,"getOobCode",Ej)}async function II(t,e,r){if(St(t.app))return Promise.reject(kr(t));const n=hn(t),o=await Kd(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EI).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&SI(t),c}),a=await $n._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function CI(t,e,r){return St(t.app)?Promise.reject(kr(t)):AI(Fe(t),Gs.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&SI(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kj(t,e){return Vr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Fe(t),s={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},o=await js(n,kj(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const a=n.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=n.displayName,a.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function Nj(t,e){const r=Fe(t);return St(r.auth.app)?Promise.reject(kr(r.auth)):Dj(r,e)}async function Dj(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e);const o=await js(t,yj(n,s));await t._updateTokensIfNecessary(o,!0)}function PI(t,e,r,n){return Fe(t).onIdTokenChanged(e,r,n)}function kI(t,e,r){return Fe(t).beforeAuthStateChanged(e,r)}function NI(t,e,r,n){return Fe(t).onAuthStateChanged(e,r,n)}function DI(t){return Fe(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=1e3,Oj=10;class OI extends MI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);ej()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Oj):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Mj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}OI.type="LOCAL";const LI=OI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI extends MI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}VI.type="SESSION";const nv=VI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Bf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(o).map(async u=>u(r.origin,s)),c=await Lj(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=iv("",20);i.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function jj(t){rn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function Fj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function $j(){return jI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firebaseLocalStorageDb",zj=1,Yd="firebaseLocalStorage",UI="fbase_key";class Dc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Hf(t,e){return t.transaction([Yd],e?"readwrite":"readonly").objectStore(Yd)}function Bj(){const t=indexedDB.deleteDatabase(FI);return new Dc(t).toPromise()}function sg(){const t=indexedDB.open(FI,zj);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Yd,{keyPath:UI})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Yd)?e(n):(n.close(),await Bj(),e(await sg()))})})}async function mE(t,e,r){const n=Hf(t,!0).put({[UI]:e,value:r});return new Dc(n).toPromise()}async function Hj(t,e){const r=Hf(t,!1).get(e),n=await new Dc(r).toPromise();return n===void 0?null:n.value}function gE(t,e){const r=Hf(t,!0).delete(e);return new Dc(r).toPromise()}const Wj=800,qj=3;class $I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>qj)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance($j()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Fj(),!this.activeServiceWorker)return;this.sender=new Vj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await mE(e,Qd,"1"),await gE(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Hj(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hf(i,!1).getAll();return new Dc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Wj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$I.type="LOCAL";const zI=$I;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e){return e?Rn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv extends $f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Do(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Kj(t){return TI(t.auth,new sv(t),t.bypassAuthState)}function Gj(t){const{auth:e,user:r}=t;return ee(r,e,"internal-error"),Cj(r,new sv(t),t.bypassAuthState)}async function Qj(t){const{auth:e,user:r}=t;return ee(r,e,"internal-error"),Ij(r,new sv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Qj;case"reauthViaPopup":case"reauthViaRedirect":return Gj;default:_r(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new Pc(2e3,1e4);async function WI(t,e,r){if(St(t.app))return Promise.reject(Pr(t,"operation-not-supported-in-this-environment"));const n=hn(t);LV(t,e,rv);const i=BI(n,r);return new ms(n,"signInViaPopup",e,i).executeNotNull()}class ms extends HI{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,ms.currentPopupAction&&ms.currentPopupAction.cancel(),ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yj.get())};e()}}ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="pendingRedirect",td=new Map;class Jj extends HI{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=td.get(this.auth._key());if(!e){try{const n=await Zj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}td.set(this.auth._key(),e)}return this.bypassAuthState||td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zj(t,e){const r=rF(e),n=tF(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function eF(t,e){td.set(t._key(),e)}function tF(t){return Rn(t._redirectPersistence)}function rF(t){return ed(Xj,t.config.apiKey,t.name)}async function nF(t,e,r=!1){if(St(t.app))return Promise.reject(kr(t));const n=hn(t),i=BI(n,e),o=await new Jj(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF=10*60*1e3;class sF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oF(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!qI(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Pr(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iF&&this.cachedEventUids.clear(),this.cachedEventUids.has(yE(e))}saveEventToCache(e){this.cachedEventUids.add(yE(e)),this.lastProcessedEventTime=Date.now()}}function yE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e={}){return Vr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cF=/^https?/;async function uF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await aF(t);for(const r of e)try{if(dF(r))return}catch{}_r(t,"unauthorized-domain")}function dF(t){const e=rg(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!cF.test(r))return!1;if(lF.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF=new Pc(3e4,6e4);function vE(){const t=rn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function hF(t){return new Promise((e,r)=>{var i,s,o;function n(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),r(Pr(t,"network-request-failed"))},timeout:fF.get()})}if((s=(i=rn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=rn().gapi)!=null&&o.load)n();else{const a=cj("iframefcb");return rn()[a]=()=>{gapi.load?n():r(Pr(t,"network-request-failed"))},gI(`${lj()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw rd=null,e})}let rd=null;function pF(t){return rd=rd||hF(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mF=new Pc(5e3,15e3),gF="__/auth/iframe",yF="emulator/auth/iframe",vF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_F=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wF(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Zy(e,yF):`https://${t.config.authDomain}/${gF}`,n={apiKey:e.apiKey,appName:t.name,v:Ks},i=_F.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Rc(n).slice(1)}`}async function EF(t){const e=await pF(t),r=rn().gapi;return ee(r,t,"internal-error"),e.open({where:document.body,url:wF(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vF,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=rn().setTimeout(()=>{s(o)},mF.get());function c(){rn().clearTimeout(a),i(n)}n.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bF=500,TF=600,AF="_blank",SF="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IF(t,e,r,n=bF,i=TF){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c={...xF,width:n.toString(),height:i.toString(),top:s,left:o},u=Ct().toLowerCase();r&&(a=cI(u)?AF:r),aI(u)&&(e=e||SF,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[y,I])=>`${m}${y}=${I},`,"");if(ZV(u)&&a!=="_self")return CF(e||"",a),new _E(null);const h=window.open(e||"",a,d);ee(h,t,"popup-blocked");try{h.focus()}catch{}return new _E(h)}function CF(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="__/auth/handler",PF="emulator/auth/handler",kF=encodeURIComponent("fac");async function wE(t,e,r,n,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Ks,eventId:i};if(e instanceof rv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Nc){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${kF}=${encodeURIComponent(c)}`:"";return`${NF(t)}?${Rc(a).slice(1)}${u}`}function NF({config:t}){return t.emulator?Zy(t,PF):`https://${t.authDomain}/${RF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="webStorageSupport";class DF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nv,this._completeRedirectFn=nF,this._overrideRedirectResult=eF}async _openPopup(e,r,n,i){var o;Un((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await wE(e,r,n,rg(),i);return IF(e,s,iv())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await wE(e,r,n,rg(),i);return jj(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Un(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await EF(e),n=new sF(e);return r.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(wp,{type:wp},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[wp];s!==void 0&&r(!!s),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=uF(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return pI()||lI()||tv()}}const KI=DF;var EE="@firebase/auth",xE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LF(t){Vs(new zi("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mI(t)},u=new sj(n,i,s,c);return pj(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Vs(new zi("auth-internal",e=>{const r=hn(e.getProvider("auth").getImmediate());return(n=>new MF(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(EE,xE,OF(t)),tn(EE,xE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=5*60,jF=HS("authIdTokenMaxAge")||VF;let bE=null;const FF=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>jF)return;const i=r==null?void 0:r.token;bE!==i&&(bE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GI(t=Yy()){const e=Ff(t,"auth");if(e.isInitialized())return e.getImmediate();const r=vI(t,{popupRedirectResolver:KI,persistence:[zI,LI,nv]}),n=HS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=FF(s.toString());kI(r,o,()=>o(r.currentUser)),PI(r,a=>o(a))}}const i=$S("auth");return i&&_I(r,`http://${i}`),r}function UF(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}oj({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=Pr("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",UF().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LF("Browser");const TE=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:zf,AuthCredential:$f,EmailAuthCredential:la,EmailAuthProvider:Gs,FacebookAuthProvider:bn,GithubAuthProvider:Tn,GoogleAuthProvider:Yr,OAuthCredential:Bi,TwitterAuthProvider:An,beforeAuthStateChanged:kI,browserLocalPersistence:LI,browserPopupRedirectResolver:KI,browserSessionPersistence:nv,connectAuthEmulator:_I,createUserWithEmailAndPassword:II,getAuth:GI,getIdTokenResult:nI,inMemoryPersistence:ig,indexedDBLocalPersistence:zI,initializeAuth:vI,onAuthStateChanged:NI,onIdTokenChanged:PI,prodErrorMap:JS,reload:iI,sendPasswordResetEmail:Pj,signInAnonymously:xI,signInWithCredential:AI,signInWithEmailAndPassword:CI,signInWithPopup:WI,signOut:DI,updateEmail:Nj,updateProfile:RI},Symbol.toStringTag,{value:"Module"}));var $F="firebase",zF="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn($F,zF,"app");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,QI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,A){function S(){}S.prototype=A.prototype,T.F=A.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(R,N,D){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return A.prototype[N].apply(R,k)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,A,S){S||(S=0);const R=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)R[N]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(N=0;N<16;++N)R[N]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=T.g[0],S=T.g[1],N=T.g[2];let D=T.g[3],k;k=A+(D^S&(N^D))+R[0]+3614090360&4294967295,A=S+(k<<7&4294967295|k>>>25),k=D+(N^A&(S^N))+R[1]+3905402710&4294967295,D=A+(k<<12&4294967295|k>>>20),k=N+(S^D&(A^S))+R[2]+606105819&4294967295,N=D+(k<<17&4294967295|k>>>15),k=S+(A^N&(D^A))+R[3]+3250441966&4294967295,S=N+(k<<22&4294967295|k>>>10),k=A+(D^S&(N^D))+R[4]+4118548399&4294967295,A=S+(k<<7&4294967295|k>>>25),k=D+(N^A&(S^N))+R[5]+1200080426&4294967295,D=A+(k<<12&4294967295|k>>>20),k=N+(S^D&(A^S))+R[6]+2821735955&4294967295,N=D+(k<<17&4294967295|k>>>15),k=S+(A^N&(D^A))+R[7]+4249261313&4294967295,S=N+(k<<22&4294967295|k>>>10),k=A+(D^S&(N^D))+R[8]+1770035416&4294967295,A=S+(k<<7&4294967295|k>>>25),k=D+(N^A&(S^N))+R[9]+2336552879&4294967295,D=A+(k<<12&4294967295|k>>>20),k=N+(S^D&(A^S))+R[10]+4294925233&4294967295,N=D+(k<<17&4294967295|k>>>15),k=S+(A^N&(D^A))+R[11]+2304563134&4294967295,S=N+(k<<22&4294967295|k>>>10),k=A+(D^S&(N^D))+R[12]+1804603682&4294967295,A=S+(k<<7&4294967295|k>>>25),k=D+(N^A&(S^N))+R[13]+4254626195&4294967295,D=A+(k<<12&4294967295|k>>>20),k=N+(S^D&(A^S))+R[14]+2792965006&4294967295,N=D+(k<<17&4294967295|k>>>15),k=S+(A^N&(D^A))+R[15]+1236535329&4294967295,S=N+(k<<22&4294967295|k>>>10),k=A+(N^D&(S^N))+R[1]+4129170786&4294967295,A=S+(k<<5&4294967295|k>>>27),k=D+(S^N&(A^S))+R[6]+3225465664&4294967295,D=A+(k<<9&4294967295|k>>>23),k=N+(A^S&(D^A))+R[11]+643717713&4294967295,N=D+(k<<14&4294967295|k>>>18),k=S+(D^A&(N^D))+R[0]+3921069994&4294967295,S=N+(k<<20&4294967295|k>>>12),k=A+(N^D&(S^N))+R[5]+3593408605&4294967295,A=S+(k<<5&4294967295|k>>>27),k=D+(S^N&(A^S))+R[10]+38016083&4294967295,D=A+(k<<9&4294967295|k>>>23),k=N+(A^S&(D^A))+R[15]+3634488961&4294967295,N=D+(k<<14&4294967295|k>>>18),k=S+(D^A&(N^D))+R[4]+3889429448&4294967295,S=N+(k<<20&4294967295|k>>>12),k=A+(N^D&(S^N))+R[9]+568446438&4294967295,A=S+(k<<5&4294967295|k>>>27),k=D+(S^N&(A^S))+R[14]+3275163606&4294967295,D=A+(k<<9&4294967295|k>>>23),k=N+(A^S&(D^A))+R[3]+4107603335&4294967295,N=D+(k<<14&4294967295|k>>>18),k=S+(D^A&(N^D))+R[8]+1163531501&4294967295,S=N+(k<<20&4294967295|k>>>12),k=A+(N^D&(S^N))+R[13]+2850285829&4294967295,A=S+(k<<5&4294967295|k>>>27),k=D+(S^N&(A^S))+R[2]+4243563512&4294967295,D=A+(k<<9&4294967295|k>>>23),k=N+(A^S&(D^A))+R[7]+1735328473&4294967295,N=D+(k<<14&4294967295|k>>>18),k=S+(D^A&(N^D))+R[12]+2368359562&4294967295,S=N+(k<<20&4294967295|k>>>12),k=A+(S^N^D)+R[5]+4294588738&4294967295,A=S+(k<<4&4294967295|k>>>28),k=D+(A^S^N)+R[8]+2272392833&4294967295,D=A+(k<<11&4294967295|k>>>21),k=N+(D^A^S)+R[11]+1839030562&4294967295,N=D+(k<<16&4294967295|k>>>16),k=S+(N^D^A)+R[14]+4259657740&4294967295,S=N+(k<<23&4294967295|k>>>9),k=A+(S^N^D)+R[1]+2763975236&4294967295,A=S+(k<<4&4294967295|k>>>28),k=D+(A^S^N)+R[4]+1272893353&4294967295,D=A+(k<<11&4294967295|k>>>21),k=N+(D^A^S)+R[7]+4139469664&4294967295,N=D+(k<<16&4294967295|k>>>16),k=S+(N^D^A)+R[10]+3200236656&4294967295,S=N+(k<<23&4294967295|k>>>9),k=A+(S^N^D)+R[13]+681279174&4294967295,A=S+(k<<4&4294967295|k>>>28),k=D+(A^S^N)+R[0]+3936430074&4294967295,D=A+(k<<11&4294967295|k>>>21),k=N+(D^A^S)+R[3]+3572445317&4294967295,N=D+(k<<16&4294967295|k>>>16),k=S+(N^D^A)+R[6]+76029189&4294967295,S=N+(k<<23&4294967295|k>>>9),k=A+(S^N^D)+R[9]+3654602809&4294967295,A=S+(k<<4&4294967295|k>>>28),k=D+(A^S^N)+R[12]+3873151461&4294967295,D=A+(k<<11&4294967295|k>>>21),k=N+(D^A^S)+R[15]+530742520&4294967295,N=D+(k<<16&4294967295|k>>>16),k=S+(N^D^A)+R[2]+3299628645&4294967295,S=N+(k<<23&4294967295|k>>>9),k=A+(N^(S|~D))+R[0]+4096336452&4294967295,A=S+(k<<6&4294967295|k>>>26),k=D+(S^(A|~N))+R[7]+1126891415&4294967295,D=A+(k<<10&4294967295|k>>>22),k=N+(A^(D|~S))+R[14]+2878612391&4294967295,N=D+(k<<15&4294967295|k>>>17),k=S+(D^(N|~A))+R[5]+4237533241&4294967295,S=N+(k<<21&4294967295|k>>>11),k=A+(N^(S|~D))+R[12]+1700485571&4294967295,A=S+(k<<6&4294967295|k>>>26),k=D+(S^(A|~N))+R[3]+2399980690&4294967295,D=A+(k<<10&4294967295|k>>>22),k=N+(A^(D|~S))+R[10]+4293915773&4294967295,N=D+(k<<15&4294967295|k>>>17),k=S+(D^(N|~A))+R[1]+2240044497&4294967295,S=N+(k<<21&4294967295|k>>>11),k=A+(N^(S|~D))+R[8]+1873313359&4294967295,A=S+(k<<6&4294967295|k>>>26),k=D+(S^(A|~N))+R[15]+4264355552&4294967295,D=A+(k<<10&4294967295|k>>>22),k=N+(A^(D|~S))+R[6]+2734768916&4294967295,N=D+(k<<15&4294967295|k>>>17),k=S+(D^(N|~A))+R[13]+1309151649&4294967295,S=N+(k<<21&4294967295|k>>>11),k=A+(N^(S|~D))+R[4]+4149444226&4294967295,A=S+(k<<6&4294967295|k>>>26),k=D+(S^(A|~N))+R[11]+3174756917&4294967295,D=A+(k<<10&4294967295|k>>>22),k=N+(A^(D|~S))+R[2]+718787259&4294967295,N=D+(k<<15&4294967295|k>>>17),k=S+(D^(N|~A))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(N+(k<<21&4294967295|k>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+D&4294967295}n.prototype.v=function(T,A){A===void 0&&(A=T.length);const S=A-this.blockSize,R=this.C;let N=this.h,D=0;for(;D<A;){if(N==0)for(;D<=S;)i(this,T,D),D+=this.blockSize;if(typeof T=="string"){for(;D<A;)if(R[N++]=T.charCodeAt(D++),N==this.blockSize){i(this,R),N=0;break}}else for(;D<A;)if(R[N++]=T[D++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=A},n.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;A=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=A&255,A/=256;for(this.v(T),T=Array(16),A=0,S=0;S<4;++S)for(let R=0;R<32;R+=8)T[A++]=this.g[S]>>>R&255;return T};function s(T,A){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=A(T)}function o(T,A){this.h=A;const S=[];let R=!0;for(let N=T.length-1;N>=0;N--){const D=T[N]|0;R&&D==A||(S[N]=D,R=!1)}this.g=S}var a={};function c(T){return-128<=T&&T<128?s(T,function(A){return new o([A|0],A<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(T<0)return x(u(-T));const A=[];let S=1;for(let R=0;T>=S;R++)A[R]=T/S|0,S*=4294967296;return new o(A,0)}function d(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return x(d(T.substring(1),A));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=u(Math.pow(A,8));let R=h;for(let D=0;D<T.length;D+=8){var N=Math.min(8,T.length-D);const k=parseInt(T.substring(D,D+N),A);N<8?(N=u(Math.pow(A,N)),R=R.j(N).add(u(k))):(R=R.j(S),R=R.add(u(k)))}return R}var h=c(0),m=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();let T=0,A=1;for(let S=0;S<this.g.length;S++){const R=this.i(S);T+=(R>=0?R:4294967296+R)*A,A*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(v(this))return"-"+x(this).toString(T);const A=u(Math.pow(T,6));var S=this;let R="";for(;;){const N=P(S,A).g;S=w(S,N.j(A));let D=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=N,I(S))return D+R;for(;D.length<6;)D="0"+D;R=D+R}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(let A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function v(T){return T.h==-1}t.l=function(T){return T=w(this,T),v(T)?-1:I(T)?0:1};function x(T){const A=T.g.length,S=[];for(let R=0;R<A;R++)S[R]=~T.g[R];return new o(S,~T.h).add(m)}t.abs=function(){return v(this)?x(this):this},t.add=function(T){const A=Math.max(this.g.length,T.g.length),S=[];let R=0;for(let N=0;N<=A;N++){let D=R+(this.i(N)&65535)+(T.i(N)&65535),k=(D>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);R=k>>>16,D&=65535,k&=65535,S[N]=k<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function w(T,A){return T.add(x(A))}t.j=function(T){if(I(this)||I(T))return h;if(v(this))return v(T)?x(this).j(x(T)):x(x(this).j(T));if(v(T))return x(this.j(x(T)));if(this.l(y)<0&&T.l(y)<0)return u(this.m()*T.m());const A=this.g.length+T.g.length,S=[];for(var R=0;R<2*A;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(let N=0;N<T.g.length;N++){const D=this.i(R)>>>16,k=this.i(R)&65535,$=T.i(N)>>>16,X=T.i(N)&65535;S[2*R+2*N]+=k*X,E(S,2*R+2*N),S[2*R+2*N+1]+=D*X,E(S,2*R+2*N+1),S[2*R+2*N+1]+=k*$,E(S,2*R+2*N+1),S[2*R+2*N+2]+=D*$,E(S,2*R+2*N+2)}for(T=0;T<A;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=A;T<2*A;T++)S[T]=0;return new o(S,0)};function E(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function b(T,A){this.g=T,this.h=A}function P(T,A){if(I(A))throw Error("division by zero");if(I(T))return new b(h,h);if(v(T))return A=P(x(T),A),new b(x(A.g),x(A.h));if(v(A))return A=P(T,x(A)),new b(x(A.g),A.h);if(T.g.length>30){if(v(T)||v(A))throw Error("slowDivide_ only works with positive integers.");for(var S=m,R=A;R.l(T)<=0;)S=L(S),R=L(R);var N=M(S,1),D=M(R,1);for(R=M(R,2),S=M(S,2);!I(R);){var k=D.add(R);k.l(T)<=0&&(N=N.add(S),D=k),R=M(R,1),S=M(S,1)}return A=w(T,N.j(A)),new b(N,A)}for(N=h;T.l(A)>=0;){for(S=Math.max(1,Math.floor(T.m()/A.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),D=u(S),k=D.j(A);v(k)||k.l(T)>0;)S-=R,D=u(S),k=D.j(A);I(D)&&(D=m),N=N.add(D),T=w(T,k)}return new b(N,T)}t.B=function(T){return P(this,T).h},t.and=function(T){const A=Math.max(this.g.length,T.g.length),S=[];for(let R=0;R<A;R++)S[R]=this.i(R)&T.i(R);return new o(S,this.h&T.h)},t.or=function(T){const A=Math.max(this.g.length,T.g.length),S=[];for(let R=0;R<A;R++)S[R]=this.i(R)|T.i(R);return new o(S,this.h|T.h)},t.xor=function(T){const A=Math.max(this.g.length,T.g.length),S=[];for(let R=0;R<A;R++)S[R]=this.i(R)^T.i(R);return new o(S,this.h^T.h)};function L(T){const A=T.g.length+1,S=[];for(let R=0;R<A;R++)S[R]=T.i(R)<<1|T.i(R-1)>>>31;return new o(S,T.h)}function M(T,A){const S=A>>5;A%=32;const R=T.g.length-S,N=[];for(let D=0;D<R;D++)N[D]=A>0?T.i(D+S)>>>A|T.i(D+S+1)<<32-A:T.i(D+S);return new o(N,T.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,QI=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,Di=o}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var Au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YI,gl,XI,nd,og,JI,ZI,eC;(function(){var t,e=Object.defineProperty;function r(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Au=="object"&&Au];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var n=r(this);function i(l,p){if(p)e:{var g=n;l=l.split(".");for(var C=0;C<l.length-1;C++){var V=l[C];if(!(V in g))break e;g=g[V]}l=l[l.length-1],C=g[l],p=p(C),p!=C&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(p){var g=[],C;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&g.push([C,p[C]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,g){return l.call.apply(l.bind,arguments)}function u(l,p,g){return u=c,u.apply(null,arguments)}function d(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function h(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(C,V,j){for(var W=Array(arguments.length-2),le=2;le<arguments.length;le++)W[le-2]=arguments[le];return p.prototype[V].apply(C,W)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const p=l.length;if(p>0){const g=Array(p);for(let C=0;C<p;C++)g[C]=l[C];return g}return[]}function I(l,p){for(let C=1;C<arguments.length;C++){const V=arguments[C];var g=typeof V;if(g=g!="object"?g:V?Array.isArray(V)?"array":g:"null",g=="array"||g=="object"&&typeof V.length=="number"){g=l.length||0;const j=V.length||0;l.length=g+j;for(let W=0;W<j;W++)l[g+W]=V[W]}else l.push(V)}}class v{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function x(l){o.setTimeout(()=>{throw l},0)}function w(){var l=T;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class E{constructor(){this.h=this.g=null}add(p,g){const C=b.get();C.set(p,g),this.h?this.h.next=C:this.g=C,this.h=C}}var b=new v(()=>new P,l=>l.reset());class P{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,M=!1,T=new E,A=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(S)}};function S(){for(var l;l=w();){try{l.h.call(l.g)}catch(g){x(g)}var p=b;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}M=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return l}();function k(l){return/^[\s\xa0]*$/.test(l)}function $(l,p){N.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}h($,N),$.prototype.init=function(l,p){const g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),K=0;function te(l,p,g,C,V){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!C,this.ha=V,this.key=++K,this.da=this.fa=!1}function F(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function H(l,p,g){for(const C in l)p.call(g,l[C],C,l)}function J(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function oe(l){const p={};for(const g in l)p[g]=l[g];return p}const Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(l,p){let g,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(g in C)l[g]=C[g];for(let j=0;j<Te.length;j++)g=Te[j],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function Ze(l){this.src=l,this.g={},this.h=0}Ze.prototype.add=function(l,p,g,C,V){const j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);const W=Rt(l,p,C,V);return W>-1?(p=l[W],g||(p.fa=!1)):(p=new te(p,this.src,j,!!C,V),p.fa=g,l.push(p)),p};function wr(l,p){const g=p.type;if(g in l.g){var C=l.g[g],V=Array.prototype.indexOf.call(C,p,void 0),j;(j=V>=0)&&Array.prototype.splice.call(C,V,1),j&&(F(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Rt(l,p,g,C){for(let V=0;V<l.length;++V){const j=l[V];if(!j.da&&j.listener==p&&j.capture==!!g&&j.ha==C)return V}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),pn={};function rs(l,p,g,C,V){if(Array.isArray(p)){for(let j=0;j<p.length;j++)rs(l,p[j],g,C,V);return null}return g=Bc(g),l&&l[X]?l.J(p,g,a(C)?!!C.capture:!!C,V):$c(l,p,g,!1,C,V)}function $c(l,p,g,C,V,j){if(!p)throw Error("Invalid event type");const W=a(V)?!!V.capture:!!V;let le=Ma(l);if(le||(l[Gt]=le=new Ze(l)),g=le.add(p,g,C,W,j),g.proxy)return g;if(C=zc(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)D||(V=W),V===void 0&&(V=!1),l.addEventListener(p.toString(),C,V);else if(l.attachEvent)l.attachEvent(Da(p.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function zc(){function l(g){return p.call(l.src,l.listener,g)}const p=ph;return l}function Na(l,p,g,C,V){if(Array.isArray(p))for(var j=0;j<p.length;j++)Na(l,p[j],g,C,V);else C=a(C)?!!C.capture:!!C,g=Bc(g),l&&l[X]?(l=l.i,j=String(p).toString(),j in l.g&&(p=l.g[j],g=Rt(p,g,C,V),g>-1&&(F(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[j],l.h--)))):l&&(l=Ma(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Rt(p,g,C,V)),(g=l>-1?p[l]:null)&&mn(g))}function mn(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[X])wr(p.i,l);else{var g=l.type,C=l.proxy;p.removeEventListener?p.removeEventListener(g,C,l.capture):p.detachEvent?p.detachEvent(Da(g),C):p.addListener&&p.removeListener&&p.removeListener(C),(g=Ma(p))?(wr(g,l),g.h==0&&(g.src=null,p[Gt]=null)):F(l)}}}function Da(l){return l in pn?pn[l]:pn[l]="on"+l}function ph(l,p){if(l.da)l=!0;else{p=new $(p,this);const g=l.listener,C=l.ha||l.src;l.fa&&mn(l),l=g.call(C,p)}return l}function Ma(l){return l=l[Gt],l instanceof Ze?l:null}var Oa="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bc(l){return typeof l=="function"?l:(l[Oa]||(l[Oa]=function(p){return l.handleEvent(p)}),l[Oa])}function We(){R.call(this),this.i=new Ze(this),this.M=this,this.G=null}h(We,R),We.prototype[X]=!0,We.prototype.removeEventListener=function(l,p,g,C){Na(this,l,p,g,C)};function Pt(l,p){var g,C=l.G;if(C)for(g=[];C;C=C.G)g.push(C);if(l=l.M,C=p.type||p,typeof p=="string")p=new N(p,l);else if(p instanceof N)p.target=p.target||l;else{var V=p;p=new N(C,l),vt(p,V)}V=!0;let j,W;if(g)for(W=g.length-1;W>=0;W--)j=p.g=g[W],V=Hc(j,C,!0,p)&&V;if(j=p.g=l,V=Hc(j,C,!0,p)&&V,V=Hc(j,C,!1,p)&&V,g)for(W=0;W<g.length;W++)j=p.g=g[W],V=Hc(j,C,!1,p)&&V}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let C=0;C<g.length;C++)F(g[C]);delete l.g[p],l.h--}}this.G=null},We.prototype.J=function(l,p,g,C){return this.i.add(String(l),p,!1,g,C)},We.prototype.K=function(l,p,g,C){return this.i.add(String(l),p,!0,g,C)};function Hc(l,p,g,C){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let V=!0;for(let j=0;j<p.length;++j){const W=p[j];if(W&&!W.da&&W.capture==g){const le=W.listener,et=W.ha||W.src;W.fa&&wr(l.i,W),V=le.call(et,C)!==!1&&V}}return V&&!C.defaultPrevented}function wk(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function a0(l){l.g=wk(()=>{l.g=null,l.i&&(l.i=!1,a0(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class Ek extends R{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:a0(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(l){R.call(this),this.h=l,this.g={}}h(La,R);var l0=[];function c0(l){H(l.g,function(p,g){this.g.hasOwnProperty(g)&&mn(p)},l),l.g={}}La.prototype.N=function(){La.Z.N.call(this),c0(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mh=o.JSON.stringify,xk=o.JSON.parse,bk=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function u0(){}function d0(){}var Va={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gh(){N.call(this,"d")}h(gh,N);function yh(){N.call(this,"c")}h(yh,N);var ns={},f0=null;function Wc(){return f0=f0||new We}ns.Ia="serverreachability";function h0(l){N.call(this,ns.Ia,l)}h(h0,N);function ja(l){const p=Wc();Pt(p,new h0(p))}ns.STAT_EVENT="statevent";function p0(l,p){N.call(this,ns.STAT_EVENT,l),this.stat=p}h(p0,N);function kt(l){const p=Wc();Pt(p,new p0(p,l))}ns.Ja="timingevent";function m0(l,p){N.call(this,ns.Ja,l),this.size=p}h(m0,N);function Fa(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function Ua(){this.g=!0}Ua.prototype.ua=function(){this.g=!1};function Tk(l,p,g,C,V,j){l.info(function(){if(l.g)if(j){var W="",le=j.split("&");for(let Ie=0;Ie<le.length;Ie++){var et=le[Ie].split("=");if(et.length>1){const st=et[0];et=et[1];const $r=st.split("_");W=$r.length>=2&&$r[1]=="type"?W+(st+"="+et+"&"):W+(st+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+p+`
`+g+`
`+W})}function Ak(l,p,g,C,V,j,W){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+p+`
`+g+`
`+j+" "+W})}function Js(l,p,g,C){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Ik(l,g)+(C?" "+C:"")})}function Sk(l,p){l.info(function(){return"TIMEOUT: "+p})}Ua.prototype.info=function(){};function Ik(l,p){if(!l.g)return p;if(!p)return null;try{const j=JSON.parse(p);if(j){for(l=0;l<j.length;l++)if(Array.isArray(j[l])){var g=j[l];if(!(g.length<2)){var C=g[1];if(Array.isArray(C)&&!(C.length<1)){var V=C[0];if(V!="noop"&&V!="stop"&&V!="close")for(let W=1;W<C.length;W++)C[W]=""}}}}return mh(j)}catch{return p}}var qc={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},g0={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},y0;function vh(){}h(vh,u0),vh.prototype.g=function(){return new XMLHttpRequest},y0=new vh;function $a(l){return encodeURIComponent(String(l))}function Ck(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function Gn(l,p,g,C){this.j=l,this.i=p,this.l=g,this.S=C||1,this.V=new La(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new v0}function v0(){this.i=null,this.g="",this.h=!1}var _0={},_h={};function wh(l,p,g){l.M=1,l.A=Gc(Ur(p)),l.u=g,l.R=!0,w0(l,null)}function w0(l,p){l.F=Date.now(),Kc(l),l.B=Ur(l.A);var g=l.B,C=l.S;Array.isArray(C)||(C=[String(C)]),D0(g.i,"t",C),l.C=0,g=l.j.L,l.h=new v0,l.g=X0(l.j,g?p:null,!l.u),l.P>0&&(l.O=new Ek(u(l.Y,l,l.g),l.P)),p=l.V,g=l.g,C=l.ba;var V="readystatechange";Array.isArray(V)||(V&&(l0[0]=V.toString()),V=l0);for(let j=0;j<V.length;j++){const W=rs(g,V[j],C||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=l.J?oe(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),ja(),Tk(l.i,l.v,l.B,l.l,l.S,l.u)}Gn.prototype.ba=function(l){l=l.target;const p=this.O;p&&Xn(l)==3?p.j():this.Y(l)},Gn.prototype.Y=function(l){try{if(l==this.g)e:{const le=Xn(this.g),et=this.g.ya(),Ie=this.g.ca();if(!(le<3)&&(le!=3||this.g&&(this.h.h||this.g.la()||U0(this.g)))){this.K||le!=4||et==7||(et==8||Ie<=0?ja(3):ja(2)),Eh(this);var p=this.g.ca();this.X=p;var g=Rk(this);if(this.o=p==200,Ak(this.i,this.v,this.B,this.l,this.S,le,p),this.o){if(this.U&&!this.L){t:{if(this.g){var C,V=this.g;if((C=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(C)){var j=C;break t}}j=null}if(l=j)Js(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xh(this,l);else{this.o=!1,this.m=3,kt(12),is(this),za(this);break e}}if(this.R){l=!0;let st;for(;!this.K&&this.C<g.length;)if(st=Pk(this,g),st==_h){le==4&&(this.m=4,kt(14),l=!1),Js(this.i,this.l,null,"[Incomplete Response]");break}else if(st==_0){this.m=4,kt(15),Js(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Js(this.i,this.l,st,null),xh(this,st);if(E0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),le!=4||g.length!=0||this.h.h||(this.m=1,kt(16),l=!1),this.o=this.o&&l,!l)Js(this.i,this.l,g,"[Invalid Chunked Response]"),is(this),za(this);else if(g.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Ph(W),W.P=!0,kt(11))}}else Js(this.i,this.l,g,null),xh(this,g);le==4&&is(this),this.o&&!this.K&&(le==4?K0(this.j,this):(this.o=!1,Kc(this)))}else Hk(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),is(this),za(this)}}}catch{}finally{}};function Rk(l){if(!E0(l))return l.g.la();const p=U0(l.g);if(p==="")return"";let g="";const C=p.length,V=Xn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return is(l),za(l),"";l.h.i=new o.TextDecoder}for(let j=0;j<C;j++)l.h.h=!0,g+=l.h.i.decode(p[j],{stream:!(V&&j==C-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function E0(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Pk(l,p){var g=l.C,C=p.indexOf(`
`,g);return C==-1?_h:(g=Number(p.substring(g,C)),isNaN(g)?_0:(C+=1,C+g>p.length?_h:(p=p.slice(C,C+g),l.C=C+g,p)))}Gn.prototype.cancel=function(){this.K=!0,is(this)};function Kc(l){l.T=Date.now()+l.H,x0(l,l.H)}function x0(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Fa(u(l.aa,l),p)}function Eh(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Gn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Sk(this.i,this.B),this.M!=2&&(ja(),kt(17)),is(this),this.m=2,za(this)):x0(this,this.T-l)};function za(l){l.j.I==0||l.K||K0(l.j,l)}function is(l){Eh(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,c0(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function xh(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||bh(g.h,l))){if(!l.L&&bh(g.h,l)&&g.I==3){try{var C=g.Ba.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Zc(g),Xc(g);else break e;Rh(g),kt(18)}}else g.xa=V[1],0<g.xa-g.K&&V[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Fa(u(g.Va,g),6e3));A0(g.h)<=1&&g.ta&&(g.ta=void 0)}else os(g,11)}else if((l.L||g.g==l)&&Zc(g),!k(p))for(V=g.Ba.g.parse(p),p=0;p<V.length;p++){let Ie=V[p];const st=Ie[0];if(!(st<=g.K))if(g.K=st,Ie=Ie[1],g.I==2)if(Ie[0]=="c"){g.M=Ie[1],g.ba=Ie[2];const $r=Ie[3];$r!=null&&(g.ka=$r,g.j.info("VER="+g.ka));const as=Ie[4];as!=null&&(g.za=as,g.j.info("SVER="+g.za));const Jn=Ie[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(C=1.5*Jn,g.O=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const Zn=l.g;if(Zn){const tu=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var j=C.h;j.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Th(j,j.h),j.h=null))}if(C.G){const kh=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;kh&&(C.wa=kh,Pe(C.J,C.G,kh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),C=g;var W=l;if(C.na=Y0(C,C.L?C.ba:null,C.W),W.L){S0(C.h,W);var le=W,et=C.O;et&&(le.H=et),le.D&&(Eh(le),Kc(le)),C.g=W}else W0(C);g.i.length>0&&Jc(g)}else Ie[0]!="stop"&&Ie[0]!="close"||os(g,7);else g.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?os(g,7):Ch(g):Ie[0]!="noop"&&g.l&&g.l.qa(Ie),g.A=0)}}ja(4)}catch{}}var kk=class{constructor(l,p){this.g=l,this.map=p}};function b0(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function T0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function A0(l){return l.h?1:l.g?l.g.size:0}function bh(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function Th(l,p){l.g?l.g.add(p):l.h=p}function S0(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}b0.prototype.cancel=function(){if(this.i=I0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function I0(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return y(l.i)}var C0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nk(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const C=l[g].indexOf("=");let V,j=null;C>=0?(V=l[g].substring(0,C),j=l[g].substring(C+1)):V=l[g],p(V,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Qn(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Qn?(this.l=l.l,Ba(this,l.j),this.o=l.o,this.g=l.g,Ha(this,l.u),this.h=l.h,Ah(this,M0(l.i)),this.m=l.m):l&&(p=String(l).match(C0))?(this.l=!1,Ba(this,p[1]||"",!0),this.o=Wa(p[2]||""),this.g=Wa(p[3]||"",!0),Ha(this,p[4]),this.h=Wa(p[5]||"",!0),Ah(this,p[6]||"",!0),this.m=Wa(p[7]||"")):(this.l=!1,this.i=new Ka(null,this.l))}Qn.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(qa(p,R0,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(qa(p,R0,!0),"@"),l.push($a(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(qa(g,g.charAt(0)=="/"?Ok:Mk,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",qa(g,Vk)),l.join("")},Qn.prototype.resolve=function(l){const p=Ur(this);let g=!!l.j;g?Ba(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var C=l.h;if(g)Ha(p,l.u);else if(g=!!l.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var V=p.h.lastIndexOf("/");V!=-1&&(C=p.h.slice(0,V+1)+C)}if(V=C,V==".."||V==".")C="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){C=V.lastIndexOf("/",0)==0,V=V.split("/");const j=[];for(let W=0;W<V.length;){const le=V[W++];le=="."?C&&W==V.length&&j.push(""):le==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),C&&W==V.length&&j.push("")):(j.push(le),C=!0)}C=j.join("/")}else C=V}return g?p.h=C:g=l.i.toString()!=="",g?Ah(p,M0(l.i)):g=!!l.m,g&&(p.m=l.m),p};function Ur(l){return new Qn(l)}function Ba(l,p,g){l.j=g?Wa(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Ha(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function Ah(l,p,g){p instanceof Ka?(l.i=p,jk(l.i,l.l)):(g||(p=qa(p,Lk)),l.i=new Ka(p,l.l))}function Pe(l,p,g){l.i.set(p,g)}function Gc(l){return Pe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Wa(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function qa(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,Dk),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Dk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var R0=/[#\/\?@]/g,Mk=/[#\?:]/g,Ok=/[#\?]/g,Lk=/[#\?@]/g,Vk=/#/g;function Ka(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function ss(l){l.g||(l.g=new Map,l.h=0,l.i&&Nk(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Ka.prototype,t.add=function(l,p){ss(this),this.i=null,l=Zs(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function P0(l,p){ss(l),p=Zs(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function k0(l,p){return ss(l),p=Zs(l,p),l.g.has(p)}t.forEach=function(l,p){ss(this),this.g.forEach(function(g,C){g.forEach(function(V){l.call(p,V,C,this)},this)},this)};function N0(l,p){ss(l);let g=[];if(typeof p=="string")k0(l,p)&&(g=g.concat(l.g.get(Zs(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}t.set=function(l,p){return ss(this),this.i=null,l=Zs(this,l),k0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=N0(this,l),l.length>0?String(l[0]):p):p};function D0(l,p,g){P0(l,p),g.length>0&&(l.i=null,l.g.set(Zs(l,p),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let C=0;C<p.length;C++){var g=p[C];const V=$a(g);g=N0(this,g);for(let j=0;j<g.length;j++){let W=V;g[j]!==""&&(W+="="+$a(g[j])),l.push(W)}}return this.i=l.join("&")};function M0(l){const p=new Ka;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Zs(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function jk(l,p){p&&!l.j&&(ss(l),l.i=null,l.g.forEach(function(g,C){const V=C.toLowerCase();C!=V&&(P0(this,C),D0(this,V,g))},l)),l.j=p}function Fk(l,p){const g=new Ua;if(o.Image){const C=new Image;C.onload=d(Yn,g,"TestLoadImage: loaded",!0,p,C),C.onerror=d(Yn,g,"TestLoadImage: error",!1,p,C),C.onabort=d(Yn,g,"TestLoadImage: abort",!1,p,C),C.ontimeout=d(Yn,g,"TestLoadImage: timeout",!1,p,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else p(!1)}function Uk(l,p){const g=new Ua,C=new AbortController,V=setTimeout(()=>{C.abort(),Yn(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:C.signal}).then(j=>{clearTimeout(V),j.ok?Yn(g,"TestPingServer: ok",!0,p):Yn(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),Yn(g,"TestPingServer: error",!1,p)})}function Yn(l,p,g,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(g)}catch{}}function $k(){this.g=new bk}function Sh(l){this.i=l.Sb||null,this.h=l.ab||!1}h(Sh,u0),Sh.prototype.g=function(){return new Qc(this.i,this.h)};function Qc(l,p){We.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Qc,We),t=Qc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Qa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Qa(this)),this.g&&(this.readyState=3,Qa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;O0(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function O0(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Ga(this):Qa(this),this.readyState==3&&O0(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Ga(this))},t.Na=function(l){this.g&&(this.response=l,Ga(this))},t.ga=function(){this.g&&Ga(this)};function Ga(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Qa(l)}t.setRequestHeader=function(l,p){this.A.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function Qa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function L0(l){let p="";return H(l,function(g,C){p+=C,p+=":",p+=g,p+=`\r
`}),p}function Ih(l,p,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=L0(g),typeof l=="string"?g!=null&&$a(g):Pe(l,p,g))}function $e(l){We.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h($e,We);var zk=/^https?$/i,Bk=["POST","PUT"];t=$e.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,p,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():y0.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(j){V0(this,j);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)g.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())g.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),V=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(Bk,p,void 0)>=0)||C||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of g)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(j){V0(this,j)}};function V0(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,j0(l),Yc(l)}function j0(l){l.A||(l.A=!0,Pt(l,"complete"),Pt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Pt(this,"complete"),Pt(this,"abort"),Yc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yc(this,!0)),$e.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?F0(this):this.Xa())},t.Xa=function(){F0(this)};function F0(l){if(l.h&&typeof s<"u"){if(l.v&&Xn(l)==4)setTimeout(l.Ca.bind(l),0);else if(Pt(l,"readystatechange"),Xn(l)==4){l.h=!1;try{const j=l.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var C;if(C=j===0){let W=String(l.D).match(C0)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),C=!zk.test(W?W.toLowerCase():"")}g=C}if(g)Pt(l,"complete"),Pt(l,"success");else{l.o=6;try{var V=Xn(l)>2?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.ca()+"]",j0(l)}}finally{Yc(l)}}}}function Yc(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||Pt(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Xn(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),xk(p)}};function U0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Hk(l){const p={};l=(l.g&&Xn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(k(l[C]))continue;var g=Ck(l[C]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=p[V]||[];p[V]=j,j.push(g)}J(p,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ya(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function $0(l){this.za=0,this.i=[],this.j=new Ua,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ya("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ya("baseRetryDelayMs",5e3,l),this.Za=Ya("retryDelaySeedMs",1e4,l),this.Ta=Ya("forwardChannelMaxRetries",2,l),this.va=Ya("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new b0(l&&l.concurrentRequestLimit),this.Ba=new $k,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$0.prototype,t.ka=8,t.I=1,t.connect=function(l,p,g,C){kt(0),this.W=l,this.H=p||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.J=Y0(this,null,this.W),Jc(this)};function Ch(l){if(z0(l),l.I==3){var p=l.V++,g=Ur(l.J);if(Pe(g,"SID",l.M),Pe(g,"RID",p),Pe(g,"TYPE","terminate"),Xa(l,g),p=new Gn(l,l.j,p),p.M=2,p.A=Gc(Ur(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=X0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Kc(p)}Q0(l)}function Xc(l){l.g&&(Ph(l),l.g.cancel(),l.g=null)}function z0(l){Xc(l),l.v&&(o.clearTimeout(l.v),l.v=null),Zc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Jc(l){if(!T0(l.h)&&!l.m){l.m=!0;var p=l.Ea;L||A(),M||(L(),M=!0),T.add(p,l),l.D=0}}function Wk(l,p){return A0(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Fa(u(l.Ea,l,p),G0(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const V=new Gn(this,this.j,l);let j=this.o;if(this.U&&(j?(j=oe(j),vt(j,this.U)):j=this.U),this.u!==null||this.R||(V.J=j,j=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=H0(this,V,p),g=Ur(this.J),Pe(g,"RID",l),Pe(g,"CVER",22),this.G&&Pe(g,"X-HTTP-Session-Id",this.G),Xa(this,g),j&&(this.R?p="headers="+$a(L0(j))+"&"+p:this.u&&Ih(g,this.u,j)),Th(this.h,V),this.Ra&&Pe(g,"TYPE","init"),this.S?(Pe(g,"$req",p),Pe(g,"SID","null"),V.U=!0,wh(V,g,null)):wh(V,g,p),this.I=2}}else this.I==3&&(l?B0(this,l):this.i.length==0||T0(this.h)||B0(this))};function B0(l,p){var g;p?g=p.l:g=l.V++;const C=Ur(l.J);Pe(C,"SID",l.M),Pe(C,"RID",g),Pe(C,"AID",l.K),Xa(l,C),l.u&&l.o&&Ih(C,l.u,l.o),g=new Gn(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=H0(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Th(l.h,g),wh(g,C,p)}function Xa(l,p){l.H&&H(l.H,function(g,C){Pe(p,C,g)}),l.l&&H({},function(g,C){Pe(p,C,g)})}function H0(l,p,g){g=Math.min(l.i.length,g);const C=l.l?u(l.l.Ka,l.l,l):null;e:{var V=l.i;let le=-1;for(;;){const et=["count="+g];le==-1?g>0?(le=V[0].g,et.push("ofs="+le)):le=0:et.push("ofs="+le);let Ie=!0;for(let st=0;st<g;st++){var j=V[st].g;const $r=V[st].map;if(j-=le,j<0)le=Math.max(0,V[st].g-100),Ie=!1;else try{j="req"+j+"_"||"";try{var W=$r instanceof Map?$r:Object.entries($r);for(const[as,Jn]of W){let Zn=Jn;a(Jn)&&(Zn=mh(Jn)),et.push(j+as+"="+encodeURIComponent(Zn))}}catch(as){throw et.push(j+"type="+encodeURIComponent("_badmap")),as}}catch{C&&C($r)}}if(Ie){W=et.join("&");break e}}W=void 0}return l=l.i.splice(0,g),p.G=l,W}function W0(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;L||A(),M||(L(),M=!0),T.add(p,l),l.A=0}}function Rh(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Fa(u(l.Da,l),G0(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,q0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Fa(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Xc(this),q0(this))};function Ph(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function q0(l){l.g=new Gn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=Ur(l.na);Pe(p,"RID","rpc"),Pe(p,"SID",l.M),Pe(p,"AID",l.K),Pe(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&Pe(p,"TO",l.ia),Pe(p,"TYPE","xmlhttp"),Xa(l,p),l.u&&l.o&&Ih(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Gc(Ur(p)),g.u=null,g.R=!0,w0(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Xc(this),Rh(this),kt(19))};function Zc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function K0(l,p){var g=null;if(l.g==p){Zc(l),Ph(l),l.g=null;var C=2}else if(bh(l.h,p))g=p.G,S0(l.h,p),C=1;else return;if(l.I!=0){if(p.o)if(C==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var V=l.D;C=Wc(),Pt(C,new m0(C,g)),Jc(l)}else W0(l);else if(V=p.m,V==3||V==0&&p.X>0||!(C==1&&Wk(l,p)||C==2&&Rh(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),V){case 1:os(l,5);break;case 4:os(l,10);break;case 3:os(l,6);break;default:os(l,2)}}}function G0(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function os(l,p){if(l.j.info("Error code "+p),p==2){var g=u(l.bb,l),C=l.Ua;const V=!C;C=new Qn(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ba(C,"https"),Gc(C),V?Fk(C.toString(),g):Uk(C.toString(),g)}else kt(2);l.I=0,l.l&&l.l.pa(p),Q0(l),z0(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Q0(l){if(l.I=0,l.ja=[],l.l){const p=I0(l.h);(p.length!=0||l.i.length!=0)&&(I(l.ja,p),I(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function Y0(l,p,g){var C=g instanceof Qn?Ur(g):new Qn(g);if(C.g!="")p&&(C.g=p+"."+C.g),Ha(C,C.u);else{var V=o.location;C=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;const j=new Qn(null);C&&Ba(j,C),p&&(j.g=p),V&&Ha(j,V),g&&(j.h=g),C=j}return g=l.G,p=l.wa,g&&p&&Pe(C,g,p),Pe(C,"VER",l.ka),Xa(l,C),C}function X0(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new $e(new Sh({ab:g})):new $e(l.ma),p.Fa(l.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function J0(){}t=J0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function eu(){}eu.prototype.g=function(l,p){return new Qt(l,p)};function Qt(l,p){We.call(this),this.g=new $0(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!k(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!k(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new eo(this)}h(Qt,We),Qt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){Ch(this.g)},Qt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=mh(l),l=g);p.i.push(new kk(p.Ya++,l)),p.I==3&&Jc(p)},Qt.prototype.N=function(){this.g.l=null,delete this.j,Ch(this.g),delete this.g,Qt.Z.N.call(this)};function Z0(l){gh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}h(Z0,gh);function e_(){yh.call(this),this.status=1}h(e_,yh);function eo(l){this.g=l}h(eo,J0),eo.prototype.ra=function(){Pt(this.g,"a")},eo.prototype.qa=function(l){Pt(this.g,new Z0(l))},eo.prototype.pa=function(l){Pt(this.g,new e_)},eo.prototype.oa=function(){Pt(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,eC=function(){return new eu},ZI=function(){return Wc()},JI=ns,og={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qc.NO_ERROR=0,qc.TIMEOUT=8,qc.HTTP_ERROR=6,nd=qc,g0.COMPLETE="complete",XI=g0,d0.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",We.prototype.listen=We.prototype.J,gl=d0,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,YI=$e}).apply(typeof Au<"u"?Au:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",IE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Gy("@firebase/firestore");function so(){return Fs.logLevel}function Q(t,...e){if(Fs.logLevel<=de.DEBUG){const r=e.map(ov);Fs.debug(`Firestore (${Ta}): ${t}`,...r)}}function zn(t,...e){if(Fs.logLevel<=de.ERROR){const r=e.map(ov);Fs.error(`Firestore (${Ta}): ${t}`,...r)}}function ca(t,...e){if(Fs.logLevel<=de.WARN){const r=e.map(ov);Fs.warn(`Firestore (${Ta}): ${t}`,...r)}}function ov(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,tC(t,n,r)}function tC(t,e,r){let n=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw zn(n),new Error(n)}function be(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||tC(e,i,n)}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends fn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(bt.UNAUTHENTICATED))}shutdown(){}}class HF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class WF{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){be(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let s=new kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kn)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(be(typeof n.accessToken=="string",31837,{l:n}),new rC(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new bt(e)}}class qF{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KF{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new qF(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GF{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,St(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){be(this.o===void 0,3512);const n=s=>{s.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(be(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new CE(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=QF(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function fe(t,e){return t<e?-1:t>e?1:0}function ag(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return Ep(i)===Ep(s)?fe(i,s):Ep(i)?1:-1}return fe(t.length,e.length)}const YF=55296,XF=57343;function Ep(t){const e=t.charCodeAt(0);return e>=YF&&e<=XF}function ua(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="__name__";class Hr{constructor(e,r,n){r===void 0?r=0:r>e.length&&ne(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ne(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Hr.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return fe(e.length,r.length)}static compareSegments(e,r){const n=Hr.isNumericId(e),i=Hr.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Hr.extractNumericId(e).compare(Hr.extractNumericId(r)):ag(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Ce extends Hr{construct(e,r,n){return new Ce(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Ce(r)}static emptyPath(){return new Ce([])}}const JF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends Hr{construct(e,r,n){return new ht(e,r,n)}static isValidIdentifier(e){return JF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===RE}static keyField(){return new ht([RE])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new q(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new q(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(n+=a,i++):(s(),i++)}if(s(),o)throw new q(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(r)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(Ce.fromString(e))}static fromName(e){return new Z(Ce.fromString(e).popFirst(5))}static empty(){return new Z(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Ce.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e,r){if(!r)throw new q(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZF(t,e,r,n){if(e===!0&&n===!0)throw new q(U.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function PE(t){if(!Z.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kE(t){if(Z.isDocumentKey(t))throw new q(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Wf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne(12329,{type:typeof t})}function cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Wf(t);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t,e){const r={typeString:t};return e&&(r.value=e),r}function Mc(t,e){if(!iC(t))throw new q(U.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const o=t[n];if(i&&typeof o!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new q(U.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=-62135596800,DE=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*DE);return new Ae(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new q(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<NE)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DE}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mc(e,Ae._jsonSchema))return new Ae(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-NE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:Je("string",Ae._jsonSchemaVersion),seconds:Je("number"),nanoseconds:Je("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new Ae(0,0))}static max(){return new ie(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=-1;function e6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(n===1e9?new Ae(r+1,0):new Ae(r,n));return new Hi(i,Z.empty(),e)}function t6(t){return new Hi(t.readTime,t.key,sc)}class Hi{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Hi(ie.min(),Z.empty(),sc)}static max(){return new Hi(ie.max(),Z.empty(),sc)}}function r6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Z.comparator(t.documentKey,e.documentKey),r!==0?r:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==n6)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new z((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof z?r:z.resolve(r)}catch(r){return z.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):z.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):z.reject(r)}static resolve(e){return new z((r,n)=>{r(e)})}static reject(e){return new z((r,n)=>{n(e)})}static waitFor(e){return new z((r,n)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&r()},c=>n(c))}),o=!0,s===i&&r()})}static or(e){let r=z.resolve(!1);for(const n of e)r=r.next(i=>i?z.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new z((n,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++a,a===s&&n(o)},d=>i(d))}})}static doWhile(e,r){return new z((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function s6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Sa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=-1;function Kf(t){return t==null}function Xd(t){return t===0&&1/t==-1/0}function o6(t){return typeof t=="number"&&Number.isInteger(t)&&!Xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="";function a6(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=ME(e)),e=l6(t.get(r),e);return ME(e)}function l6(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case sC:r+="";break;default:r+=s}}return r}function ME(t){return t+sC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function es(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function oC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,r){this.comparator=e,this.root=r||ft.EMPTY}insert(e,r){return new Ue(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Su(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Su(this.root,e,this.comparator,!1)}getReverseIterator(){return new Su(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Su(this.root,e,this.comparator,!0)}}class Su{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??ft.RED,this.left=i??ft.EMPTY,this.right=s??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new ft(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new ft(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new LE(this.data.getIterator())}getIteratorFrom(e){return new LE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new it(this.comparator);return r.data=e,r}}class LE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new er([])}unionWith(e){let r=new it(ht.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new er(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new aC("Invalid base64 string: "+s):s}}(e);return new gt(r)}static fromUint8Array(e){const r=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new gt(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const c6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(be(!!t,39018),typeof t=="string"){let e=0;const r=c6.exec(t);if(be(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qi(t){return typeof t=="string"?gt.fromBase64String(t):gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="server_timestamp",cC="__type__",uC="__previous_value__",dC="__local_write_time__";function cv(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[cC])==null?void 0:n.stringValue)===lC}function Gf(t){const e=t.mapValue.fields[uC];return cv(e)?Gf(e):e}function oc(t){const e=Wi(t.mapValue.fields[dC].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,r,n,i,s,o,a,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Jd="(default)";class ac{constructor(e,r){this.projectId=e,this.database=r||Jd}static empty(){return new ac("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="__type__",hC="__max__",Iu={mapValue:{fields:{__type__:{stringValue:hC}}}},pC="__vector__",Zd="value";function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cv(t)?4:f6(t)?9007199254740991:d6(t)?10:11:ne(28295,{value:t})}function un(t,e){if(t===e)return!0;const r=Ki(t);if(r!==Ki(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return oc(t).isEqual(oc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Wi(i.timestampValue),a=Wi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qi(i.bytesValue).isEqual(qi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qe(i.doubleValue),a=qe(s.doubleValue);return o===a?Xd(o)===Xd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],un);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(OE(o)!==OE(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!un(o[c],a[c])))return!1;return!0}(t,e);default:return ne(52216,{left:t})}}function lc(t,e){return(t.values||[]).find(r=>un(r,e))!==void 0}function da(t,e){if(t===e)return 0;const r=Ki(t),n=Ki(e);if(r!==n)return fe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qe(s.integerValue||s.doubleValue),c=qe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return VE(t.timestampValue,e.timestampValue);case 4:return VE(oc(t),oc(e));case 5:return ag(t.stringValue,e.stringValue);case 6:return function(s,o){const a=qi(s),c=qi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=fe(a[u],c[u]);if(d!==0)return d}return fe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(qe(s.latitude),qe(o.latitude));return a!==0?a:fe(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jE(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,y,I,v;const a=s.fields||{},c=o.fields||{},u=(m=a[Zd])==null?void 0:m.arrayValue,d=(y=c[Zd])==null?void 0:y.arrayValue,h=fe(((I=u==null?void 0:u.values)==null?void 0:I.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return h!==0?h:jE(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Iu.mapValue&&o===Iu.mapValue)return 0;if(s===Iu.mapValue)return 1;if(o===Iu.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=ag(c[h],d[h]);if(m!==0)return m;const y=da(a[c[h]],u[d[h]]);if(y!==0)return y}return fe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ne(23264,{he:r})}}function VE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const r=Wi(t),n=Wi(e),i=fe(r.seconds,n.seconds);return i!==0?i:fe(r.nanos,n.nanos)}function jE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=da(r[i],n[i]);if(s)return s}return fe(r.length,n.length)}function fa(t){return lg(t)}function lg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Wi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return qi(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Z.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=lg(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${lg(r.fields[o])}`;return i+"}"}(t.mapValue):ne(61005,{value:t})}function id(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gf(t);return e?16+id(e):16;case 5:return 2*t.stringValue.length;case 6:return qi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+id(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return es(n.fields,(s,o)=>{i+=s.length+id(o)}),i}(t.mapValue);default:throw ne(13486,{value:t})}}function FE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cg(t){return!!t&&"integerValue"in t}function uv(t){return!!t&&"arrayValue"in t}function UE(t){return!!t&&"nullValue"in t}function $E(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sd(t){return!!t&&"mapValue"in t}function d6(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[fC])==null?void 0:n.stringValue)===pC}function Dl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Dl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Dl(t.arrayValue.values[r]);return e}return{...t}}function f6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!sd(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dl(r)}setAll(e){let r=ht.emptyPath(),n={},i=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=a.popLast()}o?n[a.lastSegment()]=Dl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());sd(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return un(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){es(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Bt(Dl(this.value))}}function mC(t){const e=[];return es(t.fields,(r,n)=>{const i=new ht([r]);if(sd(n)){const s=mC(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,r,n,i,s,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new At(e,0,ie.min(),ie.min(),ie.min(),Bt.empty(),0)}static newFoundDocument(e,r,n,i){return new At(e,1,r,ie.min(),n,i,0)}static newNoDocument(e,r){return new At(e,2,r,ie.min(),ie.min(),Bt.empty(),0)}static newUnknownDocument(e,r){return new At(e,3,r,ie.min(),ie.min(),Bt.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof At&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new At(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,r){this.position=e,this.inclusive=r}}function zE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?n=Z.comparator(Z.fromName(o.referenceValue),r.key):n=da(o,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function BE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!un(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,r="asc"){this.field=e,this.dir=r}}function h6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{}class Xe extends gC{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new m6(e,r,n):r==="array-contains"?new v6(e,n):r==="in"?new _6(e,n):r==="not-in"?new w6(e,n):r==="array-contains-any"?new E6(e,n):new Xe(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new g6(e,n):new y6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(da(r,this.value)):r!==null&&Ki(this.value)===Ki(r)&&this.matchesComparison(da(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends gC{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Lr(e,r)}matches(e){return yC(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yC(t){return t.op==="and"}function vC(t){return p6(t)&&yC(t)}function p6(t){for(const e of t.filters)if(e instanceof Lr)return!1;return!0}function ug(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(vC(t))return t.filters.map(e=>ug(e)).join(",");{const e=t.filters.map(r=>ug(r)).join(",");return`${t.op}(${e})`}}function _C(t,e){return t instanceof Xe?function(n,i){return i instanceof Xe&&n.op===i.op&&n.field.isEqual(i.field)&&un(n.value,i.value)}(t,e):t instanceof Lr?function(n,i){return i instanceof Lr&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,a)=>s&&_C(o,i.filters[a]),!0):!1}(t,e):void ne(19439)}function wC(t){return t instanceof Xe?function(r){return`${r.field.canonicalString()} ${r.op} ${fa(r.value)}`}(t):t instanceof Lr?function(r){return r.op.toString()+" {"+r.getFilters().map(wC).join(" ,")+"}"}(t):"Filter"}class m6 extends Xe{constructor(e,r,n){super(e,r,n),this.key=Z.fromName(n.referenceValue)}matches(e){const r=Z.comparator(e.key,this.key);return this.matchesComparison(r)}}class g6 extends Xe{constructor(e,r){super(e,"in",r),this.keys=EC("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class y6 extends Xe{constructor(e,r){super(e,"not-in",r),this.keys=EC("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function EC(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Z.fromName(n.referenceValue))}class v6 extends Xe{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return uv(r)&&lc(r.arrayValue,this.value)}}class _6 extends Xe{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&lc(this.value.arrayValue,r)}}class w6 extends Xe{constructor(e,r){super(e,"not-in",r)}matches(e){if(lc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!lc(this.value.arrayValue,r)}}class E6 extends Xe{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!uv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>lc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,r=null,n=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function HE(t,e=null,r=[],n=[],i=null,s=null,o=null){return new x6(t,e,r,n,i,s,o)}function dv(t){const e=se(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>ug(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Kf(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>fa(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>fa(n)).join(",")),e.Te=r}return e.Te}function fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!h6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!_C(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!BE(t.startAt,e.startAt)&&BE(t.endAt,e.endAt)}function dg(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,r=null,n=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function b6(t,e,r,n,i,s,o,a){return new Ia(t,e,r,n,i,s,o,a)}function hv(t){return new Ia(t)}function WE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xC(t){return t.collectionGroup!==null}function Ml(t){const e=se(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new it(ht.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new cc(s,n))}),r.has(ht.keyField().canonicalString())||e.Ie.push(new cc(ht.keyField(),n))}return e.Ie}function nn(t){const e=se(t);return e.Ee||(e.Ee=T6(e,Ml(t))),e.Ee}function T6(t,e){if(t.limitType==="F")return HE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new cc(i.field,s)});const r=t.endAt?new ef(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ef(t.startAt.position,t.startAt.inclusive):null;return HE(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function fg(t,e){const r=t.filters.concat([e]);return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function hg(t,e,r){return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Qf(t,e){return fv(nn(t),nn(e))&&t.limitType===e.limitType}function bC(t){return`${dv(nn(t))}|lt:${t.limitType}`}function oo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>wC(i)).join(", ")}]`),Kf(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>fa(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>fa(i)).join(",")),`Target(${n})`}(nn(t))}; limitType=${t.limitType})`}function Yf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Z.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Ml(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(o,a,c){const u=zE(o,a,c);return o.inclusive?u<=0:u<0}(n.startAt,Ml(n),i)||n.endAt&&!function(o,a,c){const u=zE(o,a,c);return o.inclusive?u>=0:u>0}(n.endAt,Ml(n),i))}(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TC(t){return(e,r)=>{let n=!1;for(const i of Ml(t)){const s=S6(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function S6(t,e,r){const n=t.field.isKeyField()?Z.comparator(e.key,r.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?da(c,u):ne(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new Ue(Z.comparator);function Bn(){return I6}const AC=new Ue(Z.comparator);function yl(...t){let e=AC;for(const r of t)e=e.insert(r.key,r);return e}function SC(t){let e=AC;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function gs(){return Ol()}function IC(){return Ol()}function Ol(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const C6=new Ue(Z.comparator),R6=new it(Z.comparator);function he(...t){let e=R6;for(const r of t)e=e.add(r);return e}const P6=new it(fe);function k6(){return P6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(e)?"-0":e}}function CC(t){return{integerValue:""+t}}function N6(t,e){return o6(e)?CC(e):pv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function D6(t,e,r){return t instanceof uc?function(i,s){const o={fields:{[cC]:{stringValue:lC},[dC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cv(s)&&(s=Gf(s)),s&&(o.fields[uC]=s),{mapValue:o}}(r,e):t instanceof dc?PC(t,e):t instanceof fc?kC(t,e):function(i,s){const o=RC(i,s),a=qE(o)+qE(i.Ae);return cg(o)&&cg(i.Ae)?CC(a):pv(i.serializer,a)}(t,e)}function M6(t,e,r){return t instanceof dc?PC(t,e):t instanceof fc?kC(t,e):r}function RC(t,e){return t instanceof tf?function(n){return cg(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class uc extends Xf{}class dc extends Xf{constructor(e){super(),this.elements=e}}function PC(t,e){const r=NC(e);for(const n of t.elements)r.some(i=>un(i,n))||r.push(n);return{arrayValue:{values:r}}}class fc extends Xf{constructor(e){super(),this.elements=e}}function kC(t,e){let r=NC(e);for(const n of t.elements)r=r.filter(i=>!un(i,n));return{arrayValue:{values:r}}}class tf extends Xf{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function qE(t){return qe(t.integerValue||t.doubleValue)}function NC(t){return uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,r){this.field=e,this.transform=r}}function L6(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof dc&&i instanceof dc||n instanceof fc&&i instanceof fc?ua(n.elements,i.elements,un):n instanceof tf&&i instanceof tf?un(n.Ae,i.Ae):n instanceof uc&&i instanceof uc}(t.transform,e.transform)}class V6{constructor(e,r){this.version=e,this.transformResults=r}}class Nr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jf{}function DC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mv(t.key,Nr.none()):new Oc(t.key,t.data,Nr.none());{const r=t.data,n=Bt.empty();let i=new it(ht.comparator);for(let s of e.fields)if(!i.has(s)){let o=r.field(s);o===null&&s.length>1&&(s=s.popLast(),o=r.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new ts(t.key,n,new er(i.toArray()),Nr.none())}}function j6(t,e,r){t instanceof Oc?function(i,s,o){const a=i.value.clone(),c=GE(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof ts?function(i,s,o){if(!od(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=GE(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(MC(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Ll(t,e,r,n){return t instanceof Oc?function(s,o,a,c){if(!od(s.precondition,o))return a;const u=s.value.clone(),d=QE(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof ts?function(s,o,a,c){if(!od(s.precondition,o))return a;const u=QE(s.fieldTransforms,c,o),d=o.data;return d.setAll(MC(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,o,a){return od(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function F6(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=RC(n.transform,i||null);s!=null&&(r===null&&(r=Bt.empty()),r.set(n.field,s))}return r||null}function KE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ua(n,i,(s,o)=>L6(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Oc extends Jf{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ts extends Jf{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function MC(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function GE(t,e,r){const n=new Map;be(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);n.set(s.field,M6(o,a,r[i]))}return n}function QE(t,e,r){const n=new Map;for(const i of t){const s=i.transform,o=r.data.field(i.field);n.set(i.field,D6(s,o,e))}return n}class mv extends Jf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U6 extends Jf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&j6(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Ll(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Ll(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=IC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=r.has(i.key)?null:a;const c=DC(o,a);c!==null&&n.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),he())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(r,n)=>KE(r,n))&&ua(this.baseMutations,e.baseMutations,(r,n)=>KE(r,n))}}class gv{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){be(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return C6}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new gv(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z6=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,me;function H6(t){switch(t){case U.OK:return ne(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ne(15467,{code:t})}}function OC(t){if(t===void 0)return zn("GRPC error has no .code"),U.UNKNOWN;switch(t){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return ne(39323,{code:t})}}(me=Qe||(Qe={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6=new Di([4294967295,4294967295],0);function YE(t){const e=W6().encode(t),r=new QI;return r.update(e),new Uint8Array(r.digest())}function XE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Di([r,n],0),new Di([i,s],0)]}class yv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new vl(`Invalid padding: ${r}`);if(n<0)throw new vl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new vl(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Di.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Di.fromNumber(n)));return i.compare(q6)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=YE(e),[n,i]=XE(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new yv(s,i,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const r=YE(e),[n,i]=XE(r);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Zf(ie.min(),i,new Ue(fe),Bn(),he())}}class Lc{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Lc(n,r,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class LC{constructor(e,r){this.targetId=e,this.Ce=r}}class VC{constructor(e,r,n=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class JE{constructor(){this.ve=0,this.Fe=ZE(),this.Me=gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=he(),r=he(),n=he();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ne(38017,{changeType:s})}}),new Lc(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=ZE()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bn(),this.Je=Cu(),this.He=Cu(),this.Ye=new Ue(fe)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(dg(s))if(n===0){const o=new Z(s.path);this.et(r,o,At.newNoDocument(o,ie.min()))}else be(n===1,20013,{expectedCount:n});else{const o=this._t(r);if(o!==n){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let o,a;try{o=qi(n).toUint8Array()}catch(c){if(c instanceof aC)return ca("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new yv(o,i,s)}catch(c){return ca(c instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&dg(a.target)){const c=new Z(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,At.newNoDocument(c,e))}s.Be&&(r.set(o,s.ke()),s.qe())}});let n=he();this.He.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Zf(e,r,this.Ye,this.je,n);return this.je=Bn(),this.Je=Cu(),this.He=Cu(),this.Ye=new Ue(fe),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new JE,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new it(fe),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new it(fe),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Q("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new JE),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Cu(){return new Ue(Z.comparator)}function ZE(){return new Ue(Z.comparator)}const G6={asc:"ASCENDING",desc:"DESCENDING"},Q6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y6={and:"AND",or:"OR"};class X6{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function pg(t,e){return t.useProto3Json||Kf(e)?e:{value:e}}function rf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J6(t,e){return rf(t,e.toTimestamp())}function sn(t){return be(!!t,49232),ie.fromTimestamp(function(r){const n=Wi(r);return new Ae(n.seconds,n.nanos)}(t))}function vv(t,e){return mg(t,e).canonicalString()}function mg(t,e){const r=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function FC(t){const e=Ce.fromString(t);return be(HC(e),10190,{key:e.toString()}),e}function gg(t,e){return vv(t.databaseId,e.path)}function xp(t,e){const r=FC(e);if(r.get(1)!==t.databaseId.projectId)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new q(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Z($C(r))}function UC(t,e){return vv(t.databaseId,e)}function Z6(t){const e=FC(t);return e.length===4?Ce.emptyPath():$C(e)}function yg(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $C(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function e1(t,e,r){return{name:gg(t,e),fields:r.value.mapValue.fields}}function e5(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(be(d===void 0||typeof d=="string",58123),gt.fromBase64String(d||"")):(be(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?U.UNKNOWN:OC(u.code);return new q(d,u.message||"")}(o);r=new VC(n,i,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=xp(t,n.document.name),s=sn(n.document.updateTime),o=n.document.createTime?sn(n.document.createTime):ie.min(),a=new Bt({mapValue:{fields:n.document.fields}}),c=At.newFoundDocument(i,s,o,a),u=n.targetIds||[],d=n.removedTargetIds||[];r=new ad(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=xp(t,n.document),s=n.readTime?sn(n.readTime):ie.min(),o=At.newNoDocument(i,s),a=n.removedTargetIds||[];r=new ad([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=xp(t,n.document),s=n.removedTargetIds||[];r=new ad([],s,i,null)}else{if(!("filter"in e))return ne(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new B6(i,s),a=n.targetId;r=new LC(a,o)}}return r}function t5(t,e){let r;if(e instanceof Oc)r={update:e1(t,e.key,e.value)};else if(e instanceof mv)r={delete:gg(t,e.key)};else if(e instanceof ts)r={update:e1(t,e.key,e.data),updateMask:u5(e.fieldMask)};else{if(!(e instanceof U6))return ne(16599,{Vt:e.type});r={verify:gg(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const a=o.transform;if(a instanceof uc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof dc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ne(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:J6(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne(27497)}(t,e.precondition)),r}function r5(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(r=>function(i,s){let o=i.updateTime?sn(i.updateTime):sn(s);return o.isEqual(ie.min())&&(o=sn(s)),new V6(o,i.transformResults||[])}(r,e))):[]}function n5(t,e){return{documents:[UC(t,e.path)]}}function i5(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=UC(t,i);const s=function(u){if(u.length!==0)return BC(Lr.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ao(m.field),direction:a5(m.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=pg(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function s5(t){let e=Z6(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){be(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=function(h){const m=zC(h);return m instanceof Lr&&vC(m)?m.getFilters():[m]}(r.where));let o=[];r.orderBy&&(o=function(h){return h.map(m=>function(I){return new cc(lo(I.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(r.orderBy));let a=null;r.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,Kf(m)?null:m}(r.limit));let c=null;r.startAt&&(c=function(h){const m=!!h.before,y=h.values||[];return new ef(y,m)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const m=!h.before,y=h.values||[];return new ef(y,m)}(r.endAt)),b6(e,i,o,s,a,"F",c,u)}function o5(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function zC(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=lo(r.unaryFilter.field);return Xe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=lo(r.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lo(r.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lo(r.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}}(t):t.fieldFilter!==void 0?function(r){return Xe.create(lo(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Lr.create(r.compositeFilter.filters.map(n=>zC(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}}(r.compositeFilter.op))}(t):ne(30097,{filter:t})}function a5(t){return G6[t]}function l5(t){return Q6[t]}function c5(t){return Y6[t]}function ao(t){return{fieldPath:t.canonicalString()}}function lo(t){return ht.fromServerFormat(t.fieldPath)}function BC(t){return t instanceof Xe?function(r){if(r.op==="=="){if($E(r.value))return{unaryFilter:{field:ao(r.field),op:"IS_NAN"}};if(UE(r.value))return{unaryFilter:{field:ao(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if($E(r.value))return{unaryFilter:{field:ao(r.field),op:"IS_NOT_NAN"}};if(UE(r.value))return{unaryFilter:{field:ao(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(r.field),op:l5(r.op),value:r.value}}}(t):t instanceof Lr?function(r){const n=r.getFilters().map(i=>BC(i));return n.length===1?n[0]:{compositeFilter:{op:c5(r.op),filters:n}}}(t):ne(54877,{filter:t})}function u5(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function HC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,r,n,i,s=ie.min(),o=ie.min(),a=gt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.yt=e}}function f5(t){const e=s5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.Cn=new p5}addToCollectionParentIndex(e,r){return this.Cn.add(r),z.resolve()}getCollectionParents(e,r){return z.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return z.resolve()}deleteFieldIndex(e,r){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,r){return z.resolve()}getDocumentsMatchingTarget(e,r){return z.resolve(null)}getIndexType(e,r){return z.resolve(0)}getFieldIndexes(e,r){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,r){return z.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,r){return z.resolve(Hi.min())}updateCollectionGroup(e,r,n){return z.resolve()}updateIndexEntries(e,r){return z.resolve()}}class p5{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new it(Ce.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new it(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WC=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(WC,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ha(0)}static cr(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="LruGarbageCollector",m5=1048576;function n1([t,e],[r,n]){const i=fe(t,r);return i===0?fe(e,n):i}class g5{constructor(e){this.Ir=e,this.buffer=new it(n1),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();n1(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class y5{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(r1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Sa(r)?Q(r1,"Ignoring IndexedDB error during garbage collection: ",r):await Aa(r)}await this.Vr(3e5)})}}class v5{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return z.resolve(qf.ce);const n=new g5(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(t1)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t1):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(n=h,a=Date.now(),this.removeTargets(e,n,r))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(h=>(u=Date.now(),so()<=de.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function _5(t,e){return new v5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.changes=new Qs(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,At.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?z.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&Ll(n.mutation,i,er.empty(),Ae.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,he()).next(()=>n))}getLocalViewOfDocuments(e,r,n=he()){const i=gs();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let o=yl();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=gs();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,he()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,i){let s=Bn();const o=Ol(),a=function(){return Ol()}();return r.forEach((c,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof ts)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ll(d.mutation,u,d.mutation.getFieldMask(),Ae.now())):o.set(u.key,er.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>a.set(u,new E5(d,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,r){const n=Ol();let i=new Ue((o,a)=>o-a),s=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||er.empty();d=a.applyToLocalView(u,d),n.set(c,d);const h=(i.get(a.batchId)||he()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,h=IC();d.forEach(m=>{if(!s.has(m)){const y=DC(r.get(m),n.get(m));y!==null&&h.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return z.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):xC(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):z.resolve(gs());let a=sc,c=s;return o.next(u=>z.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,he())).next(d=>({batchId:a,changes:SC(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Z(r)).next(n=>{let i=yl();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let o=yl();return this.indexManager.getCollectionParents(e,s).next(a=>z.forEach(a,c=>{const u=function(h,m){return new Ia(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,At.newInvalidDocument(d)))});let a=yl();return o.forEach((c,u)=>{const d=s.get(c);d!==void 0&&Ll(d.mutation,u,er.empty(),Ae.now()),Yf(r,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return z.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:sn(i.createTime)}}(r)),z.resolve()}getNamedQuery(e,r){return z.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:f5(i.bundledQuery),readTime:sn(i.readTime)}}(r)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.overlays=new Ue(Z.comparator),this.qr=new Map}getOverlay(e,r){return z.resolve(this.overlays.get(r))}getOverlays(e,r){const n=gs();return z.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),z.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),z.resolve()}getOverlaysForCollection(e,r,n){const i=gs(),s=r.length+1,o=new Z(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>n&&i.set(c.getKey(),c)}return z.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Ue((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=gs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=gs(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return z.resolve(a)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new z6(r,n));let s=this.qr.get(r);s===void 0&&(s=he(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(){this.Qr=new it(ot.$r),this.Ur=new it(ot.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new ot(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new ot(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Z(new Ce([])),n=new ot(r,e),i=new ot(r,e+1),s=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Z(new Ce([])),n=new ot(r,e),i=new ot(r,e+1);let s=he();return this.Ur.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const r=new ot(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class ot{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Z.comparator(e.key,r.key)||fe(e.Yr,r.Yr)}static Kr(e,r){return fe(e.Yr,r.Yr)||Z.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new it(ot.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $6(s,r,n,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,r){return z.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?lv:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new ot(r,0),i=new ot(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],o=>{const a=this.Xr(o.Yr);s.push(a)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new it(fe);return r.forEach(i=>{const s=new ot(i,0),o=new ot(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],a=>{n=n.add(a.Yr)})}),z.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Z.isDocumentKey(s)||(s=s.child(""));const o=new ot(new Z(s),0);let a=new it(fe);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Yr)),!0)},o),z.resolve(this.ti(a))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){be(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return z.forEach(r.mutations,i=>{const s=new ot(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new ot(r,0),i=this.Zr.firstAfterOrEqual(n);return z.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.ri=e,this.docs=function(){return new Ue(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return z.resolve(n?n.document.mutableCopy():At.newInvalidDocument(r))}getEntries(e,r){let n=Bn();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():At.newInvalidDocument(i))}),z.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Bn();const o=r.path,a=new Z(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||r6(t6(d),n)<=0||(i.has(d.key)||Yf(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(e,r,n,i){ne(9500)}ii(e,r){return z.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new C5(this)}getSize(e){return z.resolve(this.size)}}class C5 extends w5{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),z.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.persistence=e,this.si=new Qs(r=>dv(r),fv),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.oi=0,this._i=new _v,this.targetCount=0,this.ai=ha.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),z.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new ha(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,z.resolve()}updateTargetData(e,r){return this.Pr(r),z.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return z.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),z.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),z.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),z.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return z.resolve(n)}containsKey(e,r){return z.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,r){this.ui={},this.overlays={},this.ci=new qf(0),this.li=!1,this.li=!0,this.hi=new A5,this.referenceDelegate=e(this),this.Pi=new R5(this),this.indexManager=new h5,this.remoteDocumentCache=function(i){return new I5(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new d5(r),this.Ii=new b5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new T5,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new S5(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Q("MemoryPersistence","Starting transaction:",e);const i=new P5(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return z.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class P5 extends i6{constructor(e){super(),this.currentSequenceNumber=e}}class wv{constructor(e){this.persistence=e,this.Ri=new _v,this.Vi=null}static mi(e){return new wv(e)}get fi(){if(this.Vi)return this.Vi;throw ne(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),z.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),z.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),z.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,n=>{const i=Z.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,ie.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return z.or([()=>z.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class nf{constructor(e,r){this.persistence=e,this.pi=new Qs(n=>a6(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=_5(this,r)}static mi(e,r){return new nf(e,r)}Ei(){}di(e){return z.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return z.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?z.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,r).next(a=>{a||(n++,s.removeEntry(o,ie.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=id(e.data.value)),r}br(e,r,n){return z.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return z.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=he(),i=he();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ev(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return y4()?8:s6(Ct())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new k5;return this.Ss(e,r,o).next(a=>{if(s.result=a,this.Vs)return this.bs(e,r,o,a.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(so()<=de.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",oo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(so()<=de.DEBUG&&Q("QueryEngine","Query:",oo(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(so()<=de.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",oo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nn(r))):z.resolve())}ys(e,r){if(WE(r))return z.resolve(null);let n=nn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=hg(r,null,"F"),n=nn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=he(...s);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.Ds(r,a);return this.Cs(r,u,o,c.readTime)?this.ys(e,hg(r,null,"F")):this.vs(e,u,r,c)}))})))}ws(e,r,n,i){return WE(r)||i.isEqual(ie.min())?z.resolve(null):this.ps.getDocuments(e,n).next(s=>{const o=this.Ds(r,s);return this.Cs(r,o,n,i)?z.resolve(null):(so()<=de.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),oo(r)),this.vs(e,o,r,e6(i,sc)).next(a=>a))})}Ds(e,r){let n=new it(TC(e));return r.forEach((i,s)=>{Yf(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return so()<=de.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",oo(r)),this.ps.getDocumentsMatchingQuery(e,r,Hi.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="LocalStore",D5=3e8;class M5{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new Ue(fe),this.xs=new Qs(s=>dv(s),fv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function O5(t,e,r,n){return new M5(t,e,r,n)}async function KC(t,e){const r=se(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],a=[];let c=he();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({Ls:u,removedBatchIds:o,addedBatchIds:a}))})})}function L5(t,e){const r=se(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const h=u.batch,m=h.keys();let y=z.resolve();return m.forEach(I=>{y=y.next(()=>d.getEntry(c,I)).next(v=>{const x=u.docVersions.get(I);be(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function GC(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function V5(t,e){const r=se(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const a=[];e.targetChanges.forEach((d,h)=>{const m=i.get(h);if(!m)return;a.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>r.Pi.addMatchingKeys(s,d.addedDocuments,h)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,n)),i=i.insert(h,y),function(v,x,w){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=D5?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,y,d)&&a.push(r.Pi.updateTargetData(s,y))});let c=Bn(),u=he();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(j5(s,o,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!n.isEqual(ie.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next(h=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(d)}return z.waitFor(a).next(()=>o.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(r.Ms=i,s))}function j5(t,e,r){let n=he(),i=he();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=Bn();return r.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Q(xv,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:o,qs:i}})}function F5(t,e){const r=se(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=lv),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function U5(t,e){const r=se(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,z.resolve(i)):r.Pi.allocateTargetId(n).next(o=>(i=new xi(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function vg(t,e,r){const n=se(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sa(o))throw o;Q(xv,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function i1(t,e,r){const n=se(t);let i=ie.min(),s=he();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=se(c),m=h.xs.get(d);return m!==void 0?z.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(n,o,nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,r?i:ie.min(),r?s:he())).next(a=>($5(n,A6(e),a),{documents:a,Qs:s})))}function $5(t,e,r){let n=t.Os.get(e)||ie.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class s1{constructor(){this.activeTargetIds=k6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z5{constructor(){this.Mo=new s1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new s1,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="ConnectivityMonitor";class a1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(o1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(o1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru=null;function _g(){return Ru===null?Ru=function(){return 268435456+Math.round(2147483648*Math.random())}():Ru++,"0x"+Ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp="RestConnection",H5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Jd?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const o=_g(),a=this.zo(e,r.toUriEncodedString());Q(bp,`Sending RPC '${e}' ${o}:`,a,n);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(a),d=Zi(u);return this.Jo(e,a,c,n,d).then(h=>(Q(bp,`Received RPC '${e}' ${o}: `,h),h),h=>{throw ca(bp,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",n),h})}Ho(e,r,n,i,s,o){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ta}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=H5[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class K5 extends W5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const o=_g();return new Promise((a,c)=>{const u=new YI;u.setWithCredentials(!0),u.listenOnce(XI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case nd.NO_ERROR:const h=u.getResponseJson();Q(Et,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case nd.TIMEOUT:Q(Et,`RPC '${e}' ${o} timed out`),c(new q(U.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const m=u.getStatus();if(Q(Et,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);const I=y==null?void 0:y.error;if(I&&I.status&&I.message){const v=function(w){const E=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(E)>=0?E:U.UNKNOWN}(I.status);c(new q(v,I.message))}else c(new q(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new q(U.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{Q(Et,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);Q(Et,`RPC '${e}' ${o} sending request:`,i),u.send(r,"POST",d,n,15)})}T_(e,r,n){const i=_g(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eC(),a=ZI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=s.join("");Q(Et,`Creating RPC '${e}' stream ${i}: ${d}`,c);const h=o.createWebChannel(d,c);this.I_(h);let m=!1,y=!1;const I=new q5({Yo:x=>{y?Q(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(Q(Et,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Q(Et,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},Zo:()=>h.close()}),v=(x,w,E)=>{x.listen(w,b=>{try{E(b)}catch(P){setTimeout(()=>{throw P},0)}})};return v(h,gl.EventType.OPEN,()=>{y||(Q(Et,`RPC '${e}' stream ${i} transport opened.`),I.o_())}),v(h,gl.EventType.CLOSE,()=>{y||(y=!0,Q(Et,`RPC '${e}' stream ${i} transport closed`),I.a_(),this.E_(h))}),v(h,gl.EventType.ERROR,x=>{y||(y=!0,ca(Et,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),I.a_(new q(U.UNAVAILABLE,"The operation could not be completed")))}),v(h,gl.EventType.MESSAGE,x=>{var w;if(!y){const E=x.data[0];be(!!E,16349);const b=E,P=(b==null?void 0:b.error)||((w=b[0])==null?void 0:w.error);if(P){Q(Et,`RPC '${e}' stream ${i} received error:`,P);const L=P.status;let M=function(S){const R=Qe[S];if(R!==void 0)return OC(R)}(L),T=P.message;M===void 0&&(M=U.INTERNAL,T="Unknown error status: "+L+" with message "+P.message),y=!0,I.a_(new q(M,T)),h.close()}else Q(Et,`RPC '${e}' stream ${i} received:`,E),I.u_(E)}}),v(a,JI.STAT_EVENT,x=>{x.stat===og.PROXY?Q(Et,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===og.NOPROXY&&Q(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.__()},0),I}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function Tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new X6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="PersistentStream";class YC{constructor(e,r,n,i,s,o,a,c){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QC(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===U.RESOURCE_EXHAUSTED?(zn(r.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new q(U.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(l1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():(Q(l1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G5 extends YC{constructor(e,r,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=e5(this.serializer,e),n=function(s){if(!("targetChange"in s))return ie.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?sn(o.readTime):ie.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=yg(this.serializer),r.addTarget=function(s,o){let a;const c=o.target;if(a=dg(c)?{documents:n5(s,c)}:{query:i5(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jC(s,o.resumeToken);const u=pg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=rf(s,o.snapshotVersion.toTimestamp());const u=pg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=o5(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=yg(this.serializer),r.removeTarget=e,this.q_(r)}}class Q5 extends YC{constructor(e,r,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=r5(e.writeResults,e.commitTime),n=sn(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=yg(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>t5(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{}class X5 extends Y5{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,mg(r,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(U.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,mg(r,n),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class J5{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zn(r),this.aa=!1):Q("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="RemoteStore";class Z5{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Ys(this)&&(Q(Us,"Restarting streams for network reachability change."),await async function(c){const u=se(c);u.Ea.add(4),await Vc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await th(u)}(this))})}),this.Ra=new J5(n,i)}}async function th(t){if(Ys(t))for(const e of t.da)await e(!0)}async function Vc(t){for(const e of t.da)await e(!1)}function XC(t,e){const r=se(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),Sv(r)?Av(r):Ca(r).O_()&&Tv(r,e))}function bv(t,e){const r=se(t),n=Ca(r);r.Ia.delete(e),n.O_()&&JC(r,e),r.Ia.size===0&&(n.O_()?n.L_():Ys(r)&&r.Ra.set("Unknown"))}function Tv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Ca(t).Y_(e)}function JC(t,e){t.Va.Ue(e),Ca(t).Z_(e)}function Av(t){t.Va=new K6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.Ra.ua()}function Sv(t){return Ys(t)&&!Ca(t).x_()&&t.Ia.size>0}function Ys(t){return se(t).Ea.size===0}function ZC(t){t.Va=void 0}async function eU(t){t.Ra.set("Online")}async function tU(t){t.Ia.forEach((e,r)=>{Tv(t,e)})}async function rU(t,e){ZC(t),Sv(t)?(t.Ra.ha(e),Av(t)):t.Ra.set("Unknown")}async function nU(t,e,r){if(t.Ra.set("Online"),e instanceof VC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(t,e)}catch(n){Q(Us,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await sf(t,n)}else if(e instanceof ad?t.Va.Ze(e):e instanceof LC?t.Va.st(e):t.Va.tt(e),!r.isEqual(ie.min()))try{const n=await GC(t.localStore);r.compareTo(n)>=0&&await function(s,o){const a=s.Va.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.Ia.get(c);if(!d)return;s.Ia.set(c,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),JC(s,c);const h=new xi(d.target,c,u,d.sequenceNumber);Tv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Q(Us,"Failed to raise snapshot:",n),await sf(t,n)}}async function sf(t,e,r){if(!Sa(e))throw e;t.Ea.add(1),await Vc(t),t.Ra.set("Offline"),r||(r=()=>GC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Us,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await th(t)})}function eR(t,e){return e().catch(r=>sf(t,r,e))}async function rh(t){const e=se(t),r=Gi(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lv;for(;iU(e);)try{const i=await F5(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,sU(e,i)}catch(i){await sf(e,i)}tR(e)&&rR(e)}function iU(t){return Ys(t)&&t.Ta.length<10}function sU(t,e){t.Ta.push(e);const r=Gi(t);r.O_()&&r.X_&&r.ea(e.mutations)}function tR(t){return Ys(t)&&!Gi(t).x_()&&t.Ta.length>0}function rR(t){Gi(t).start()}async function oU(t){Gi(t).ra()}async function aU(t){const e=Gi(t);for(const r of t.Ta)e.ea(r.mutations)}async function lU(t,e,r){const n=t.Ta.shift(),i=gv.from(n,e,r);await eR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rh(t)}async function cU(t,e){e&&Gi(t).X_&&await async function(n,i){if(function(o){return H6(o)&&o!==U.ABORTED}(i.code)){const s=n.Ta.shift();Gi(n).B_(),await eR(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rh(n)}}(t,e),tR(t)&&rR(t)}async function c1(t,e){const r=se(t);r.asyncQueue.verifyOperationInProgress(),Q(Us,"RemoteStore received new credentials");const n=Ys(r);r.Ea.add(3),await Vc(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await th(r)}async function uU(t,e){const r=se(t);e?(r.Ea.delete(2),await th(r)):e||(r.Ea.add(2),await Vc(r),r.Ra.set("Unknown"))}function Ca(t){return t.ma||(t.ma=function(r,n,i){const s=se(r);return s.sa(),new G5(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:eU.bind(null,t),t_:tU.bind(null,t),r_:rU.bind(null,t),H_:nU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Sv(t)?Av(t):t.Ra.set("Unknown")):(await t.ma.stop(),ZC(t))})),t.ma}function Gi(t){return t.fa||(t.fa=function(r,n,i){const s=se(r);return s.sa(),new Q5(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:oU.bind(null,t),r_:cU.bind(null,t),ta:aU.bind(null,t),na:lU.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await rh(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Us,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const o=Date.now()+n,a=new Iv(e,r,o,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(t,e){if(zn("AsyncQueue",`${e}: ${t}`),Sa(t))return new q(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Z.comparator(r.key,n.key):(r,n)=>Z.comparator(r.key,n.key),this.keyedMap=yl(),this.sortedSet=new Ue(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Mo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(){this.ga=new Ue(Z.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ne(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class pa{constructor(e,r,n,i,s,o,a,c,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new pa(e,r,Mo.emptySet(r),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class fU{constructor(){this.queries=d1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=se(r),s=i.queries;i.queries=d1(),s.forEach((o,a)=>{for(const c of a.Sa)c.onError(n)})})(this,new q(U.ABORTED,"Firestore shutting down"))}}function d1(){return new Qs(t=>bC(t),Qf)}async function nR(t,e){const r=se(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new dU,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const a=Cv(o,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(a)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&Rv(r)}async function iR(t,e){const r=se(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function hU(t,e){const r=se(t);let n=!1;for(const i of e){const s=i.query,o=r.queries.get(s);if(o){for(const a of o.Sa)a.Fa(i)&&(n=!0);o.wa=i}}n&&Rv(r)}function pU(t,e,r){const n=se(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function Rv(t){t.Ca.forEach(e=>{e.next()})}var wg,f1;(f1=wg||(wg={})).Ma="default",f1.Cache="cache";class sR{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new pa(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.key=e}}class aR{constructor(e){this.key=e}}class mU{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=he(),this.mutatedKeys=he(),this.eu=TC(e),this.tu=new Mo(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new u1,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const m=i.get(d),y=Yf(this.query,h)?h:null,I=!!m&&this.mutatedKeys.has(m.key),v=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;m&&y?m.data.isEqual(y.data)?I!==v&&(n.track({type:3,doc:y}),x=!0):this.su(m,y)||(n.track({type:2,doc:y}),x=!0,(c&&this.eu(y,c)>0||u&&this.eu(y,u)<0)&&(a=!0)):!m&&y?(n.track({type:0,doc:y}),x=!0):m&&!y&&(n.track({type:1,doc:m}),x=!0,(c||u)&&(a=!0)),x&&(y?(o=o.add(y),s=v?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:o,iu:n,Cs:a,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((d,h)=>function(y,I){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{Rt:x})}};return v(y)-v(I)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(n),i=i??!1;const a=r&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,o.length!==0||u?{snapshot:new pa(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=he(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new aR(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new oR(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=he();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Pv="SyncEngine";class gU{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class yU{constructor(e){this.key=e,this.hu=!1}}class vU{constructor(e,r,n,i,s,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Qs(a=>bC(a),Qf),this.Iu=new Map,this.Eu=new Set,this.du=new Ue(Z.comparator),this.Au=new Map,this.Ru=new _v,this.Vu={},this.mu=new Map,this.fu=ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _U(t,e,r=!0){const n=hR(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await lR(n,e,r,!0),i}async function wU(t,e){const r=hR(t);await lR(r,e,!0,!1)}async function lR(t,e,r,n){const i=await U5(t.localStore,nn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await EU(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&r&&XC(t.remoteStore,i),a}async function EU(t,e,r,n,i){t.pu=(h,m,y)=>async function(v,x,w,E){let b=x.view.ru(w);b.Cs&&(b=await i1(v.localStore,x.query,!1).then(({documents:T})=>x.view.ru(T,b)));const P=E&&E.targetChanges.get(x.targetId),L=E&&E.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(b,v.isPrimaryClient,P,L);return p1(v,x.targetId,M.au),M.snapshot}(t,h,m,y);const s=await i1(t.localStore,e,!0),o=new mU(e,s.Qs),a=o.ru(s.documents),c=Lc.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);p1(t,r,u.au);const d=new gU(e,r,o);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function xU(t,e,r){const n=se(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(o=>!Qf(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await vg(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&bv(n.remoteStore,i.targetId),Eg(n,i.targetId)}).catch(Aa)):(Eg(n,i.targetId),await vg(n.localStore,i.targetId,!0))}async function bU(t,e){const r=se(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),bv(r.remoteStore,n.targetId))}async function TU(t,e,r){const n=kU(t);try{const i=await function(o,a){const c=se(o),u=Ae.now(),d=a.reduce((y,I)=>y.add(I.key),he());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let I=Bn(),v=he();return c.Ns.getEntries(y,d).next(x=>{I=x,I.forEach((w,E)=>{E.isValidDocument()||(v=v.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,I)).next(x=>{h=x;const w=[];for(const E of a){const b=F6(E,h.get(E.key).overlayedDocument);b!=null&&w.push(new ts(E.key,b,mC(b.value.mapValue),Nr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,w,a)}).next(x=>{m=x;const w=x.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(y,x.batchId,w)})}).then(()=>({batchId:m.batchId,changes:SC(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Vu[o.currentUser.toKey()];u||(u=new Ue(fe)),u=u.insert(a,c),o.Vu[o.currentUser.toKey()]=u}(n,i.batchId,r),await jc(n,i.changes),await rh(n.remoteStore)}catch(i){const s=Cv(i,"Failed to persist write");r.reject(s)}}async function cR(t,e){const r=se(t);try{const n=await V5(r.localStore,e);e.targetChanges.forEach((i,s)=>{const o=r.Au.get(s);o&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?be(o.hu,14607):i.removedDocuments.size>0&&(be(o.hu,42227),o.hu=!1))}),await jc(r,n,e)}catch(n){await Aa(n)}}function h1(t,e,r){const n=se(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=se(o);c.onlineState=a;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(a)&&(u=!0)}),u&&Rv(c)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function AU(t,e,r){const n=se(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new Ue(Z.comparator);o=o.insert(s,At.newNoDocument(s,ie.min()));const a=he().add(s),c=new Zf(ie.min(),new Map,new Ue(fe),o,a);await cR(n,c),n.du=n.du.remove(s),n.Au.delete(e),kv(n)}else await vg(n.localStore,e,!1).then(()=>Eg(n,e,r)).catch(Aa)}async function SU(t,e){const r=se(t),n=e.batch.batchId;try{const i=await L5(r.localStore,e);dR(r,n,null),uR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await jc(r,i)}catch(i){await Aa(i)}}async function IU(t,e,r){const n=se(t);try{const i=await function(o,a){const c=se(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(h=>(be(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);dR(n,e,r),uR(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await jc(n,i)}catch(i){await Aa(i)}}function uR(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function dR(t,e,r){const n=se(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Eg(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||fR(t,n)})}function fR(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(bv(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),kv(t))}function p1(t,e,r){for(const n of r)n instanceof oR?(t.Ru.addReference(n.key,e),CU(t,n)):n instanceof aR?(Q(Pv,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||fR(t,n.key)):ne(19791,{wu:n})}function CU(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Q(Pv,"New document in limbo: "+r),t.Eu.add(n),kv(t))}function kv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Z(Ce.fromString(e)),n=t.fu.next();t.Au.set(n,new yU(r)),t.du=t.du.insert(r,n),XC(t.remoteStore,new xi(nn(hv(r.path)),n,"TargetPurposeLimboResolution",qf.ce))}}async function jc(t,e,r){const n=se(t),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((a,c)=>{o.push(n.pu(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(c.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Ev.As(c.targetId,u);s.push(h)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(c,u){const d=se(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(u,m=>z.forEach(m.Es,y=>d.persistence.referenceDelegate.addReference(h,m.targetId,y)).next(()=>z.forEach(m.ds,y=>d.persistence.referenceDelegate.removeReference(h,m.targetId,y)))))}catch(h){if(!Sa(h))throw h;Q(xv,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const y=d.Ms.get(m),I=y.snapshotVersion,v=y.withLastLimboFreeSnapshotVersion(I);d.Ms=d.Ms.insert(m,v)}}}(n.localStore,s))}async function RU(t,e){const r=se(t);if(!r.currentUser.isEqual(e)){Q(Pv,"User change. New user:",e.toKey());const n=await KC(r.localStore,e);r.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new q(U.CANCELLED,o))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await jc(r,n.Ls)}}function PU(t,e){const r=se(t),n=r.Au.get(e);if(n&&n.hu)return he().add(n.key);{let i=he();const s=r.Iu.get(e);if(!s)return i;for(const o of s){const a=r.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function hR(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AU.bind(null,e),e.Pu.H_=hU.bind(null,e.eventManager),e.Pu.yu=pU.bind(null,e.eventManager),e}function kU(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IU.bind(null,e),e}class of{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return O5(this.persistence,new N5,e.initialUser,this.serializer)}Cu(e){return new qC(wv.mi,this.serializer)}Du(e){return new z5}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}of.provider={build:()=>new of};class NU extends of{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){be(this.persistence.referenceDelegate instanceof nf,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new y5(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new qC(n=>nf.mi(n,r),this.serializer)}}class xg{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>h1(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=RU.bind(null,this.syncEngine),await uU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fU}()}createDatastore(e){const r=eh(e.databaseInfo.databaseId),n=function(s){return new K5(s)}(e.databaseInfo);return function(s,o,a,c){return new X5(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,o,a){return new Z5(n,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>h1(this.syncEngine,r,0),function(){return a1.v()?new a1:new B5}())}createSyncEngine(e,r){return function(i,s,o,a,c,u,d){const h=new vU(i,s,o,a,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=se(i);Q(Us,"RemoteStore shutting down."),s.Ea.add(5),await Vc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}xg.provider={build:()=>new xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="FirestoreClient";class DU{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=av.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{Q(Qi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Q(Qi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=Cv(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Ap(t,e){t.asyncQueue.verifyOperationInProgress(),Q(Qi,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await KC(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function m1(t,e){t.asyncQueue.verifyOperationInProgress();const r=await MU(t);Q(Qi,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>c1(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>c1(e.remoteStore,i)),t._onlineComponents=e}async function MU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(Qi,"Using user provided OfflineComponentProvider");try{await Ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ca("Error using user provided cache. Falling back to memory cache: "+r),await Ap(t,new of)}}else Q(Qi,"Using default OfflineComponentProvider"),await Ap(t,new NU(void 0));return t._offlineComponents}async function mR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(Qi,"Using user provided OnlineComponentProvider"),await m1(t,t._uninitializedComponentsProvider._online)):(Q(Qi,"Using default OnlineComponentProvider"),await m1(t,new xg))),t._onlineComponents}function OU(t){return mR(t).then(e=>e.syncEngine)}async function gR(t){const e=await mR(t),r=e.eventManager;return r.onListen=_U.bind(null,e.syncEngine),r.onUnlisten=xU.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=wU.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=bU.bind(null,e.syncEngine),r}function LU(t,e,r={}){const n=new kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new pR({next:m=>{d.Nu(),o.enqueueAndForget(()=>iR(s,h));const y=m.docs.has(a);!y&&m.fromCache?u.reject(new q(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&c&&c.source==="server"?u.reject(new q(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new sR(hv(a.path),d,{includeMetadataChanges:!0,qa:!0});return nR(s,h)}(await gR(t),t.asyncQueue,e,r,n)),n.promise}function VU(t,e,r={}){const n=new kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const d=new pR({next:m=>{d.Nu(),o.enqueueAndForget(()=>iR(s,h)),m.fromCache&&c.source==="server"?u.reject(new q(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new sR(a,d,{includeMetadataChanges:!0,qa:!0});return nR(s,h)}(await gR(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firestore.googleapis.com",y1=!0;class v1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vR,this.ssl=y1}else this.host=e.host,this.ssl=e.ssl??y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m5)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yR(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new BF;switch(n.type){case"firstParty":return new KF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=g1.get(r);n&&(Q("ComponentProvider","Removing Datastore"),g1.delete(r),n.terminate())}(this),Promise.resolve()}}function jU(t,e,r,n={}){var u;t=cn(t,nh);const i=Zi(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${r}`;i&&(qy(`https://${a}`),Ky("Firestore",!0)),s.host!==vR&&s.host!==a&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:n};if(!Ls(c,o)&&(t._setSettings(c),n.mockUserToken)){let d,h;if(typeof n.mockUserToken=="string")d=n.mockUserToken,h=bt.MOCK_USER;else{d=WS(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new bt(m)}t._authCredentials=new HF(new rC(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class Ge{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ge(this.firestore,e,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Mc(r,Ge._jsonSchema))return new Ge(e,n||null,new Z(Ce.fromString(r.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:Je("string",Ge._jsonSchemaVersion),referencePath:Je("string")};class Mi extends Xs{constructor(e,r,n){super(e,r,hv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ge(this.firestore,null,new Z(e))}withConverter(e){return new Mi(this.firestore,e,this._path)}}function _R(t,e,...r){if(t=Fe(t),nC("collection","path",e),t instanceof nh){const n=Ce.fromString(e,...r);return kE(n),new Mi(t,null,n)}{if(!(t instanceof Ge||t instanceof Mi))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ce.fromString(e,...r));return kE(n),new Mi(t.firestore,null,n)}}function qn(t,e,...r){if(t=Fe(t),arguments.length===1&&(e=av.newId()),nC("doc","path",e),t instanceof nh){const n=Ce.fromString(e,...r);return PE(n),new Ge(t,null,new Z(n))}{if(!(t instanceof Ge||t instanceof Mi))throw new q(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Ce.fromString(e,...r));return PE(n),new Ge(t.firestore,t instanceof Mi?t.converter:null,new Z(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="AsyncQueue";class w1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QC(this,"async_queue_retry"),this._c=()=>{const n=Tp();n&&Q(_1,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=Tp();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=Tp();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new kn;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sa(e))throw e;Q(_1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,zn("INTERNAL UNHANDLED ERROR: ",E1(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=Iv.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&ne(47125,{Pc:E1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function E1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ra extends nh{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new w1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w1(e),this._firestoreClient=void 0,await e}}}function FU(t,e){const r=typeof t=="object"?t:Yy(),n=typeof t=="string"?t:Jd,i=Ff(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=zS("firestore");s&&jU(i,...s)}return i}function Nv(t){if(t._terminated)throw new q(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UU(t),t._firestoreClient}function UU(t){var n,i,s;const e=t._freezeSettings(),r=function(a,c,u,d){return new u6(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yR(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DU(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hr(gt.fromBase64String(e))}catch(r){throw new q(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new hr(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mc(e,hr._jsonSchema))return hr.fromBase64String(e.bytes)}}hr._jsonSchemaVersion="firestore/bytes/1.0",hr._jsonSchema={type:Je("string",hr._jsonSchemaVersion),bytes:Je("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new q(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new q(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new q(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:on._jsonSchemaVersion}}static fromJSON(e){if(Mc(e,on._jsonSchema))return new on(e.latitude,e.longitude)}}on._jsonSchemaVersion="firestore/geoPoint/1.0",on._jsonSchema={type:Je("string",on._jsonSchemaVersion),latitude:Je("number"),longitude:Je("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:an._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mc(e,an._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new an(e.vectorValues);throw new q(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}an._jsonSchemaVersion="firestore/vectorValue/1.0",an._jsonSchema={type:Je("string",an._jsonSchemaVersion),vectorValues:Je("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=/^__.*__$/;class zU{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,r,this.fieldTransforms):new Oc(e,this.data,r,this.fieldTransforms)}}class wR{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ts(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ac:t})}}class Dv{constructor(e,r,n,i,s,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return af(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ER(this.Ac)&&$U.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BU{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||eh(e)}Cc(e,r,n,i=!1){return new Dv({Ac:e,methodName:r,Dc:n,path:ht.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mv(t){const e=t._freezeSettings(),r=eh(t._databaseId);return new BU(t._databaseId,!!e.ignoreUndefinedProperties,r)}function HU(t,e,r,n,i,s={}){const o=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);Lv("Data must be an object, but it was:",o,n);const a=xR(n,o);let c,u;if(s.merge)c=new er(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const m=bg(e,h,r);if(!o.contains(m))throw new q(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);TR(d,m)||d.push(m)}c=new er(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new zU(new Bt(a),c,u)}class oh extends sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oh}}class Ov extends sh{_toFieldTransform(e){return new O6(e.path,new uc)}isEqual(e){return e instanceof Ov}}function WU(t,e,r,n){const i=t.Cc(1,e,r);Lv("Data must be an object, but it was:",i,n);const s=[],o=Bt.empty();es(n,(c,u)=>{const d=Vv(e,c,r);u=Fe(u);const h=i.yc(d);if(u instanceof oh)s.push(d);else{const m=Fc(u,h);m!=null&&(s.push(d),o.set(d,m))}});const a=new er(s);return new wR(o,a,i.fieldTransforms)}function qU(t,e,r,n,i,s){const o=t.Cc(1,e,r),a=[bg(e,n,r)],c=[i];if(s.length%2!=0)throw new q(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(bg(e,s[m])),c.push(s[m+1]);const u=[],d=Bt.empty();for(let m=a.length-1;m>=0;--m)if(!TR(u,a[m])){const y=a[m];let I=c[m];I=Fe(I);const v=o.yc(y);if(I instanceof oh)u.push(y);else{const x=Fc(I,v);x!=null&&(u.push(y),d.set(y,x))}}const h=new er(u);return new wR(d,h,o.fieldTransforms)}function KU(t,e,r,n=!1){return Fc(r,t.Cc(n?4:3,e))}function Fc(t,e){if(bR(t=Fe(t)))return Lv("Unsupported field value:",e,t),xR(t,e);if(t instanceof sh)return function(n,i){if(!ER(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const a of n){let c=Fc(a,i.wc(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=Fe(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return N6(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Ae.fromDate(n);return{timestampValue:rf(i.serializer,s)}}if(n instanceof Ae){const s=new Ae(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rf(i.serializer,s)}}if(n instanceof on)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hr)return{bytesValue:jC(i.serializer,n._byteString)};if(n instanceof Ge){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:vv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof an)return function(o,a){return{mapValue:{fields:{[fC]:{stringValue:pC},[Zd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return pv(a.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Wf(n)}`)}(t,e)}function xR(t,e){const r={};return oC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(n,i)=>{const s=Fc(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function bR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof on||t instanceof hr||t instanceof Ge||t instanceof sh||t instanceof an)}function Lv(t,e,r){if(!bR(r)||!iC(r)){const n=Wf(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function bg(t,e,r){if((e=Fe(e))instanceof ih)return e._internalPath;if(typeof e=="string")return Vv(t,e);throw af("Field path arguments must be of type string or ",t,!1,void 0,r)}const GU=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,r){if(e.search(GU)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new ih(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function af(t,e,r,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${n}`),o&&(c+=` in document ${i}`),c+=")"),new q(U.INVALID_ARGUMENT,a+t+c)}function TR(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(jv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class QU extends AR{data(){return super.data()}}function jv(t,e){return typeof e=="string"?Vv(t,e):e instanceof ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new q(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Fv{}class SR extends Fv{}function XU(t,e,...r){let n=[];e instanceof Fv&&n.push(e),n=n.concat(r),function(s){const o=s.filter(c=>c instanceof $v).length,a=s.filter(c=>c instanceof Uv).length;if(o>1||o>0&&a>0)throw new q(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class Uv extends SR{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Uv(e,r,n)}_apply(e){const r=this._parse(e);return IR(e._query,r),new Xs(e.firestore,e.converter,fg(e._query,r))}_parse(e){const r=Mv(e.firestore);return function(s,o,a,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new q(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){b1(h,d);const I=[];for(const v of h)I.push(x1(c,s,v));m={arrayValue:{values:I}}}else m=x1(c,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||b1(h,d),m=KU(a,o,h,d==="in"||d==="not-in");return Xe.create(u,d,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class $v extends Fv{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new $v(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Lr.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)IR(o,c),o=fg(o,c)}(e._query,r),new Xs(e.firestore,e.converter,fg(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zv extends SR{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new zv(e,r)}_apply(e){const r=function(i,s,o){if(i.startAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new q(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new cc(s,o)}(e._query,this._field,this._direction);return new Xs(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ia(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function JU(t,e="asc"){const r=e,n=jv("orderBy",t);return zv._create(n,r)}function x1(t,e,r){if(typeof(r=Fe(r))=="string"){if(r==="")throw new q(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xC(e)&&r.indexOf("/")!==-1)throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Ce.fromString(r));if(!Z.isDocumentKey(n))throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return FE(t,new Z(n))}if(r instanceof Ge)return FE(t,r._key);throw new q(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wf(r)}.`)}function b1(t,e){if(!Array.isArray(t)||t.length===0)throw new q(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IR(t,e){const r=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new q(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ZU{convertValue(e,r="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return es(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[Zd].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>qe(o.doubleValue));return new an(r)}convertGeoPoint(e){return new on(qe(e.latitude),qe(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Gf(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const r=Wi(e);return new Ae(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Ce.fromString(e);be(HC(n),9688,{name:e});const i=new ac(n.get(1),n.get(3)),s=new Z(n.popFirst(5));return i.isEqual(r)||zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t,e,r){let n;return n=t?t.toFirestore(e):e,n}class _l{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ss extends AR{constructor(e,r,n,i,s,o){super(e,r,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(jv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Ss._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Ss._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ss._jsonSchema={type:Je("string",Ss._jsonSchemaVersion),bundleSource:Je("string","DocumentSnapshot"),bundleName:Je("string"),bundle:Je("string")};class ld extends Ss{data(e={}){return super.data(e)}}class Oo{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new _l(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new ld(this._firestore,this._userDataWriter,n.key,n,new _l(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new q(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new ld(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new ld(i._firestore,i._userDataWriter,a.doc.key,a.doc,new _l(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:t9(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=av.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function t9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){t=cn(t,Ge);const e=cn(t.firestore,Ra);return LU(Nv(e),t._key).then(r=>i9(e,t,r))}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:Je("string",Oo._jsonSchemaVersion),bundleSource:Je("string","QuerySnapshot"),bundleName:Je("string"),bundle:Je("string")};class CR extends ZU{constructor(e){super(),this.firestore=e}convertBytes(e){return new hr(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ge(this.firestore,null,r)}}function r9(t){t=cn(t,Xs);const e=cn(t.firestore,Ra),r=Nv(e),n=new CR(e);return YU(t._query),VU(r,t._query).then(i=>new Oo(e,n,t,i))}function Bv(t,e,r){t=cn(t,Ge);const n=cn(t.firestore,Ra),i=e9(t.converter,e);return Wv(n,[HU(Mv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Nr.none())])}function Hv(t,e,r,...n){t=cn(t,Ge);const i=cn(t.firestore,Ra),s=Mv(i);let o;return o=typeof(e=Fe(e))=="string"||e instanceof ih?qU(s,"updateDoc",t._key,e,r,n):WU(s,"updateDoc",t._key,e),Wv(i,[o.toMutation(t._key,Nr.exists(!0))])}function n9(t){return Wv(cn(t.firestore,Ra),[new mv(t._key,Nr.none())])}function Wv(t,e){return function(n,i){const s=new kn;return n.asyncQueue.enqueueAndForget(async()=>TU(await OU(n),i,s)),s.promise}(Nv(t),e)}function i9(t,e,r){const n=r.docs.get(e._key),i=new CR(t);return new Ss(t,i,e._key,n,new _l(r.hasPendingWrites,r.fromCache),e.converter)}function ah(){return new Ov("serverTimestamp")}(function(e,r=!0){(function(i){Ta=i})(Ks),Vs(new zi("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),a=new Ra(new WF(n.getProvider("auth-internal")),new GF(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(u.options.projectId,d)}(o,i),o);return s={useFetchStreams:r,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),tn(SE,IE,e),tn(SE,IE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebasestorage.googleapis.com",PR="storageBucket",s9=2*60*1e3,o9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends fn{constructor(e,r,n=0){super(Sp(e),`Firebase Storage: ${r} (${Sp(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Sp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Sp(t){return"storage/"+t}function kR(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(ct.UNKNOWN,t)}function a9(t){return new ut(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function l9(t){return new ut(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function c9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(ct.UNAUTHENTICATED,t)}function u9(){return new ut(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function d9(t){return new ut(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function f9(){return new ut(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h9(){return new ut(ct.CANCELED,"User canceled the upload/download.")}function p9(t){return new ut(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function m9(t){return new ut(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function g9(){return new ut(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PR+"' property when initializing the app?")}function y9(){return new ut(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tg(t){return new ut(ct.INVALID_ARGUMENT,t)}function NR(){return new ut(ct.APP_DELETED,"The Firebase app was deleted.")}function v9(t){return new ut(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ll(t){throw new ut(ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=tr.makeFromUrl(e,r)}catch{return new tr(e,"")}if(n.path==="")return n;throw m9(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(P){P.path.charAt(P.path.length-1)==="/"&&(P.path_=P.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(P){P.path_=decodeURIComponent(P.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${i}/o${m}`,"i"),I={bucket:1,path:3},v=r===RR?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",w=new RegExp(`^https?://${v}/${i}/${x}`,"i"),b=[{regex:a,indices:c,postModify:s},{regex:y,indices:I,postModify:u},{regex:w,indices:{bucket:1,path:2},postModify:u}];for(let P=0;P<b.length;P++){const L=b[P],M=L.regex.exec(e);if(M){const T=M[L.indices.bucket];let A=M[L.indices.path];A||(A=""),n=new tr(T,A),L.postModify(n);break}}if(n==null)throw p9(e);return n}}class _9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e,r){let n=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(y,c())},x)}function m(){s&&clearTimeout(s)}function y(x,...w){if(u){m();return}if(x){m(),d.call(null,x,...w);return}if(c()||o){m(),d.call(null,x,...w);return}n<64&&(n*=2);let b;a===1?(a=2,b=0):b=(n+Math.random())*1e3,h(b)}let I=!1;function v(x){I||(I=!0,m(),!u&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,v(!0)},r),v}function E9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(t){return t!==void 0}function b9(t){return typeof t=="object"&&!Array.isArray(t)}function DR(t){return typeof t=="string"||t instanceof String}function T1(t,e,r,n){if(n<e)throw Tg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw Tg(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function OR(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var Is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Is||(Is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,r,n,i,s,o,a,c,u,d,h,m=!0,y=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,v)=>{this.resolve_=I,this.reject_=v,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new Pu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Is.NO_ERROR,c=s.getStatus();if(!a||T9(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Is.ABORT;n(!1,new Pu(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;n(!0,new Pu(u,s))})},r=(n,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());x9(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=kR();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?NR():h9();o(c)}else{const c=f9();o(c)}};this.canceled_?r(!1,new Pu(!1,null,!0)):this.backoffId_=w9(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&E9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pu{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function S9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function I9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function R9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function P9(t,e,r,n,i,s,o=!0,a=!1){const c=OR(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return C9(d,e),S9(d,r),I9(d,s),R9(d,n),new A9(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){let e;try{e=JSON.parse(t)}catch{return null}return b9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function N9(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function VR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t,e){return e}class Nt{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||D9}}let ku=null;function M9(t){return!DR(t)||t.length<2?t:VR(t)}function O9(){if(ku)return ku;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(s,o){return M9(o)}const r=new Nt("name");r.xform=e,t.push(r);function n(s,o){return o!==void 0?Number(o):o}const i=new Nt("size");return i.xform=n,t.push(i),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),ku=t,ku}function L9(t,e){function r(){const n=t.bucket,i=t.fullPath,s=new tr(n,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function V9(t,e,r){const n={};n.type="file";const i=r.length;for(let s=0;s<i;s++){const o=r[s];n[o.local]=o.xform(n,e[o.server])}return L9(n,t),n}function j9(t,e,r){const n=LR(e);return n===null?null:V9(t,n,r)}function F9(t,e,r,n){const i=LR(e);if(i===null||!DR(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,m="/b/"+o(d)+"/o/"+o(h),y=MR(m,r,n),I=OR({alt:"media",token:u});return y+I})[0]}class U9{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9(t){if(!t)throw kR()}function z9(t,e){function r(n,i){const s=j9(t,i,e);return $9(s!==null),F9(s,i,t.host,t._protocol)}return r}function B9(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=u9():i=c9():r.getStatus()===402?i=l9(t.bucket):r.getStatus()===403?i=d9(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function H9(t){const e=B9(t);function r(n,i){let s=e(n,i);return n.getStatus()===404&&(s=a9(t.path)),s.serverResponse=i.serverResponse,s}return r}function W9(t,e,r){const n=e.fullServerUrl(),i=MR(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new U9(i,s,z9(t,r),o);return a.errorHandler=H9(e),a}class q9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,s){if(this.sent_)throw ll("cannot .send() more than once");if(Zi(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class K9 extends q9{initXhr(){this.xhr_.responseType="text"}}function G9(){return new K9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,r){this._service=e,r instanceof tr?this._location=r:this._location=tr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new $s(e,r)}get root(){const e=new tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VR(this._location.path)}get storage(){return this._service}get parent(){const e=k9(this._location.path);if(e===null)return null;const r=new tr(this._location.bucket,e);return new $s(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw v9(e)}}function Q9(t){t._throwIfRoot("getDownloadURL");const e=W9(t.storage,t._location,O9());return t.storage.makeRequestWithTokens(e,G9).then(r=>{if(r===null)throw y9();return r})}function Y9(t,e){const r=N9(t._location.path,e),n=new tr(t._location.bucket,r);return new $s(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X9(t){return/^[A-Za-z]+:\/\//.test(t)}function J9(t,e){return new $s(t,e)}function jR(t,e){if(t instanceof qv){const r=t;if(r._bucket==null)throw g9();const n=new $s(r,r._bucket);return e!=null?jR(n,e):n}else return e!==void 0?Y9(t,e):t}function Z9(t,e){if(e&&X9(e)){if(t instanceof qv)return J9(t,e);throw Tg("To use ref(service, url), the first argument must be a Storage instance.")}else return jR(t,e)}function A1(t,e){const r=e==null?void 0:e[PR];return r==null?null:tr.makeFromBucketSpec(r,t)}function e$(t,e,r,n={}){t.host=`${e}:${r}`;const i=Zi(e);i&&(qy(`https://${t.host}/b`),Ky("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:WS(s,t.app.options.projectId))}class qv{constructor(e,r,n,i,s,o=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=RR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=s9,this._maxUploadRetryTime=o9,this._requests=new Set,i!=null?this._bucket=tr.makeFromBucketSpec(i,this._host):this._bucket=A1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tr.makeFromBucketSpec(this._url,e):this._bucket=A1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $s(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new _9(NR());{const o=P9(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const S1="@firebase/storage",I1="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="storage";function UR(t){return t=Fe(t),Q9(t)}function $R(t,e){return t=Fe(t),Z9(t,e)}function t$(t=Yy(),e){t=Fe(t);const n=Ff(t,FR).getImmediate({identifier:e}),i=zS("storage");return i&&r$(n,...i),n}function r$(t,e,r,n={}){e$(t,e,r,n)}function n$(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new qv(r,n,i,e,Ks)}function i$(){Vs(new zi(FR,n$,"PUBLIC").setMultipleInstances(!0)),tn(S1,I1,""),tn(S1,I1,"esm2020")}i$();const s$={apiKey:"AIzaSyBkpTFpXKP4UWdOqRaX4WWSevfBgMvM8Rs",authDomain:"daily-breaditation.firebaseapp.com",projectId:"daily-breaditation",storageBucket:"daily-breaditation.firebasestorage.app",appId:"1:124541920117:web:da2d959d38aedca08aa93c"},lh=GS(s$),En=GI(lh),jr=FU(lh),Kv=t$(lh),zR=new Yr,C1=Object.freeze(Object.defineProperty({__proto__:null,app:lh,auth:En,db:jr,googleProvider:zR,storage:Kv},Symbol.toStringTag,{value:"Module"})),BR=_.createContext(void 0);function o$({children:t}){const[e,r]=_.useState(null),[n,i]=_.useState(!0);_.useEffect(()=>NI(En,h=>{r(h),i(!1)}),[]);const s=async(d,h)=>{await CI(En,d,h),sessionStorage.removeItem("guestUser")},o=async(d,h)=>{await II(En,d,h),sessionStorage.removeItem("guestUser")},a=async()=>{await WI(En,zR),sessionStorage.removeItem("guestUser")},c=async()=>{await DI(En),sessionStorage.removeItem("guestUser"),r(null)},u=async()=>{try{await xI(En),sessionStorage.removeItem("guestUser")}catch(d){throw console.error("Failed to sign in anonymously:",d),d}};return f.jsx(BR.Provider,{value:{user:e,loading:n,signIn:s,signUp:o,signInWithGoogle:a,signOut:c,signInAsGuest:u},children:t})}function ar(){const t=_.useContext(BR);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const HR=_.createContext(void 0),R1="calmandments-mode";function a$({children:t}){const[e,r]=_.useState(()=>typeof window<"u"&&localStorage.getItem(R1)||"light");_.useEffect(()=>{const i=document.documentElement;e==="dark"?i.classList.add("dark"):i.classList.remove("dark"),localStorage.setItem(R1,e)},[e]);const n=()=>{r(i=>i==="dark"?"light":"dark")};return f.jsx(HR.Provider,{value:{mode:e,toggleMode:n},children:t})}function l$(){const[t,e]=_.useState(!1),[r,n]=_.useState(null);return{isLoading:t,error:r}}async function c$(t){const e=qn(_R(jr,`users/${t.userId}/moodEntries`)),r={...t,id:e.id,createdAt:new Date};return await Bv(e,{...r,date:Ae.fromDate(r.date),createdAt:ah()}),await m$(t.userId),r}async function WR(t){const e=_R(jr,`users/${t}/moodEntries`),r=XU(e,JU("date","desc"));return(await r9(r)).docs.map(i=>{var o;const s=i.data();return{id:i.id,userId:t,date:s.date.toDate(),moodValue:s.moodValue,emotion:s.emotion,reflection:s.reflection,bibleVerseReference:s.bibleVerseReference,bibleVerseText:s.bibleVerseText,createdAt:((o=s.createdAt)==null?void 0:o.toDate())||new Date}})}async function u$(t,e,r){var a;const n=qn(jr,`users/${t}/moodEntries/${e}`),i={...r};r.date&&(i.date=Ae.fromDate(r.date)),await Hv(n,i);const s=await Uc(n),o=s.data();return{id:s.id,userId:t,...o,date:o==null?void 0:o.date.toDate(),createdAt:((a=o==null?void 0:o.createdAt)==null?void 0:a.toDate())||new Date}}async function d$(t,e){const r=qn(jr,`users/${t}/moodEntries/${e}`);await n9(r)}async function f$(t){const e=qn(jr,`users/${t.userId}/profile/data`),r={...t,id:e.id,createdAt:new Date};return await Bv(e,{...r,createdAt:ah()}),r}async function h$(t){var i;const e=qn(jr,`users/${t}/profile/data`),r=await Uc(e);if(!r.exists())return null;const n=r.data();return{id:r.id,userId:t,displayName:n.displayName,email:n.email,isPremium:n.isPremium||!1,isSupporter:n.isSupporter||!1,createdAt:((i=n.createdAt)==null?void 0:i.toDate())||new Date}}async function p$(t,e){var s;const r=qn(jr,`users/${t}/profile/data`);await Hv(r,e);const n=await Uc(r),i=n.data();return{id:n.id,userId:t,...i,createdAt:((s=i==null?void 0:i.createdAt)==null?void 0:s.toDate())||new Date}}async function qR(t){var i,s;const e=qn(jr,`users/${t}/streak/data`),r=await Uc(e);if(!r.exists())return null;const n=r.data();return{id:r.id,userId:t,currentStreak:n.currentStreak||0,longestStreak:n.longestStreak||0,lastCheckInDate:((i=n.lastCheckInDate)==null?void 0:i.toDate())||null,updatedAt:((s=n.updatedAt)==null?void 0:s.toDate())||new Date}}async function KR(t){const e=qn(jr,`users/${t.userId}/streak/data`),r={...t,id:e.id,updatedAt:new Date};return await Bv(e,{...r,lastCheckInDate:t.lastCheckInDate?Ae.fromDate(t.lastCheckInDate):null,updatedAt:ah()}),r}async function GR(t,e){var o,a;const r=qn(jr,`users/${t}/streak/data`),n={...e};e.lastCheckInDate&&(n.lastCheckInDate=Ae.fromDate(e.lastCheckInDate)),n.updatedAt=ah(),await Hv(r,n);const i=await Uc(r),s=i.data();return{id:i.id,userId:t,currentStreak:(s==null?void 0:s.currentStreak)||0,longestStreak:(s==null?void 0:s.longestStreak)||0,lastCheckInDate:((o=s==null?void 0:s.lastCheckInDate)==null?void 0:o.toDate())||null,updatedAt:((a=s==null?void 0:s.updatedAt)==null?void 0:a.toDate())||new Date}}async function m$(t){let e=await qR(t);e||(e=await KR({userId:t,currentStreak:0,longestStreak:0,lastCheckInDate:null}));const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate());let i=e.currentStreak;if(e.lastCheckInDate){const s=new Date(e.lastCheckInDate),o=new Date(s.getFullYear(),s.getMonth(),s.getDate()),a=n.getTime()-o.getTime(),c=Math.floor(a/(1e3*60*60*24));c===0?i=e.currentStreak:c===1?i=e.currentStreak+1:i=1}else i=1;await GR(t,{currentStreak:i,longestStreak:Math.max(i,e.longestStreak),lastCheckInDate:r})}async function g$(t){const e=await WR(t);if(e.length===0)return KR({userId:t,currentStreak:0,longestStreak:0,lastCheckInDate:null});const r=new Date,n=new Date(r.getFullYear(),r.getMonth(),r.getDate()),i=new Set;e.forEach(d=>{const h=new Date(d.date),m=`${h.getFullYear()}-${h.getMonth()}-${h.getDate()}`;i.add(m)});const s=Array.from(i).map(d=>{const[h,m,y]=d.split("-").map(Number);return new Date(h,m,y)}).sort((d,h)=>h.getTime()-d.getTime());let o=0,a=new Date(n);for(const d of s){const h=a.getTime()-d.getTime(),m=Math.floor(h/(1e3*60*60*24));if(m===0)o++,a=new Date(a.getFullYear(),a.getMonth(),a.getDate()-1);else if(m===1&&o>0)o++,a=new Date(a.getFullYear(),a.getMonth(),a.getDate()-1);else break}const c=e[0],u=new Date(c.date);return GR(t,{currentStreak:o,longestStreak:o,lastCheckInDate:u})}function y$(){const{user:t}=ar(),{data:e,isLoading:r}=If({queryKey:["user-profile",t==null?void 0:t.uid],queryFn:async()=>t!=null&&t.uid?await h$(t.uid):null,enabled:!!t&&!t.isAnonymous,retry:!1,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0}),n=Rl({mutationFn:async s=>{if(t!=null&&t.isAnonymous||!(t!=null&&t.uid)){console.warn("Anonymous users cannot create a profile.");return}return await f$({...s,userId:t.uid})},onSuccess:()=>{lr.invalidateQueries({queryKey:["user-profile",t==null?void 0:t.uid]})}}),i=Rl({mutationFn:async s=>{if(t!=null&&t.isAnonymous||!(t!=null&&t.uid)){console.warn("Anonymous users cannot update a profile.");return}return await p$(t.uid,s)},onSuccess:()=>{lr.invalidateQueries({queryKey:["user-profile",t==null?void 0:t.uid]})}});return{profile:e,isLoading:r,createProfile:n,updateProfile:i}}function v$(){const{user:t}=ar(),{profile:e,isLoading:r,createProfile:n}=y$();return _.useEffect(()=>{t&&!t.isAnonymous&&!r&&!e&&n.mutate({userId:t.uid,email:t.email||"",displayName:t.displayName||void 0,isPremium:!1,isSupporter:!1})},[t,e,r,n]),{profile:e}}function Gv(){const{user:t}=ar(),{data:e=[],isLoading:r}=If({queryKey:["mood-entries",t==null?void 0:t.uid],queryFn:async()=>t!=null&&t.uid?await WR(t.uid):[],enabled:!!t&&!t.isAnonymous,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0});console.log("useMoodEntries - user.uid:",t==null?void 0:t.uid),console.log("useMoodEntries - entries:",e);const n=Rl({mutationFn:async o=>{if(t!=null&&t.isAnonymous||!(t!=null&&t.uid)){console.warn("Anonymous users cannot create entries.");return}console.log("[useMoodEntries] Creating mood entry with:",o);const a=await c$({...o,userId:t.uid});return console.log("[useMoodEntries] Entry created:",a),a},onSuccess:o=>{console.log("[useMoodEntries] onSuccess - invalidating queries for userId:",t==null?void 0:t.uid),console.log("[useMoodEntries] onSuccess - created entry:",o),lr.invalidateQueries({queryKey:["mood-entries",t==null?void 0:t.uid]}),lr.invalidateQueries({queryKey:["user-streak",t==null?void 0:t.uid]})}}),i=Rl({mutationFn:async({id:o,updates:a})=>{if(t!=null&&t.isAnonymous||!(t!=null&&t.uid)){console.warn("Anonymous users cannot update entries.");return}return await u$(t.uid,o,a)},onMutate:async({id:o,updates:a})=>{await lr.cancelQueries({queryKey:["mood-entries",t==null?void 0:t.uid]});const c=lr.getQueryData(["mood-entries",t==null?void 0:t.uid]);return c&&lr.setQueryData(["mood-entries",t==null?void 0:t.uid],c.map(u=>u.id===o?{...u,...a}:u)),{previousEntries:c}},onError:(o,a,c)=>{c!=null&&c.previousEntries&&lr.setQueryData(["mood-entries",t==null?void 0:t.uid],c.previousEntries)},onSuccess:()=>{lr.invalidateQueries({queryKey:["mood-entries",t==null?void 0:t.uid]})}}),s=Rl({mutationFn:async o=>{if(t!=null&&t.isAnonymous||!(t!=null&&t.uid)){console.warn("Anonymous users cannot delete entries.");return}await d$(t.uid,o)},onSuccess:()=>{lr.invalidateQueries({queryKey:["mood-entries",t==null?void 0:t.uid]}),lr.invalidateQueries({queryKey:["user-streak",t==null?void 0:t.uid]})}});return{entries:e,isLoading:r,createEntry:n,updateEntry:i,deleteEntry:s}}const Qv=Oy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ye=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?OM:"button";return f.jsx(o,{className:ve(Qv({variant:e,size:r,className:t})),ref:s,...i})});ye.displayName="Button";var Ip="focusScope.autoFocusOnMount",Cp="focusScope.autoFocusOnUnmount",P1={bubbles:!1,cancelable:!0},_$="FocusScope",QR=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,c]=_.useState(null),u=vr(i),d=vr(s),h=_.useRef(null),m=He(e,v=>c(v)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let v=function(b){if(y.paused||!a)return;const P=b.target;a.contains(P)?h.current=P:oi(h.current,{select:!0})},x=function(b){if(y.paused||!a)return;const P=b.relatedTarget;P!==null&&(a.contains(P)||oi(h.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const L of b)L.removedNodes.length>0&&oi(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const E=new MutationObserver(w);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),E.disconnect()}}},[n,a,y.paused]),_.useEffect(()=>{if(a){N1.add(y);const v=document.activeElement;if(!a.contains(v)){const w=new CustomEvent(Ip,P1);a.addEventListener(Ip,u),a.dispatchEvent(w),w.defaultPrevented||(w$(A$(YR(a)),{select:!0}),document.activeElement===v&&oi(a))}return()=>{a.removeEventListener(Ip,u),setTimeout(()=>{const w=new CustomEvent(Cp,P1);a.addEventListener(Cp,d),a.dispatchEvent(w),w.defaultPrevented||oi(v??document.body,{select:!0}),a.removeEventListener(Cp,d),N1.remove(y)},0)}}},[a,u,d,y]);const I=_.useCallback(v=>{if(!r&&!n||y.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(x&&w){const E=v.currentTarget,[b,P]=E$(E);b&&P?!v.shiftKey&&w===P?(v.preventDefault(),r&&oi(b,{select:!0})):v.shiftKey&&w===b&&(v.preventDefault(),r&&oi(P,{select:!0})):w===E&&v.preventDefault()}},[r,n,y.paused]);return f.jsx(Me.div,{tabIndex:-1,...o,ref:m,onKeyDown:I})});QR.displayName=_$;function w$(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(oi(n,{select:e}),document.activeElement!==r)return}function E$(t){const e=YR(t),r=k1(e,t),n=k1(e.reverse(),t);return[r,n]}function YR(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function k1(t,e){for(const r of t)if(!x$(r,{upTo:e}))return r}function x$(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function b$(t){return t instanceof HTMLInputElement&&"select"in t}function oi(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&b$(t)&&e&&t.select()}}var N1=T$();function T$(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=D1(t,e),t.unshift(e)},remove(e){var r;t=D1(t,e),(r=t[0])==null||r.resume()}}}function D1(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function A$(t){return t.filter(e=>e.tagName!=="A")}var Rp=0;function S$(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??M1()),document.body.insertAdjacentElement("beforeend",t[1]??M1()),Rp++,()=>{Rp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Rp--}},[])}function M1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xr=function(){return Xr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xr.apply(this,arguments)};function XR(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function I$(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var cd="right-scroll-bar-position",ud="width-before-scroll-bar",C$="with-scroll-bars-hidden",R$="--removed-body-scroll-bar-size";function Pp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function P$(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var k$=typeof window<"u"?_.useLayoutEffect:_.useEffect,O1=new WeakMap;function N$(t,e){var r=P$(null,function(n){return t.forEach(function(i){return Pp(i,n)})});return k$(function(){var n=O1.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(a){s.has(a)||Pp(a,null)}),s.forEach(function(a){i.has(a)||Pp(a,o)})}O1.set(r,t)},[t]),r}function D$(t){return t}function M$(t,e){e===void 0&&(e=D$);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(a){return s(a)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function O$(t){t===void 0&&(t={});var e=M$(null);return e.options=Xr({async:!0,ssr:!1},t),e}var JR=function(t){var e=t.sideCar,r=XR(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Xr({},r))};JR.isSideCarExport=!0;function L$(t,e){return t.useMedium(e),JR}var ZR=O$(),kp=function(){},ch=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:kp,onWheelCapture:kp,onTouchMoveCapture:kp}),i=n[0],s=n[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,y=t.noIsolation,I=t.inert,v=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,E=t.gapMode,b=XR(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,L=N$([r,e]),M=Xr(Xr({},b),i);return _.createElement(_.Fragment,null,d&&_.createElement(P,{sideCar:ZR,removeScrollBar:u,shards:h,noIsolation:y,inert:I,setCallbacks:s,allowPinchZoom:!!v,lockRef:r,gapMode:E}),o?_.cloneElement(_.Children.only(a),Xr(Xr({},M),{ref:L})):_.createElement(w,Xr({},M,{className:c,ref:L}),a))});ch.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ch.classNames={fullWidth:ud,zeroRight:cd};var V$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function j$(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=V$();return e&&t.setAttribute("nonce",e),t}function F$(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function U$(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var $$=function(){var t=0,e=null;return{add:function(r){t==0&&(e=j$())&&(F$(e,r),U$(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z$=function(){var t=$$();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},eP=function(){var t=z$(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},B$={left:0,top:0,right:0,gap:0},Np=function(t){return parseInt(t||"",10)||0},H$=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Np(r),Np(n),Np(i)]},W$=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return B$;var e=H$(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},q$=eP(),Lo="data-scroll-locked",K$=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(C$,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(Lo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cd,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(ud,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(cd," .").concat(cd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ud," .").concat(ud,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lo,`] {
    `).concat(R$,": ").concat(a,`px;
  }
`)},L1=function(){var t=parseInt(document.body.getAttribute(Lo)||"0",10);return isFinite(t)?t:0},G$=function(){_.useEffect(function(){return document.body.setAttribute(Lo,(L1()+1).toString()),function(){var t=L1()-1;t<=0?document.body.removeAttribute(Lo):document.body.setAttribute(Lo,t.toString())}},[])},Q$=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;G$();var s=_.useMemo(function(){return W$(i)},[i]);return _.createElement(q$,{styles:K$(s,!e,i,r?"":"!important")})},Ag=!1;if(typeof window<"u")try{var Nu=Object.defineProperty({},"passive",{get:function(){return Ag=!0,!0}});window.addEventListener("test",Nu,Nu),window.removeEventListener("test",Nu,Nu)}catch{Ag=!1}var ro=Ag?{passive:!1}:!1,Y$=function(t){return t.tagName==="TEXTAREA"},tP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Y$(t)&&r[e]==="visible")},X$=function(t){return tP(t,"overflowY")},J$=function(t){return tP(t,"overflowX")},V1=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=rP(t,n);if(i){var s=nP(t,n),o=s[1],a=s[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Z$=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},ez=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},rP=function(t,e){return t==="v"?X$(e):J$(e)},nP=function(t,e){return t==="v"?Z$(e):ez(e)},tz=function(t,e){return t==="h"&&e==="rtl"?-1:1},rz=function(t,e,r,n,i){var s=tz(t,window.getComputedStyle(e).direction),o=s*n,a=r.target,c=e.contains(a),u=!1,d=o>0,h=0,m=0;do{var y=nP(t,a),I=y[0],v=y[1],x=y[2],w=v-x-s*I;(I||w)&&rP(t,a)&&(h+=w,m+=I),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(u=!0),u},Du=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},j1=function(t){return[t.deltaX,t.deltaY]},F1=function(t){return t&&"current"in t?t.current:t},nz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},iz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},sz=0,no=[];function oz(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),i=_.useState(sz++)[0],s=_.useState(eP)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=I$([t.lockRef.current],(t.shards||[]).map(F1),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=_.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var w=Du(v),E=r.current,b="deltaX"in v?v.deltaX:E[0]-w[0],P="deltaY"in v?v.deltaY:E[1]-w[1],L,M=v.target,T=Math.abs(b)>Math.abs(P)?"h":"v";if("touches"in v&&T==="h"&&M.type==="range")return!1;var A=V1(T,M);if(!A)return!0;if(A?L=T:(L=T==="v"?"h":"v",A=V1(T,M)),!A)return!1;if(!n.current&&"changedTouches"in v&&(b||P)&&(n.current=L),!L)return!0;var S=n.current||L;return rz(S,x,v,S==="h"?b:P,!0)},[]),c=_.useCallback(function(v){var x=v;if(!(!no.length||no[no.length-1]!==s)){var w="deltaY"in x?j1(x):Du(x),E=e.current.filter(function(L){return L.name===x.type&&(L.target===x.target||x.target===L.shadowParent)&&nz(L.delta,w)})[0];if(E&&E.should){x.cancelable&&x.preventDefault();return}if(!E){var b=(o.current.shards||[]).map(F1).filter(Boolean).filter(function(L){return L.contains(x.target)}),P=b.length>0?a(x,b[0]):!o.current.noIsolation;P&&x.cancelable&&x.preventDefault()}}},[]),u=_.useCallback(function(v,x,w,E){var b={name:v,delta:x,target:w,should:E,shadowParent:az(w)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(P){return P!==b})},1)},[]),d=_.useCallback(function(v){r.current=Du(v),n.current=void 0},[]),h=_.useCallback(function(v){u(v.type,j1(v),v.target,a(v,t.lockRef.current))},[]),m=_.useCallback(function(v){u(v.type,Du(v),v.target,a(v,t.lockRef.current))},[]);_.useEffect(function(){return no.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ro),document.addEventListener("touchmove",c,ro),document.addEventListener("touchstart",d,ro),function(){no=no.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,ro),document.removeEventListener("touchmove",c,ro),document.removeEventListener("touchstart",d,ro)}},[]);var y=t.removeScrollBar,I=t.inert;return _.createElement(_.Fragment,null,I?_.createElement(s,{styles:iz(i)}):null,y?_.createElement(Q$,{gapMode:t.gapMode}):null)}function az(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const lz=L$(ZR,oz);var iP=_.forwardRef(function(t,e){return _.createElement(ch,Xr({},t,{ref:e,sideCar:lz}))});iP.classNames=ch.classNames;var cz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},io=new WeakMap,Mu=new WeakMap,Ou={},Dp=0,sP=function(t){return t&&(t.host||sP(t.parentNode))},uz=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=sP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},dz=function(t,e,r,n){var i=uz(e,Array.isArray(t)?t:[t]);Ou[r]||(Ou[r]=new WeakMap);var s=Ou[r],o=[],a=new Set,c=new Set(i),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(a.has(m))d(m);else try{var y=m.getAttribute(n),I=y!==null&&y!=="false",v=(io.get(m)||0)+1,x=(s.get(m)||0)+1;io.set(m,v),s.set(m,x),o.push(m),v===1&&I&&Mu.set(m,!0),x===1&&m.setAttribute(r,"true"),I||m.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(e),a.clear(),Dp++,function(){o.forEach(function(h){var m=io.get(h)-1,y=s.get(h)-1;io.set(h,m),s.set(h,y),m||(Mu.has(h)||h.removeAttribute(n),Mu.delete(h)),y||h.removeAttribute(r)}),Dp--,Dp||(io=new WeakMap,io=new WeakMap,Mu=new WeakMap,Ou={})}},fz=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=cz(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),dz(n,i,r,"aria-hidden")):function(){return null}},Yv="Dialog",[oP,aP]=qs(Yv),[hz,Fr]=oP(Yv),lP=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=_.useRef(null),c=_.useRef(null),[u=!1,d]=ky({prop:n,defaultProp:i,onChange:s});return f.jsx(hz,{scope:e,triggerRef:a,contentRef:c,contentId:dp(),titleId:dp(),descriptionId:dp(),open:u,onOpenChange:d,onOpenToggle:_.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};lP.displayName=Yv;var cP="DialogTrigger",uP=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(cP,r),s=He(e,i.triggerRef);return f.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Zv(i.open),...n,ref:s,onClick:we(t.onClick,i.onOpenToggle)})});uP.displayName=cP;var Xv="DialogPortal",[pz,dP]=oP(Xv,{forceMount:void 0}),fP=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Fr(Xv,e);return f.jsx(pz,{scope:e,forceMount:r,children:_.Children.map(n,o=>f.jsx(wa,{present:r||s.open,children:f.jsx(Py,{asChild:!0,container:i,children:o})}))})};fP.displayName=Xv;var lf="DialogOverlay",hP=_.forwardRef((t,e)=>{const r=dP(lf,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Fr(lf,t.__scopeDialog);return s.modal?f.jsx(wa,{present:n||s.open,children:f.jsx(gz,{...i,ref:e})}):null});hP.displayName=lf;var mz=tc("DialogOverlay.RemoveScroll"),gz=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(lf,r);return f.jsx(iP,{as:mz,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Me.div,{"data-state":Zv(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),zs="DialogContent",pP=_.forwardRef((t,e)=>{const r=dP(zs,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Fr(zs,t.__scopeDialog);return f.jsx(wa,{present:n||s.open,children:s.modal?f.jsx(yz,{...i,ref:e}):f.jsx(vz,{...i,ref:e})})});pP.displayName=zs;var yz=_.forwardRef((t,e)=>{const r=Fr(zs,t.__scopeDialog),n=_.useRef(null),i=He(e,r.contentRef,n);return _.useEffect(()=>{const s=n.current;if(s)return fz(s)},[]),f.jsx(mP,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:we(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:we(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:we(t.onFocusOutside,s=>s.preventDefault())})}),vz=_.forwardRef((t,e)=>{const r=Fr(zs,t.__scopeDialog),n=_.useRef(!1),i=_.useRef(!1);return f.jsx(mP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),mP=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Fr(zs,r),c=_.useRef(null),u=He(e,c);return S$(),f.jsxs(f.Fragment,{children:[f.jsx(QR,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(Cf,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Zv(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(wz,{titleId:a.titleId}),f.jsx(xz,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Jv="DialogTitle",gP=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(Jv,r);return f.jsx(Me.h2,{id:i.titleId,...n,ref:e})});gP.displayName=Jv;var yP="DialogDescription",vP=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(yP,r);return f.jsx(Me.p,{id:i.descriptionId,...n,ref:e})});vP.displayName=yP;var _P="DialogClose",wP=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Fr(_P,r);return f.jsx(Me.button,{type:"button",...n,ref:e,onClick:we(t.onClick,()=>i.onOpenChange(!1))})});wP.displayName=_P;function Zv(t){return t?"open":"closed"}var EP="DialogTitleWarning",[_z,xP]=DM(EP,{contentName:zs,titleName:Jv,docsSlug:"dialog"}),wz=({titleId:t})=>{const e=xP(EP),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Ez="DialogDescriptionWarning",xz=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${xP(Ez).contentName}}.`;return _.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},bP=lP,bz=uP,TP=fP,e0=hP,t0=pP,r0=gP,n0=vP,i0=wP;const cf=bP,Tz=TP,AP=_.forwardRef(({className:t,...e},r)=>f.jsx(e0,{ref:r,className:ve("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));AP.displayName=e0.displayName;const hc=_.forwardRef(({className:t,children:e,...r},n)=>f.jsxs(Tz,{children:[f.jsx(AP,{}),f.jsxs(t0,{ref:n,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,f.jsxs(i0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(XA,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));hc.displayName=t0.displayName;const pc=({className:t,...e})=>f.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});pc.displayName="DialogHeader";const mc=_.forwardRef(({className:t,...e},r)=>f.jsx(r0,{ref:r,className:ve("text-lg font-semibold leading-none tracking-tight",t),...e}));mc.displayName=r0.displayName;const gc=_.forwardRef(({className:t,...e},r)=>f.jsx(n0,{ref:r,className:ve("text-sm text-muted-foreground",t),...e}));gc.displayName=n0.displayName;const Az={1:"",2:"",3:"",4:"",5:""},U1={1:"Terrible",2:"Bad",3:"Okay",4:"Good",5:"Great"},Sz={1:"text-mood-terrible",2:"text-mood-bad",3:"text-mood-okay",4:"text-mood-good",5:"text-mood-great"};function Iz(){v$();const{user:t}=ar(),[,e]=yt(),{entries:r,isLoading:n}=Gv(),[i,s]=_.useState("journal"),[o,a]=_.useState(null),[c,u]=_.useState(!1),[d,h]=_.useState(new Date),[m,y]=_.useState(!1);_.useEffect(()=>{t!=null&&t.isAnonymous&&y(!0)},[t]);const I=_.useMemo(()=>r.map(M=>{const T=new Date(M.date);return{...M,date:isNaN(T.getTime())?new Date:T}}),[r]),v=_.useMemo(()=>{const M=new Map;return I.forEach(T=>{const A=T.date.toDateString();M.has(A)||M.set(A,[]),M.get(A).push(T)}),M},[I]),x=_.useMemo(()=>{const M=d.getFullYear(),T=d.getMonth(),A=new Date(M,T,1),S=new Date(M,T+1,0),N=A.getDay(),D=[];for(let $=N-1;$>=0;$--){const X=new Date(M,T,-$);D.push({date:X,isCurrentMonth:!1})}for(let $=1;$<=S.getDate();$++){const X=new Date(M,T,$);D.push({date:X,isCurrentMonth:!0})}const k=7-D.length%7;if(k<7)for(let $=1;$<=k;$++){const X=new Date(M,T+1,$);D.push({date:X,isCurrentMonth:!1})}return D},[d]),w=()=>{h(new Date(d.getFullYear(),d.getMonth()-1,1))},E=()=>{h(new Date(d.getFullYear(),d.getMonth()+1,1))},b=()=>{h(new Date)},P=M=>{const T=v.get(M.toDateString())||[];T.length===1?e(`/entry/${T[0].id}`):T.length>1&&(a(M),u(!0))},L=o?v.get(o.toDateString())||[]:[];return n?f.jsx("div",{className:"min-h-screen bg-background pb-24 flex items-center justify-center",children:f.jsx("div",{className:"text-muted-foreground",children:"Loading..."})}):f.jsx("div",{className:"min-h-screen bg-background pb-24",children:f.jsxs("div",{className:"max-w-lg mx-auto p-4 pt-20",children:[f.jsxs("div",{className:"bg-muted p-1 rounded-xl mb-6 flex gap-1",children:[f.jsx("button",{onClick:()=>s("journal"),className:`
              flex-1 py-3 px-4 rounded-lg font-medium text-sm transition-all
              ${i==="journal"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}
            `,children:"Journal Entries"}),f.jsx("button",{onClick:()=>s("mood"),className:`
              flex-1 py-3 px-4 rounded-lg font-medium text-sm transition-all
              ${i==="mood"?"bg-background text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}
            `,children:"Mood History"})]}),i==="journal"?f.jsxs("div",{className:"space-y-6",children:[f.jsx("div",{className:"flex justify-center mb-8",children:f.jsx("div",{className:"relative",children:f.jsx("div",{className:"w-32 h-32 rounded-full bg-primary/10 border-4 border-primary flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-4xl font-bold text-primary",children:I.length}),f.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Entries"})]})})})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{onClick:w,className:"p-2 rounded-full border-2 border-muted hover:border-primary hover:bg-muted transition-all active:scale-95",children:f.jsx(IO,{className:"w-5 h-5 text-muted-foreground"})}),f.jsx("button",{onClick:b,className:"text-lg font-semibold text-muted-foreground hover:text-primary transition-colors",children:d.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),f.jsx("button",{onClick:E,className:"p-2 rounded-full border-2 border-muted hover:border-primary hover:bg-muted transition-all active:scale-95",children:f.jsx(CO,{className:"w-5 h-5 text-muted-foreground"})})]}),f.jsx("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(M=>f.jsx("div",{className:"text-xs font-medium text-muted-foreground text-center",children:M},M))}),f.jsx("div",{className:"grid grid-cols-7 gap-2",children:x.map(({date:M,isCurrentMonth:T},A)=>{const S=v.has(M.toDateString()),R=M.toDateString()===new Date().toDateString();return f.jsx("button",{onClick:()=>S&&P(M),disabled:!S,className:`
                        aspect-square rounded-md flex items-center justify-center text-sm font-medium
                        transition-all
                        ${T?"":"opacity-30"}
                        ${S?"bg-primary text-primary-foreground hover:scale-110 active:scale-95 cursor-pointer":"bg-muted text-muted-foreground cursor-not-allowed"}
                        ${R?"ring-2 ring-primary ring-offset-2":""}
                      `,title:M.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),children:M.getDate()},A)})})]}),I.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No journal entries yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Start tracking your mood to see your entries here"})]})]}):f.jsx("div",{className:"space-y-6",children:I.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No mood data yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Start tracking your mood to see your history here"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("svg",{viewBox:"0 0 200 200",className:"w-64 h-64",children:(()=>{const M=[5,4,3,2,1].map(k=>({mood:k,count:I.filter($=>$.moodValue===k).length,percentage:I.length>0?I.filter($=>$.moodValue===k).length/I.length*100:0})).filter(k=>k.count>0),T={1:"#ef4444",2:"#f97316",3:"#eab308",4:"#84cc16",5:"#22c55e"};let A=-90;const S=80,R=55,N=100,D=100;return f.jsxs(f.Fragment,{children:[M.map((k,$)=>{const X=k.percentage/100*360,K=A,te=A+X,F=K*Math.PI/180,H=te*Math.PI/180,J=N+S*Math.cos(F),oe=D+S*Math.sin(F),Te=N+S*Math.cos(H),vt=D+S*Math.sin(H),Ze=N+R*Math.cos(F),wr=D+R*Math.sin(F),Rt=N+R*Math.cos(H),Gt=D+R*Math.sin(H),pn=X>180?1:0,rs=[`M ${J} ${oe}`,`A ${S} ${S} 0 ${pn} 1 ${Te} ${vt}`,`L ${Rt} ${Gt}`,`A ${R} ${R} 0 ${pn} 0 ${Ze} ${wr}`,"Z"].join(" ");return A=te,f.jsx("path",{d:rs,fill:T[k.mood],className:"transition-all hover:opacity-80"},$)}),f.jsx("circle",{cx:N,cy:D,r:R-5,fill:"transparent"}),f.jsxs("g",{transform:`translate(${N}, ${D})`,className:"fill-primary",opacity:"0.7",children:[f.jsx("path",{d:"M0,-20 C6,-14 8,-6 0,2 C-8,-6 -6,-14 0,-20Z"}),f.jsx("path",{d:"M0,2 C-6,-4 -16,-6 -18,0 C-16,6 -6,8 0,2Z"}),f.jsx("path",{d:"M0,2 C6,-4 16,-6 18,0 C16,6 6,8 0,2Z"}),f.jsx("path",{d:"M-12,6 Q0,14 12,6",strokeWidth:"2",className:"stroke-primary",fill:"none"})]})]})})()}),f.jsx("div",{className:"mt-6 flex flex-wrap justify-center gap-4",children:[5,4,3,2,1].map(M=>{if(I.filter(S=>S.moodValue===M).length===0)return null;const A={1:"bg-mood-terrible",2:"bg-mood-bad",3:"bg-mood-okay",4:"bg-mood-good",5:"bg-mood-great"};return f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${A[M]}`}),f.jsx("span",{className:"text-sm text-muted-foreground",children:U1[M]})]},M)})})]}),f.jsxs("div",{className:"bg-card rounded-xl p-4 border border-border",children:[f.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-4",children:"Recent Emotions"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(new Set(I.slice(0,10).map(M=>M.emotion))).map(M=>f.jsx("span",{className:"px-3 py-1 bg-primary/10 text-primary rounded-full text-sm",children:M},M))})]})]})}),f.jsx(cf,{open:c,onOpenChange:u,children:f.jsxs(hc,{className:"bg-card border-border rounded-3xl p-6 max-w-md",children:[f.jsxs(pc,{children:[f.jsx(mc,{className:"text-foreground text-lg",children:o==null?void 0:o.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),f.jsxs(gc,{className:"text-muted-foreground text-sm",children:["You have ",L.length," entries this day. Select one to view."]})]}),f.jsx("div",{className:"space-y-3 mt-2",children:L.map(M=>f.jsx("button",{onClick:()=>{u(!1),e(`/entry/${M.id}`)},className:"w-full bg-muted/50 rounded-2xl p-4 border border-border hover:border-primary/50 transition-all active:scale-[0.98] text-left",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-2xl",children:Az[M.moodValue]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:`text-sm font-semibold ${Sz[M.moodValue]}`,children:U1[M.moodValue]}),f.jsx("span",{className:"text-xs text-muted-foreground",children:M.date.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),f.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:["Feeling ",M.emotion]}),M.reflection&&f.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1 line-clamp-1",children:M.reflection})]})]})},M.id))})]})}),f.jsx(cf,{open:m,onOpenChange:M=>{M||e("/")},children:f.jsxs(hc,{className:"bg-card border-border rounded-3xl p-8 max-w-md",children:[f.jsxs(pc,{className:"space-y-4",children:[f.jsxs(mc,{className:"text-foreground flex items-center justify-center gap-2 text-xl",children:[f.jsx(NO,{className:"w-6 h-6 text-primary"}),"Sign In Required"]}),f.jsxs(gc,{className:"text-foreground/80 text-base leading-relaxed space-y-4",children:[f.jsx("p",{className:"text-center",children:"This feature is only available to signed-in users."}),f.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Create an account or sign in to track your journal entries and keep them saved across all your devices."})]})]}),f.jsxs("div",{className:"space-y-3 mt-6",children:[f.jsx(ye,{onClick:()=>e("/welcome"),className:"w-full",size:"lg",children:"Sign In / Sign Up"}),f.jsx(ye,{onClick:()=>e("/"),variant:"outline",className:"w-full",size:"lg",children:"Go Back"})]})]})})]})})}const Cz=[{value:1,label:"Terrible",emoji:"",icon:Mw},{value:2,label:"Bad",emoji:"",icon:Mw},{value:3,label:"Okay",emoji:"",icon:OO},{value:4,label:"Good",emoji:"",icon:YA},{value:5,label:"Great",emoji:"",icon:kO}];function Rz({onSelect:t,userName:e}){const[r,n]=_.useState(null),i=c=>{n(c),t==null||t(c),console.log("Mood selected:",c)},o=(c=>c?c.trim().split(" ")[0]:null)(e),a=o?`How are you feeling, ${o}?`:"How are you feeling?";return f.jsxs("div",{className:"w-full max-w-md mx-auto","data-testid":"selector-mood",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:a}),f.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Select your current mood"}),f.jsx("div",{className:"flex justify-center gap-3",children:Cz.map(c=>f.jsxs("button",{onClick:()=>i(c.value),className:`
              flex flex-col items-center gap-2 p-4 rounded-2xl transition-all
              hover-elevate active-elevate-2
              ${r===c.value?"bg-primary text-primary-foreground scale-110":"bg-card"}
            `,"data-testid":`button-mood-${c.value}`,children:[f.jsx("span",{className:"text-5xl",children:c.emoji}),f.jsx("span",{className:"text-xs font-medium",children:c.label})]},c.value))})]})}function SP(t,[e,r]){return Math.min(r,Math.max(e,t))}var Pz=_.createContext(void 0);function kz(t){const e=_.useContext(Pz);return t||e||"ltr"}function Nz(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var IP=["PageUp","PageDown"],CP=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],RP={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pa="Slider",[Sg,Dz,Mz]=xA(Pa),[PP,eB]=qs(Pa,[Mz]),[Oz,uh]=PP(Pa),kP=_.forwardRef((t,e)=>{const{name:r,min:n=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:y=!1,form:I,...v}=t,x=_.useRef(new Set),w=_.useRef(0),b=o==="horizontal"?Lz:Vz,[P=[],L]=ky({prop:d,defaultProp:u,onChange:N=>{var k;(k=[...x.current][w.current])==null||k.focus(),h(N)}}),M=_.useRef(P);function T(N){const D=zz(P,N);R(N,D)}function A(N){R(N,w.current)}function S(){const N=M.current[w.current];P[w.current]!==N&&m(P)}function R(N,D,{commit:k}={commit:!1}){const $=qz(s),X=Kz(Math.round((N-n)/s)*s+n,$),K=SP(X,[n,i]);L((te=[])=>{const F=Uz(te,K,D);if(Wz(F,c*s)){w.current=F.indexOf(K);const H=String(F)!==String(te);return H&&k&&m(F),H?F:te}else return te})}return f.jsx(Oz,{scope:t.__scopeSlider,name:r,disabled:a,min:n,max:i,valueIndexToChangeRef:w,thumbs:x.current,values:P,orientation:o,form:I,children:f.jsx(Sg.Provider,{scope:t.__scopeSlider,children:f.jsx(Sg.Slot,{scope:t.__scopeSlider,children:f.jsx(b,{"aria-disabled":a,"data-disabled":a?"":void 0,...v,ref:e,onPointerDown:we(v.onPointerDown,()=>{a||(M.current=P)}),min:n,max:i,inverted:y,onSlideStart:a?void 0:T,onSlideMove:a?void 0:A,onSlideEnd:a?void 0:S,onHomeKeyDown:()=>!a&&R(n,0,{commit:!0}),onEndKeyDown:()=>!a&&R(i,P.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:D})=>{if(!a){const X=IP.includes(N.key)||N.shiftKey&&CP.includes(N.key)?10:1,K=w.current,te=P[K],F=s*X*D;R(te+F,K,{commit:!0})}}})})})})});kP.displayName=Pa;var[NP,DP]=PP(Pa,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Lz=_.forwardRef((t,e)=>{const{min:r,max:n,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,m]=_.useState(null),y=He(e,b=>m(b)),I=_.useRef(void 0),v=kz(i),x=v==="ltr",w=x&&!s||!x&&s;function E(b){const P=I.current||h.getBoundingClientRect(),L=[0,P.width],T=s0(L,w?[r,n]:[n,r]);return I.current=P,T(b-P.left)}return f.jsx(NP,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:f.jsx(MP,{dir:v,"data-orientation":"horizontal",...d,ref:y,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const P=E(b.clientX);o==null||o(P)},onSlideMove:b=>{const P=E(b.clientX);a==null||a(P)},onSlideEnd:()=>{I.current=void 0,c==null||c()},onStepKeyDown:b=>{const L=RP[w?"from-left":"from-right"].includes(b.key);u==null||u({event:b,direction:L?-1:1})}})})}),Vz=_.forwardRef((t,e)=>{const{min:r,max:n,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,d=_.useRef(null),h=He(e,d),m=_.useRef(void 0),y=!i;function I(v){const x=m.current||d.current.getBoundingClientRect(),w=[0,x.height],b=s0(w,y?[n,r]:[r,n]);return m.current=x,b(v-x.top)}return f.jsx(NP,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:f.jsx(MP,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=I(v.clientY);s==null||s(x)},onSlideMove:v=>{const x=I(v.clientY);o==null||o(x)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:v=>{const w=RP[y?"from-bottom":"from-top"].includes(v.key);c==null||c({event:v,direction:w?-1:1})}})})}),MP=_.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,d=uh(Pa,r);return f.jsx(Me.span,{...u,ref:e,onKeyDown:we(t.onKeyDown,h=>{h.key==="Home"?(o(h),h.preventDefault()):h.key==="End"?(a(h),h.preventDefault()):IP.concat(CP).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:we(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():n(h)}),onPointerMove:we(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:we(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),s(h))})})}),OP="SliderTrack",LP=_.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=uh(OP,r);return f.jsx(Me.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...n,ref:e})});LP.displayName=OP;var Ig="SliderRange",VP=_.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,i=uh(Ig,r),s=DP(Ig,r),o=_.useRef(null),a=He(e,o),c=i.values.length,u=i.values.map(m=>FP(m,i.min,i.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return f.jsx(Me.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...n,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:h+"%"}})});VP.displayName=Ig;var Cg="SliderThumb",jP=_.forwardRef((t,e)=>{const r=Dz(t.__scopeSlider),[n,i]=_.useState(null),s=He(e,a=>i(a)),o=_.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return f.jsx(jz,{...t,ref:s,index:o})}),jz=_.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:i,...s}=t,o=uh(Cg,r),a=DP(Cg,r),[c,u]=_.useState(null),d=He(e,E=>u(E)),h=c?o.form||!!c.closest("form"):!0,m=_S(c),y=o.values[n],I=y===void 0?0:FP(y,o.min,o.max),v=$z(n,o.values.length),x=m==null?void 0:m[a.size],w=x?Bz(x,I,a.direction):0;return _.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${I}% + ${w}px)`},children:[f.jsx(Sg.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(Me.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:y===void 0?{display:"none"}:t.style,onFocus:we(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),h&&f.jsx(Fz,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},n)]})});jP.displayName=Cg;var Fz=t=>{const{value:e,...r}=t,n=_.useRef(null),i=Nz(e);return _.useEffect(()=>{const s=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&c){const u=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(u)}},[i,e]),f.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Uz(t=[],e,r){const n=[...t];return n[r]=e,n.sort((i,s)=>i-s)}function FP(t,e,r){const s=100/(r-e)*(t-e);return SP(s,[0,100])}function $z(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function zz(t,e){if(t.length===1)return 0;const r=t.map(i=>Math.abs(i-e)),n=Math.min(...r);return r.indexOf(n)}function Bz(t,e,r){const n=t/2,s=s0([0,50],[0,n]);return(n-s(e)*r)*r}function Hz(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Wz(t,e){if(e>0){const r=Hz(t);return Math.min(...r)>=e}return!0}function s0(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function qz(t){return(String(t).split(".")[1]||"").length}function Kz(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var UP=kP,Gz=LP,Qz=VP,Yz=jP;const $P=_.forwardRef(({className:t,...e},r)=>f.jsxs(UP,{ref:r,className:ve("relative flex w-full touch-none select-none items-center",t),...e,children:[f.jsx(Gz,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(Qz,{className:"absolute h-full bg-primary"})}),f.jsx(Yz,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));$P.displayName=UP.displayName;async function Xz(t,e){if(!t||e)return null;try{const r=$R(Kv,t);return await UR(r)}catch(r){return console.error("Error getting audio URL:",r),null}}function Jz(t){const{user:e}=ar(),r=!e||e.isAnonymous,{data:n,isLoading:i}=If({queryKey:["mediprayerAudios",t.map(s=>s.id),r],queryFn:async()=>{const s=new Map;for(const o of t){const a=await Xz(o.audioUrl,r);s.set(o.id,a)}return s},enabled:!!t.length});return{audioUrls:n,isLoading:i}}function zP({title:t,subtitle:e,mediprayer:r,audioUrl:n,imageUrl:i,onComplete:s,onSkip:o,skipButtonText:a="Skip",circular:c=!1}){const[u,d]=_.useState(!1),[h,m]=_.useState(0),[y,I]=_.useState(0),v=_.useRef(null),{audioUrls:x,isLoading:w}=Jz(r?[r]:[]),E=n||(r?x==null?void 0:x.get(r.id):void 0);_.useEffect(()=>(E&&(v.current=new Audio(E),v.current.addEventListener("timeupdate",()=>{var $;m((($=v.current)==null?void 0:$.currentTime)||0)}),v.current.addEventListener("loadedmetadata",()=>{var $;I((($=v.current)==null?void 0:$.duration)||0)}),v.current.addEventListener("ended",()=>{d(!1),s==null||s()})),()=>{v.current&&(v.current.pause(),v.current=null)}),[E,s]);const b=$=>{const X=Math.floor($/60),K=Math.floor($%60);return`${X}:${K.toString().padStart(2,"0")}`},P=()=>{if(!v.current){console.warn("No audio loaded");return}u?(v.current.pause(),d(!1)):(v.current.play(),d(!0))},L=()=>{v.current&&(v.current.pause(),v.current.currentTime=0),d(!1),o==null||o()},M=$=>{const X=$[0];m(X),v.current&&(v.current.currentTime=X)},T=!!E,A=y>0?h/y:0,S=220,R=6,N=(S-R)/2,D=2*Math.PI*N,k=D*(1-A);return c?f.jsxs("div",{className:"w-full max-w-md mx-auto flex flex-col items-center","data-testid":"player-audio",children:[f.jsx("h2",{className:"text-2xl font-bold mb-1 text-center","data-testid":"text-audio-title",children:t}),e&&f.jsx("p",{className:"text-muted-foreground text-center mb-6","data-testid":"text-audio-subtitle",children:e}),w&&f.jsxs("div",{className:"flex items-center justify-center my-8",children:[f.jsx(sa,{className:"w-6 h-6 animate-spin"}),f.jsx("p",{className:"ml-2",children:"Loading audio..."})]}),!w&&!E&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2 mb-6 bg-muted/50 p-3 rounded-lg text-center","data-testid":"text-audio-unavailable",children:"Audio content is currently unavailable. Please skip to continue."}),f.jsxs("div",{className:"relative my-6",style:{width:S,height:S},children:[f.jsxs("svg",{width:S,height:S,className:"transform -rotate-90",children:[f.jsx("circle",{cx:S/2,cy:S/2,r:N,fill:"none",stroke:"currentColor",className:"text-muted/30",strokeWidth:R}),f.jsx("circle",{cx:S/2,cy:S/2,r:N,fill:"none",stroke:"currentColor",className:"text-primary transition-all duration-300",strokeWidth:R,strokeLinecap:"round",strokeDasharray:D,strokeDashoffset:k})]}),f.jsx("button",{onClick:P,disabled:!T||w,className:"absolute inset-0 flex items-center justify-center","data-testid":"button-play-pause",children:u?f.jsx(Ow,{className:"w-10 h-10 text-primary"}):f.jsx(Wm,{className:"w-10 h-10 text-primary ml-1"})})]}),f.jsxs("div",{className:"flex items-center gap-3 text-sm mb-8",children:[f.jsx("span",{className:"text-foreground font-medium",children:b(h)}),f.jsx("span",{className:"text-muted-foreground",children:"/"}),f.jsx("span",{className:"text-muted-foreground",children:b(y)})]}),f.jsxs(ye,{variant:E?"outline":"default",onClick:L,className:"rounded-full px-8","data-testid":"button-skip-audio",children:[f.jsx(Lw,{className:"w-4 h-4 mr-2"}),E?a:"Continue"]})]}):f.jsxs("div",{className:"w-full max-w-md mx-auto","data-testid":"player-audio",children:[f.jsx("div",{className:"relative mb-8",children:f.jsx("div",{className:"aspect-video rounded-2xl bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center overflow-hidden",style:i?{backgroundImage:`url(${i})`,backgroundSize:"cover"}:{},children:!i&&f.jsx("div",{className:"text-6xl",children:""})})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-1","data-testid":"text-audio-title",children:t}),e&&f.jsx("p",{className:"text-muted-foreground","data-testid":"text-audio-subtitle",children:e}),w&&f.jsxs("div",{className:"flex items-center justify-center mt-4",children:[f.jsx(sa,{className:"w-6 h-6 animate-spin"}),f.jsx("p",{className:"ml-2",children:"Loading audio..."})]}),!w&&!E&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2 bg-muted/50 p-3 rounded-lg","data-testid":"text-audio-unavailable",children:"Audio content is currently unavailable. Please skip to continue."})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx($P,{value:[h],max:y,step:1,onValueChange:M,className:"mb-2","data-testid":"slider-audio-progress",disabled:!T||w}),f.jsxs("div",{className:"flex justify-between text-sm",children:[f.jsx("span",{className:"text-duration font-medium","data-testid":"text-audio-elapsed",children:b(h)}),f.jsx("span",{className:"text-muted-foreground","data-testid":"text-audio-remaining",children:b(y-h)})]})]}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx(ye,{size:"icon",onClick:P,className:"w-14 h-14 rounded-full bg-primary hover:bg-primary/90","data-testid":"button-play-pause",disabled:!T||w,children:u?f.jsx(Ow,{className:"w-6 h-6"}):f.jsx(Wm,{className:"w-6 h-6 ml-1"})}),f.jsxs(ye,{variant:E?"outline":"default",onClick:L,"data-testid":"button-skip-audio",children:[f.jsx(Lw,{className:"w-4 h-4 mr-2"}),E?a:"Continue"]})]})]})}const BP=async t=>{try{const e=$R(Kv,t);return await UR(e)}catch(e){return console.error("Error getting download URL:",e),null}},Zz="gs://daily-breaditation.firebasestorage.app/Mindfulness Meditations/Elijah, Debut.mp3";function e8(){const[t,e]=_.useState(!1),[r,n]=_.useState(!1),[i,s]=_.useState(!1),[,o]=yt(),{createEntry:a}=Gv(),{user:c}=ar(),{toast:u}=Ws(),[d,h]=_.useState(null),[m,y]=_.useState(0),I=_.useRef(null),v=_.useRef(null),[x,w]=_.useState(null),[E,b]=_.useState({moodValue:0,moodLabel:"",journalText:""});_.useEffect(()=>{BP(Zz).then(K=>{K&&w(K)})},[]);const P=K=>{const te=["Terrible","Bad","Okay","Good","Great"];b(F=>({...F,moodValue:K,moodLabel:te[K-1]})),setTimeout(()=>{e(!0)},300)},L=()=>{e(!1),setTimeout(()=>{n(!0)},100)},M=async()=>{if(n(!1),setTimeout(()=>s(!0),100),window.dispatchEvent(new Event("streak-celebrate")),!c){setTimeout(()=>{u({title:"Login required",description:"Please login to save your meditation session."}),o("/auth")},2e3);return}try{const K=new Date,te={userId:c.uid,date:K,moodValue:E.moodValue,emotion:E.moodLabel,reflection:E.journalText||null,bibleVerseReference:null,bibleVerseText:null};console.log("[HomePage] Creating entry with data:",te),console.log("[HomePage] User UID:",c.uid);const F=await a.mutateAsync(te);console.log("[HomePage] Entry created successfully:",F),setTimeout(()=>o("/journal"),2e3)}catch{u({variant:"destructive",title:"Error",description:"Failed to save session. Please try again."})}},T=K=>{t&&h(K.touches[0].clientY)},A=K=>{if(!t||d===null)return;const F=K.touches[0].clientY-d;F>0&&y(F)},S=()=>{!t||d===null||(m>100&&e(!1),h(null),y(0))},R=K=>{r&&h(K.touches[0].clientY)},N=K=>{if(!r||d===null)return;const F=K.touches[0].clientY-d;F>0&&y(F)},D=()=>{!r||d===null||(m>100&&(n(!1),e(!0)),h(null),y(0))},k=K=>{r&&h(K.clientY)},$=K=>{if(!r||d===null)return;const F=K.clientY-d;F>0&&y(F)},X=()=>{!r||d===null||(m>100&&(n(!1),e(!0)),h(null),y(0))};return f.jsx("div",{className:"min-h-screen bg-background pb-24 flex flex-col overflow-hidden",children:f.jsxs("div",{className:"max-w-lg mx-auto w-full p-4 pt-20 flex-1 flex flex-col relative",children:[f.jsx("div",{className:`absolute inset-0 pt-20 transition-transform duration-500 ease-in-out ${t||r||i?"-translate-y-full opacity-0":"translate-y-0 opacity-100"}`,children:f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx(Rz,{onSelect:P,userName:c==null?void 0:c.displayName})})}),f.jsx("div",{ref:v,className:`absolute inset-0 pt-20 transition-all ${d!==null&&t?"duration-0":"duration-500"} ease-in-out ${t&&!r?"translate-y-0 opacity-100":r?"-translate-y-full opacity-0":"translate-y-full opacity-0"}`,style:{transform:t&&!r&&d!==null?`translateY(${m}px)`:void 0},onTouchStart:T,onTouchMove:A,onTouchEnd:S,children:f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[f.jsx("div",{className:"w-12 h-1 bg-muted-foreground/30 rounded-full mb-4"}),f.jsx("div",{className:"w-full max-w-md mx-auto",children:f.jsxs("div",{className:"bg-card rounded-2xl p-6 space-y-4",children:[f.jsx("textarea",{value:E.journalText,onChange:K=>b(te=>({...te,journalText:K.target.value})),placeholder:"What's on your mind today?",className:"w-full h-48 p-4 bg-background border border-border rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-primary"}),f.jsx("button",{onClick:L,className:"w-full py-4 bg-primary text-primary-foreground rounded-xl font-semibold hover:bg-primary/90 transition-colors active:scale-95",children:"Continue"})]})})]})}),f.jsx("div",{ref:I,className:`absolute inset-0 pt-20 transition-all ${d!==null?"duration-0":"duration-500"} ease-in-out ${r?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,style:{transform:r&&d!==null?`translateY(${m}px)`:void 0},onTouchStart:R,onTouchMove:N,onTouchEnd:D,onMouseDown:k,onMouseMove:$,onMouseUp:X,onMouseLeave:X,children:f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[f.jsx("div",{className:"w-12 h-1 bg-muted-foreground/30 rounded-full mb-4"}),f.jsx("div",{className:"w-full max-w-md mx-auto px-4",children:f.jsx(zP,{title:"Calming Meditation",audioUrl:x??void 0,onComplete:M,onSkip:M,skipButtonText:"Complete",circular:!0})})]})}),f.jsx("div",{className:`absolute inset-0 pt-20 transition-all duration-700 ease-out ${i?"translate-y-0 opacity-100":"translate-y-full opacity-0"}`,children:f.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-4",children:[f.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Session Complete"}),f.jsx("p",{className:"text-muted-foreground text-lg",children:"Well done. Your entry has been saved."})]})})]})})}function t8(){const[t,e]=_.useState(!1),[,r]=yt();return f.jsx("div",{className:"min-h-screen bg-background pb-24",children:f.jsxs("div",{className:"max-w-4xl mx-auto p-4 pt-20",children:[f.jsxs("div",{className:"grid gap-4",children:[f.jsx("button",{onClick:()=>e(!0),className:"bg-card rounded-3xl p-8 border border-border hover:border-primary/50 transition-all active:scale-95 group",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-4 bg-primary/15 rounded-2xl group-hover:bg-primary/20 transition-colors",children:f.jsx(Vw,{className:"w-8 h-8 text-primary"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Words of Power"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Discover daily wisdom"})]})]})}),f.jsx("button",{onClick:()=>r("/support"),className:"bg-gradient-to-r from-primary/10 to-accent/10 rounded-3xl p-6 border-2 border-primary/30 hover:border-primary/50 transition-all active:scale-95 group",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-primary/20 rounded-2xl group-hover:bg-primary/30 transition-colors",children:f.jsx(QA,{className:"w-6 h-6 text-primary"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Support Our Mission"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Help us bring faith and mindfulness to more people"})]})]})})}),f.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-2",children:[f.jsx("button",{className:"bg-card rounded-2xl p-4 border border-border hover:border-primary/50 transition-all active:scale-95 group",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-primary/15 rounded-xl group-hover:bg-primary/20 transition-colors",children:f.jsx(BO,{className:"w-5 h-5 text-primary"})}),f.jsx("span",{className:"text-xs font-medium text-foreground",children:"Minis"})]})}),f.jsx("button",{className:"bg-card rounded-2xl p-4 border border-border hover:border-primary/50 transition-all active:scale-95 group",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-primary/15 rounded-xl group-hover:bg-primary/20 transition-colors",children:f.jsx(PO,{className:"w-5 h-5 text-primary"})}),f.jsx("span",{className:"text-xs font-medium text-foreground",children:"Meditation"})]})}),f.jsx("button",{className:"bg-card rounded-2xl p-4 border border-border hover:border-primary/50 transition-all active:scale-95 group",children:f.jsxs("div",{className:"flex flex-col items-center gap-2",children:[f.jsx("div",{className:"p-3 bg-primary/15 rounded-xl group-hover:bg-primary/20 transition-colors",children:f.jsx(TO,{className:"w-5 h-5 text-primary"})}),f.jsx("span",{className:"text-xs font-medium text-foreground",children:"Stories"})]})})]})]}),f.jsx(cf,{open:t,onOpenChange:e,children:f.jsx(hc,{className:"bg-card border-border rounded-3xl p-8 max-w-md",children:f.jsxs(pc,{className:"space-y-4",children:[f.jsxs(mc,{className:"text-foreground flex items-center justify-center gap-2 text-xl",children:[f.jsx(Vw,{className:"w-6 h-6 text-primary"}),"Words of Power"]}),f.jsxs(gc,{className:"text-foreground/80 text-base leading-relaxed space-y-4",children:[f.jsx("p",{className:"text-center italic",children:'"For I know the plans I have for you, declares the Lord, plans for welfare and not for evil, to give you a future and a hope."'}),f.jsx("p",{className:"text-center text-sm text-primary font-semibold",children:"Jeremiah 29:11"})]})]})})})]})})}const ka=_.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:ve("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));ka.displayName="Card";const dh=_.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:ve("flex flex-col space-y-1.5 p-6",t),...e}));dh.displayName="CardHeader";const fh=_.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:ve("text-2xl font-semibold leading-none tracking-tight",t),...e}));fh.displayName="CardTitle";const hh=_.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:ve("text-sm text-muted-foreground",t),...e}));hh.displayName="CardDescription";const o0=_.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:ve("p-6 pt-0",t),...e}));o0.displayName="CardContent";const HP=_.forwardRef(({className:t,...e},r)=>f.jsx("div",{ref:r,className:ve("flex items-center p-6 pt-0",t),...e}));HP.displayName="CardFooter";function r8({title:t,description:e,onPlay:r}){return f.jsxs(ka,{className:"w-full",children:[f.jsxs(dh,{children:[f.jsx(fh,{children:t}),e&&f.jsx(hh,{children:e})]}),f.jsx(HP,{className:"flex justify-end",children:f.jsxs(ye,{onClick:r,children:[f.jsx(Wm,{className:"w-4 h-4 mr-2"}),"Play"]})})]})}const $1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],z1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety001-free.mp3",title:"A Mediprayer for anxiety #01",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety002-free.mp3",title:"A Mediprayer for anxiety #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety003-free.mp3",title:"A Mediprayer for anxiety #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety004-free.mp3",title:"A Mediprayer for anxiety #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety005-free.mp3",title:"A Mediprayer for anxiety #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety006-free.mp3",title:"A Mediprayer for anxiety #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety007-free.mp3",title:"A Mediprayer for anxiety #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety008-free.mp3",title:"A Mediprayer for anxiety #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety009-free.mp3",title:"A Mediprayer for anxiety #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anxiety/mediprayer-anxiety010-free.mp3",title:"A Mediprayer for anxiety #10",description:""}],B1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance001-free.mp3",title:"A Mediprayer for vanity & arrogance #01",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance002-free.mp3",title:"A Mediprayer for vanity & arrogance #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance003-free.mp3",title:"A Mediprayer for vanity & arrogance #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance004-free.mp3",title:"A Mediprayer for vanity & arrogance #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance005-free.mp3",title:"A Mediprayer for vanity & arrogance #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance006-free.mp3",title:"A Mediprayer for vanity & arrogance #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance007-free.mp3",title:"A Mediprayer for vanity & arrogance #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance008-free.mp3",title:"A Mediprayer for vanity & arrogance #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance009-free.mp3",title:"A Mediprayer for vanity & arrogance #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/arrogance/mediprayer-vanity-arrogance010-free.mp3",title:"A Mediprayer for vanity & arrogance #10",description:""}],H1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment001-free.mp3",title:"A Mediprayer for bitterness #01",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment002-free.mp3",title:"A Mediprayer for bitterness #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment003-free.mp3",title:"A Mediprayer for bitterness #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment004-free.mp3",title:"A Mediprayer for bitterness #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment005-free.mp3",title:"A Mediprayer for bitterness #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment006-free.mp3",title:"A Mediprayer for bitterness #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment007-free.mp3",title:"A Mediprayer for bitterness #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment008-free.mp3",title:"A Mediprayer for bitterness #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment009-free.mp3",title:"A Mediprayer for bitterness #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/bitterness/mediprayer-bitterness-resentment010-free.mp3",title:"A Mediprayer for bitterness #10",description:""}],W1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/blessed/mediprayer-blessed001-free.mp3",title:"A Mediprayer for feeling blessed #01",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/blessed/mediprayer-blessed002-free.mp3",title:"A Mediprayer for feeling blessed #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/blessed/mediprayer-blessed003-free.mp3",title:"A Mediprayer for feeling blessed #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/blessed/mediprayer-blessed004-free.mp3",title:"A Mediprayer for feeling blessed #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/blessed/mediprayer-blessed005-free.mp3",title:"A Mediprayer for feeling blessed #05",description:""}],q1=[],K1=[],G1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],Q1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],Y1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],X1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],J1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],Z1=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],ex=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],tx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],rx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],nx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],ix=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],sx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],ox=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],ax=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],lx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],cx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],ux=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],dx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],fx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],hx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],px=[{reference:"Joshua 1:9",text:"Be strong and courageous. Do not be frightened, and do not be dismayed, for the Lord your God is with you wherever you go."},{reference:"Psalm 27:1",text:"The Lord is my light and my salvation; whom shall I fear?"},{reference:"Philippians 4:13",text:"I can do all things through Him who strengthens me."},{reference:"Psalm 56:3",text:"When I am afraid, I put my trust in You."},{reference:"Psalm 46:1",text:"God is our refuge and strength, a very present help in trouble."},{reference:"Deuteronomy 3:22",text:"Do not be afraid of them; the Lord your God himself will fight for you."},{reference:"Psalm 27:1",text:"The Lord is the strength of my life; of whom shall I be afraid?"},{reference:"Joshua 1:9",text:"Have I not commanded you? Be strong and courageous. Do not be frightened, and do not be dismayed, for the Lord your God is with you wherever you go."},{reference:"Psalm 34:18",text:"The Lord is near to the brokenhearted and saves the crushed in spirit."},{reference:"Proverbs 3:5",text:"Trust in the Lord with all your heart, and do not lean on your own understanding."}],mx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}],gx=[{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger001-free.mp3",title:"A Mediprayer for anger #01",description:"A calming, psychologically backed guided prayer, for those moments of anger"},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger002-free.mp3",title:"A Mediprayer for anger #02",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger003-free.mp3",title:"A Mediprayer for anger #03",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger004-free.mp3",title:"A Mediprayer for anger #04",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger005-free.mp3",title:"A Mediprayer for anger #05",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger006-free.mp3",title:"A Mediprayer for anger #06",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger007-free.mp3",title:"A Mediprayer for anger #07",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger008-free.mp3",title:"A Mediprayer for anger #08",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger009-free.mp3",title:"A Mediprayer for anger #09",description:""},{url:"gs://daily-breaditation.firebasestorage.app/mediprayers_free/anger/mediprayer-anger010-free.mp3",title:"A Mediprayer for anger #10",description:""}];function Ee(t){return Array.isArray(t)&&(t.length===0||t[0]&&"url"in t[0]&&"title"in t[0])}const n8={anger:Ee($1)?$1:[],anxiety:Ee(z1)?z1:[],arrogance:Ee(B1)?B1:[],bitterness:Ee(H1)?H1:[],blessed:Ee(W1)?W1:[],depression:Ee(q1)?q1:[],doubt:Ee(K1)?K1:[],embarrassment:Ee(G1)?G1:[],envy:Ee(Q1)?Q1:[],greed:Ee(Y1)?Y1:[],grief:Ee(X1)?X1:[],guilt:Ee(J1)?J1:[],happy:Ee(Z1)?Z1:[],hopeless:Ee(ex)?ex:[],intolerant:Ee(tx)?tx:[],judgement:Ee(rx)?rx:[],lonely:Ee(nx)?nx:[],lost:Ee(ix)?ix:[],motivated:Ee(sx)?sx:[],pride:Ee(ox)?ox:[],purposeless:Ee(ax)?ax:[],regret:Ee(lx)?lx:[],resentment:Ee(cx)?cx:[],shame:Ee(ux)?ux:[],spiritual_doubt:Ee(dx)?dx:[],temptation:Ee(fx)?fx:[],tired:Ee(hx)?hx:[],unconfident:Ee(px)?px:[],vanity:Ee(mx)?mx:[],worry:Ee(gx)?gx:[]};function i8(t){if(!t)return[];const e=t.toLowerCase().replace(/\s+/g,"_"),r=n8[e];return(r==null?void 0:r.filter(n=>n.url&&n.title))||[]}function s8(){const[,t]=yt(),[,e]=ds("/library/:emotion"),r=e!=null&&e.emotion?decodeURIComponent(e.emotion):null,n=_.useMemo(()=>r?i8(r):[],[r]),i=o=>{t(`/player?url=${encodeURIComponent(o.url)}&title=${encodeURIComponent(o.title)}&source=library`)},s=()=>{t("/library")};return r?f.jsx("div",{className:"min-h-screen bg-background pb-24",children:f.jsxs("div",{className:"max-w-lg mx-auto p-4 pt-20",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs(ye,{variant:"ghost",onClick:s,className:"mb-4",children:[f.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Back to Library"]}),f.jsx("h1",{className:"text-3xl font-bold text-muted-foreground mb-2 capitalize",children:r}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," mediprayer",n.length!==1?"s":""," available"]})]}),f.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.length>0?n.map((o,a)=>f.jsx(r8,{title:o.title,description:o.description,onPlay:()=>i(o)},`${o.url}-${a}`)):f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx("p",{children:"No mediprayers found for this emotion."}),f.jsx(ye,{onClick:s,className:"mt-4",children:"Back to Library"})]})})]})}):f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"No emotion selected"}),f.jsx(ye,{onClick:s,children:"Back to Library"})]})})}const Oi=_.forwardRef(({className:t,type:e,...r},n)=>f.jsx("input",{type:e,className:ve("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Oi.displayName="Input";const yx=t=>{switch(t==null?void 0:t.code){case"auth/invalid-credential":case"auth/wrong-password":return"Email or password doesn't match";case"auth/user-not-found":return"No account found with this email";case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password must be at least 6 characters";case"auth/invalid-email":return"Please enter a valid email address";case"auth/too-many-requests":return"Too many attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";case"auth/operation-not-allowed":return"This sign-in method is not enabled";default:return"Authentication failed. Please try again"}};function vx(){const[t,e]=_.useState(""),[r,n]=_.useState(""),[i,s]=_.useState(!1),{signIn:o,signInWithGoogle:a}=ar(),{toast:c}=Ws(),[,u]=yt(),d=async m=>{m.preventDefault(),s(!0);try{await o(t,r),c({title:"Welcome back!",description:"You've successfully signed in"}),u("/")}catch(y){c({variant:"destructive",title:"Error",description:yx(y)})}finally{s(!1)}},h=async()=>{try{await a(),u("/")}catch(m){c({variant:"destructive",title:"Error",description:yx(m)})}};return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs(ka,{className:"w-full max-w-md p-8 swipe-up",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Welcome Back"}),f.jsx("p",{className:"text-muted-foreground",children:"Continue your journey with Calmandments"})]}),f.jsxs("form",{onSubmit:d,className:"space-y-4 mb-6",children:[f.jsx("div",{children:f.jsx(Oi,{type:"email",placeholder:"Email",value:t,onChange:m=>e(m.target.value),required:!0,"data-testid":"input-email"})}),f.jsx("div",{children:f.jsx(Oi,{type:"password",placeholder:"Password",value:r,onChange:m=>n(m.target.value),required:!0,minLength:6,"data-testid":"input-password"})}),f.jsx(ye,{type:"submit",className:"w-full",disabled:i,"data-testid":"button-submit",children:i?"...":"Sign In"})]}),f.jsxs("div",{className:"relative mb-6",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx("span",{className:"w-full border-t border-border"})}),f.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:f.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or continue with"})})]}),f.jsxs(ye,{variant:"outline",className:"w-full mb-6",onClick:h,"data-testid":"button-google-signin",children:[f.jsx(DO,{className:"w-4 h-4 mr-2"}),"Google"]}),f.jsx("div",{className:"text-center",children:f.jsx("button",{type:"button",onClick:()=>u("/welcome"),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Don't have an account? Start your journey"})})]})})}function _x(){const[,t]=yt(),[e,r]=_.useState(!1),[n,i]=_.useState(!1),[s,o]=_.useState(!1),[a,c]=_.useState(!1);return _.useEffect(()=>{const u=setTimeout(()=>r(!0),500),d=setTimeout(()=>i(!0),2500),h=setTimeout(()=>o(!0),4500),m=setTimeout(()=>c(!0),6500);return()=>{clearTimeout(u),clearTimeout(d),clearTimeout(h),clearTimeout(m)}},[]),f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 swipe-up",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center space-y-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:`text-5xl font-bold transition-opacity duration-1000 ${e?"opacity-100":"opacity-0"}`,children:"Hello"}),f.jsx("p",{className:`text-2xl text-muted-foreground transition-opacity duration-1000 ${n?"opacity-100":"opacity-0"}`,children:"Welcome to Calmandments"}),f.jsx("p",{className:`text-xl text-muted-foreground max-w-xl mx-auto transition-opacity duration-1000 ${s?"opacity-100":"opacity-0"}`,children:"Where faith and mindfulness meet"})]}),f.jsxs("div",{className:`space-y-4 transition-opacity duration-1000 ${a?"opacity-100":"opacity-0"}`,children:[f.jsx("button",{onClick:()=>t("/signup"),className:"w-full max-w-md mx-auto block py-3 text-lg font-medium rounded-full border-2 border-primary/30 bg-primary/10 text-foreground hover:bg-primary/20 hover:border-primary/50 transition-all active:scale-95",children:"Start Your Journey"}),f.jsx("button",{onClick:()=>t("/signin"),className:"w-full max-w-md mx-auto block py-3 text-lg font-medium rounded-full border-2 border-primary/30 bg-primary/10 text-foreground hover:bg-primary/20 hover:border-primary/50 transition-all active:scale-95",children:"Continue Your Journey"}),f.jsx("button",{onClick:()=>t("/preview"),className:"w-full max-w-md mx-auto block py-2 px-4 text-sm font-medium rounded-lg border border-muted bg-muted/30 text-muted-foreground hover:bg-muted/50 hover:text-foreground transition-all active:scale-95 mt-3",children:"Sneak Peek"})]})]})})}const o8=t=>{switch(t==null?void 0:t.code){case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password must be at least 6 characters";case"auth/invalid-email":return"Please enter a valid email address";case"auth/network-request-failed":return"Network error. Please check your connection";default:return"Something went wrong. Please try again"}};function wx(){const[,t]=yt(),{signUp:e}=ar(),{toast:r}=Ws(),[n,i]=_.useState(1),[s,o]=_.useState(""),[a,c]=_.useState(""),[u,d]=_.useState(""),[h,m]=_.useState(!1),[y,I]=_.useState("up"),v=P=>{P.preventDefault(),s.trim()&&(I("up"),i(2))},x=P=>{P.preventDefault(),a.trim()&&(I("up"),i(3))},w=()=>{I("down"),i(1)},E=()=>{I("down"),i(2)},b=async P=>{if(P.preventDefault(),u.length<6){r({variant:"destructive",title:"Error",description:"Password must be at least 6 characters"});return}m(!0);try{await e(a,u),En.currentUser&&s.trim()&&await RI(En.currentUser,{displayName:s}),r({title:`Welcome, ${s}!`,description:"Your account has been created"}),t("/")}catch(L){console.error("Signup error:",L),r({variant:"destructive",title:"Error",description:o8(L)})}finally{m(!1)}};return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs("div",{className:"flex items-center gap-6 w-full max-w-md",children:[f.jsxs("div",{className:"flex flex-col gap-3",children:[f.jsx("div",{className:`w-1 h-16 rounded-full transition-all ${n>=1?"bg-primary":"bg-muted"}`}),f.jsx("div",{className:`w-1 h-16 rounded-full transition-all ${n>=2?"bg-primary":"bg-muted"}`}),f.jsx("div",{className:`w-1 h-16 rounded-full transition-all ${n>=3?"bg-primary":"bg-muted"}`})]}),f.jsxs(ka,{className:`flex-1 p-8 ${y==="up"?"swipe-up":y==="down"?"swipe-down":"swipe-up"}`,children:[n===1&&f.jsxs("form",{onSubmit:v,className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"What is your name?"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"We'll use this to personalize your experience"})]}),f.jsx(Oi,{type:"text",placeholder:"Enter your name",value:s,onChange:P=>o(P.target.value),required:!0,autoFocus:!0,className:"text-center text-lg py-6"}),f.jsx(ye,{type:"submit",className:"w-full",size:"lg",children:"Continue"}),f.jsx("button",{type:"button",onClick:()=>t("/welcome"),className:"text-sm text-muted-foreground hover:text-foreground transition-colors w-full",children:"Back"})]}),n===2&&f.jsxs("form",{onSubmit:x,className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"What is your email?"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"We'll use this to secure your account"})]}),f.jsx(Oi,{type:"email",placeholder:"your.email@example.com",value:a,onChange:P=>c(P.target.value),required:!0,autoFocus:!0,className:"text-center text-lg py-6"}),f.jsx(ye,{type:"submit",className:"w-full",size:"lg",children:"Continue"}),f.jsx("button",{type:"button",onClick:w,className:"text-sm text-muted-foreground hover:text-foreground transition-colors w-full",children:"Back"})]}),n===3&&f.jsxs("form",{onSubmit:b,className:"space-y-6",children:[f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Select a password"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Must be at least 6 characters"})]}),f.jsx(Oi,{type:"password",placeholder:"Choose a secure password",value:u,onChange:P=>d(P.target.value),required:!0,minLength:6,autoFocus:!0,className:"text-center text-lg py-6"}),f.jsx(ye,{type:"submit",className:"w-full",size:"lg",disabled:h,children:h?f.jsxs(f.Fragment,{children:[f.jsx(sa,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating your account..."]}):"Create Account"}),f.jsx("button",{type:"button",onClick:E,className:"text-sm text-muted-foreground hover:text-foreground transition-colors w-full",disabled:h,children:"Back"})]})]},n)]})})}function Ex(){const[,t]=yt(),{signInAsGuest:e}=ar(),{toast:r}=Ws();return _.useEffect(()=>{(async()=>{try{await e(),t("/")}catch(i){console.error("Guest sign-in error:",i),r({variant:"destructive",title:"Error",description:"Failed to continue. Please try again."}),t("/welcome")}})()},[e,t,r]),f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center swipe-up",children:[f.jsx(sa,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),f.jsx("p",{className:"text-muted-foreground",children:"Setting up your local experience..."})]})})}function a8(){const[,t]=yt(),e=typeof window<"u"?window.location.search:"",r=new URLSearchParams(e),n=r.get("url"),i=r.get("title"),s=r.get("source"),[o,a]=_.useState(null),[c,u]=_.useState(!0),[d,h]=_.useState(null);if(_.useEffect(()=>{n?(u(!0),h(null),BP(n).then(v=>{v?a(v):h("Failed to get audio URL from Firebase Storage")}).catch(v=>{console.error("Error getting streaming URL:",v),h(v instanceof Error?v.message:"Unknown error")}).finally(()=>u(!1))):u(!1)},[n]),!n||!i)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"text-muted-foreground",children:[f.jsx("p",{children:"Audio not found."}),f.jsxs("p",{className:"text-sm mt-2",children:["URL: ",n||"missing"]}),f.jsxs("p",{className:"text-sm",children:["Title: ",i||"missing"]})]})});if(c)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsx("div",{className:"text-muted-foreground",children:"Loading audio..."})});if(d)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"text-muted-foreground",children:[f.jsx("p",{children:"Error loading audio"}),f.jsx("p",{className:"text-sm mt-2",children:d})]})});const m=()=>{t("/library")},y=()=>{t("/library")},I=s==="library"?"Done":"Close";return f.jsx("div",{className:"min-h-screen bg-background pb-24 flex items-center justify-center",children:f.jsx(zP,{title:i,audioUrl:o??void 0,onComplete:m,onSkip:y,skipButtonText:I})})}const l8="modulepreload",c8=function(t){return"/app-demo/"+t},xx={},Lu=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=c8(c),c in xx)return;xx[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":l8,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var u8="Label",WP=_.forwardRef((t,e)=>f.jsx(Me.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));WP.displayName=u8;var qP=WP;const d8=Oy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dd=_.forwardRef(({className:t,...e},r)=>f.jsx(qP,{ref:r,className:ve(d8(),t),...e}));dd.displayName=qP.displayName;const Mp=t=>{switch(t==null?void 0:t.code){case"auth/requires-recent-login":return"Please sign out and sign in again to make this change";case"auth/invalid-email":return"Please enter a valid email address";case"auth/email-already-in-use":return"This email is already in use by another account";case"auth/weak-password":return"Password must be at least 6 characters";case"auth/user-not-found":return"Account not found";case"auth/too-many-requests":return"Too many attempts. Please try again later";case"auth/network-request-failed":return"Network error. Please check your connection";default:return(t==null?void 0:t.message)||"An error occurred. Please try again"}};function f8(){var x;const[,t]=yt(),{user:e,signOut:r}=ar(),{toast:n}=Ws(),[i,s]=_.useState(""),[o,a]=_.useState(""),[c,u]=_.useState(!1),[d,h]=_.useState(!1);_.useEffect(()=>{e&&!e.isAnonymous&&(s(e.displayName||""),a(e.email||""))},[e]);const m=async()=>{if(!(!e||e.isAnonymous)){u(!0);try{const{updateProfile:w,updateEmail:E}=await Lu(async()=>{const{updateProfile:L,updateEmail:M}=await Promise.resolve().then(()=>TE);return{updateProfile:L,updateEmail:M}},void 0),b=(await Lu(async()=>{const{auth:L}=await Promise.resolve().then(()=>C1);return{auth:L}},void 0)).auth,P=[];i!==e.displayName&&b.currentUser&&P.push(w(b.currentUser,{displayName:i})),o!==e.email&&b.currentUser&&o&&P.push(E(b.currentUser,o)),await Promise.all(P),n({title:"Success",description:"Your account details have been updated"})}catch(w){console.error("Error updating profile:",w),n({variant:"destructive",title:"Error",description:Mp(w)})}finally{u(!1)}}},y=async()=>{if(!(!e||e.isAnonymous||!e.email)){h(!0);try{const{sendPasswordResetEmail:w}=await Lu(async()=>{const{sendPasswordResetEmail:b}=await Promise.resolve().then(()=>TE);return{sendPasswordResetEmail:b}},void 0),E=(await Lu(async()=>{const{auth:b}=await Promise.resolve().then(()=>C1);return{auth:b}},void 0)).auth;await w(E,e.email),n({title:"Password Reset Email Sent",description:"Check your email for a link to reset your password"})}catch(w){console.error("Error sending password reset email:",w),n({variant:"destructive",title:"Error",description:Mp(w)})}finally{h(!1)}}},I=()=>{t("/")},v=async()=>{try{await r(),t("/auth")}catch(w){console.error("Error signing out:",w),n({variant:"destructive",title:"Error",description:Mp(w)})}};return e?f.jsx("div",{className:"min-h-screen bg-background pb-24",children:f.jsxs("div",{className:"max-w-2xl mx-auto p-4 pt-20",children:[f.jsxs(ye,{variant:"ghost",onClick:I,className:"mb-6",children:[f.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Back"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-muted-foreground mb-2",children:"Account"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your account details"})]}),f.jsxs(ka,{className:"mb-6",children:[f.jsxs(dh,{children:[f.jsx(fh,{children:"Profile Information"}),f.jsx(hh,{children:"Update your personal details"})]}),f.jsxs(o0,{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(dd,{htmlFor:"displayName",children:"Display Name"}),f.jsx(Oi,{id:"displayName",type:"text",placeholder:"Enter your name",value:i,onChange:w=>s(w.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(dd,{htmlFor:"email",children:"Email Address"}),f.jsx(Oi,{id:"email",type:"email",placeholder:"your.email@example.com",value:o,onChange:w=>a(w.target.value)}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Changing your email may require re-verification"}),!e.isAnonymous&&e.email&&f.jsx(ye,{onClick:y,disabled:d,variant:"outline",size:"sm",className:"w-full mt-2",children:d?f.jsxs(f.Fragment,{children:[f.jsx(sa,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Reset Password"})]}),!e.isAnonymous&&((x=e.metadata)==null?void 0:x.creationTime)&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(dd,{children:"Our Anniversary"}),f.jsx("div",{className:"text-sm text-muted-foreground px-3 py-2 bg-muted rounded-md",children:new Date(e.metadata.creationTime).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})})]}),f.jsx(ye,{onClick:m,disabled:c||e.isAnonymous||i===e.displayName&&o===e.email,className:"w-full",children:c?f.jsxs(f.Fragment,{children:[f.jsx(sa,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]}),!e.isAnonymous&&f.jsx("div",{className:"mt-6",children:f.jsx(ye,{onClick:v,variant:"outline",className:"w-full border-primary/30 bg-primary/10 text-foreground hover:bg-primary/20 hover:border-primary/50",children:"Sign Out"})})]})}):f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-muted-foreground mb-4",children:"Please log in to view your account"}),f.jsx(ye,{onClick:()=>t("/auth"),children:"Log In"})]})})}function h8(){const t=_.useContext(HR);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function p8(){const{mode:t,toggleMode:e}=h8();return f.jsx("div",{className:"space-y-4",children:f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-medium mb-1",children:"Theme"}),f.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Switch between day and night mode"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:e,className:ve("flex-1 flex items-center justify-center gap-2 rounded-lg border-2 p-3 transition-all",t==="dark"?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"),children:[f.jsx(LO,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Night"}),t==="dark"&&f.jsx(Nw,{className:"w-4 h-4 text-primary ml-auto"})]}),f.jsxs("button",{onClick:e,className:ve("flex-1 flex items-center justify-center gap-2 rounded-lg border-2 p-3 transition-all",t==="light"?"border-primary bg-primary/5":"border-border bg-card hover:border-primary/50"),children:[f.jsx(UO,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm font-medium",children:"Day"}),t==="light"&&f.jsx(Nw,{className:"w-4 h-4 text-primary ml-auto"})]})]})]})})}function m8(){const[,t]=yt(),e=()=>{t("/")};return f.jsx("div",{className:"min-h-screen bg-background pb-24",children:f.jsxs("div",{className:"max-w-2xl mx-auto p-4 pt-20",children:[f.jsxs(ye,{variant:"ghost",onClick:e,className:"mb-6",children:[f.jsx(Nf,{className:"w-4 h-4 mr-2"}),"Back"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("h1",{className:"text-3xl font-bold text-muted-foreground mb-2",children:"Settings"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize your app preferences"})]}),f.jsxs(ka,{className:"mb-6",children:[f.jsxs(dh,{children:[f.jsx(fh,{children:"Appearance"}),f.jsx(hh,{children:"Customize your app's look and feel"})]}),f.jsx(o0,{children:f.jsx(p8,{})})]})]})})}function g8(){return f.jsx("div",{className:"min-h-screen bg-background pb-24",children:f.jsx("div",{className:"max-w-4xl mx-auto p-4 pt-20"})})}function bx(){const[,t]=yt(),[e,r]=_.useState(!1),[n,i]=_.useState(!1),[s,o]=_.useState(!1),[a,c]=_.useState(!1);_.useEffect(()=>{const d=setTimeout(()=>r(!0),500),h=setTimeout(()=>i(!0),2e3),m=setTimeout(()=>o(!0),3500),y=setTimeout(()=>c(!0),5e3);return()=>{clearTimeout(d),clearTimeout(h),clearTimeout(m),clearTimeout(y)}},[]);const u=()=>{t("/skip-auth")};return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4 swipe-up",children:f.jsxs("div",{className:"max-w-2xl mx-auto text-center space-y-8",children:[f.jsxs("div",{className:"space-y-6",children:[f.jsx("h1",{className:`text-4xl font-bold transition-opacity duration-1000 ${e?"opacity-100":"opacity-0"}`,children:"Here's a look at our features"}),f.jsx("p",{className:`text-xl text-muted-foreground transition-opacity duration-1000 ${n?"opacity-100":"opacity-0"}`,children:"To help you decide if you want to stay"}),f.jsx("p",{className:`text-lg text-muted-foreground max-w-xl mx-auto transition-opacity duration-1000 ${s?"opacity-100":"opacity-0"}`,children:"Experience daily meditations, track your mood, and grow in faith and mindfulness"})]}),f.jsx("div",{className:`transition-opacity duration-1000 ${a?"opacity-100":"opacity-0"}`,children:f.jsx(ye,{onClick:u,size:"lg",className:"px-8",children:"Continue to Preview"})})]})})}var KP="AlertDialog",[y8,tB]=qs(KP,[aP]),Kn=aP(),GP=t=>{const{__scopeAlertDialog:e,...r}=t,n=Kn(e);return f.jsx(bP,{...n,...r,modal:!0})};GP.displayName=KP;var v8="AlertDialogTrigger",QP=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Kn(r);return f.jsx(bz,{...i,...n,ref:e})});QP.displayName=v8;var _8="AlertDialogPortal",YP=t=>{const{__scopeAlertDialog:e,...r}=t,n=Kn(e);return f.jsx(TP,{...n,...r})};YP.displayName=_8;var w8="AlertDialogOverlay",XP=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Kn(r);return f.jsx(e0,{...i,...n,ref:e})});XP.displayName=w8;var Vo="AlertDialogContent",[E8,x8]=y8(Vo),b8=EA("AlertDialogContent"),JP=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Kn(r),o=_.useRef(null),a=He(e,o),c=_.useRef(null);return f.jsx(_z,{contentName:Vo,titleName:ZP,docsSlug:"alert-dialog",children:f.jsx(E8,{scope:r,cancelRef:c,children:f.jsxs(t0,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:we(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[f.jsx(b8,{children:n}),f.jsx(A8,{contentRef:o})]})})})});JP.displayName=Vo;var ZP="AlertDialogTitle",ek=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Kn(r);return f.jsx(r0,{...i,...n,ref:e})});ek.displayName=ZP;var tk="AlertDialogDescription",rk=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Kn(r);return f.jsx(n0,{...i,...n,ref:e})});rk.displayName=tk;var T8="AlertDialogAction",nk=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Kn(r);return f.jsx(i0,{...i,...n,ref:e})});nk.displayName=T8;var ik="AlertDialogCancel",sk=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=x8(ik,r),s=Kn(r),o=He(e,i);return f.jsx(i0,{...s,...n,ref:o})});sk.displayName=ik;var A8=({contentRef:t})=>{const e=`\`${Vo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vo}\` by passing a \`${tk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},S8=GP,I8=QP,C8=YP,ok=XP,ak=JP,lk=nk,ck=sk,uk=ek,dk=rk;const R8=S8,P8=I8,k8=C8,fk=_.forwardRef(({className:t,...e},r)=>f.jsx(ok,{className:ve("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));fk.displayName=ok.displayName;const hk=_.forwardRef(({className:t,...e},r)=>f.jsxs(k8,{children:[f.jsx(fk,{}),f.jsx(ak,{ref:r,className:ve("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));hk.displayName=ak.displayName;const pk=({className:t,...e})=>f.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",t),...e});pk.displayName="AlertDialogHeader";const mk=({className:t,...e})=>f.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});mk.displayName="AlertDialogFooter";const gk=_.forwardRef(({className:t,...e},r)=>f.jsx(uk,{ref:r,className:ve("text-lg font-semibold",t),...e}));gk.displayName=uk.displayName;const yk=_.forwardRef(({className:t,...e},r)=>f.jsx(dk,{ref:r,className:ve("text-sm text-muted-foreground",t),...e}));yk.displayName=dk.displayName;const vk=_.forwardRef(({className:t,...e},r)=>f.jsx(lk,{ref:r,className:ve(Qv(),t),...e}));vk.displayName=lk.displayName;const _k=_.forwardRef(({className:t,...e},r)=>f.jsx(ck,{ref:r,className:ve(Qv({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));_k.displayName=ck.displayName;const N8={1:"Terrible",2:"Bad",3:"Okay",4:"Good",5:"Great"},D8={1:"",2:"",3:"",4:"",5:""},M8={1:"bg-mood-terrible/15",2:"bg-mood-bad/15",3:"bg-mood-okay/15",4:"bg-mood-good/15",5:"bg-mood-great/15"},O8={1:"text-mood-terrible",2:"text-mood-bad",3:"text-mood-okay",4:"text-mood-good",5:"text-mood-great"},L8=["","","","","","","","","","","","","","","","","","","","","","","",""];function V8(){const[,t]=yt(),[,e]=ds("/entry/:id"),{entries:r,updateEntry:n,deleteEntry:i}=Gv(),{toast:s}=Ws(),[o,a]=_.useState(!1),[c,u]=_.useState(""),[d,h]=_.useState(!1),[m,y]=_.useState(!1),I=_.useRef(null),v=e==null?void 0:e.id,x=r.find(S=>S.id===v);if(_.useEffect(()=>{x&&u(x.reflection||"")},[x]),!x)return f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("p",{className:"text-muted-foreground",children:"Entry not found"}),f.jsx(ye,{variant:"outline",onClick:()=>t("/journal"),children:"Back to Journal"})]})});const w=x.date,E=w!=null&&w._seconds?new Date(w._seconds*1e3):new Date(w),b=!isNaN(E.getTime()),P=b?E.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Unknown date",L=b?E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"",M=async()=>{y(!0);try{await n.mutateAsync({id:x.id,updates:{reflection:c}}),a(!1)}catch{s({variant:"destructive",title:"Error",description:"Failed to save changes"})}finally{y(!1)}},T=async()=>{try{await i.mutateAsync(x.id),t("/journal")}catch{s({variant:"destructive",title:"Error",description:"Failed to delete entry"})}},A=S=>{const R=I.current;if(R){const N=R.selectionStart,D=R.selectionEnd,k=c.substring(0,N)+S+c.substring(D);u(k),requestAnimationFrame(()=>{R.selectionStart=R.selectionEnd=N+S.length,R.focus()})}else u(c+S);h(!1)};return f.jsx("div",{className:"min-h-screen bg-background pb-24 swipe-up",children:f.jsxs("div",{className:"max-w-lg mx-auto p-4 pt-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>t("/journal"),children:f.jsx(Nf,{className:"w-5 h-5"})}),f.jsxs("div",{className:"flex items-center gap-2",children:[!o&&f.jsx(ye,{variant:"ghost",size:"icon",onClick:()=>a(!0),children:f.jsx(VO,{className:"w-5 h-5"})}),f.jsxs(R8,{children:[f.jsx(P8,{asChild:!0,children:f.jsx(ye,{variant:"ghost",size:"icon",children:f.jsx($O,{className:"w-5 h-5 text-muted-foreground"})})}),f.jsxs(hk,{className:"rounded-3xl",children:[f.jsxs(pk,{children:[f.jsx(gk,{children:"Delete this entry?"}),f.jsx(yk,{children:"This action cannot be undone. This will permanently delete your journal entry."})]}),f.jsxs(mk,{children:[f.jsx(_k,{className:"rounded-full",children:"Cancel"}),f.jsx(vk,{onClick:T,className:"rounded-full",children:"Delete"})]})]})]})]})]}),f.jsxs("div",{className:`${M8[x.moodValue]} rounded-3xl p-8 mb-6 text-center`,children:[f.jsx("div",{className:"text-5xl mb-3",children:D8[x.moodValue]}),f.jsx("h2",{className:`text-2xl font-bold ${O8[x.moodValue]} mb-1`,children:N8[x.moodValue]}),f.jsxs("p",{className:"text-foreground font-medium",children:["Feeling ",x.emotion]})]}),f.jsxs("div",{className:"bg-card rounded-3xl border border-border p-5 mb-4",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:P}),f.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:L})]}),f.jsxs("div",{className:"bg-card rounded-3xl border border-border p-5 mb-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Reflection"}),o&&f.jsx("div",{className:"flex items-center gap-2",children:f.jsx(ye,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 relative",onClick:()=>h(!d),children:f.jsx(YA,{className:"w-4 h-4"})})})]}),o?f.jsxs("div",{className:"relative",children:[f.jsx("textarea",{ref:I,value:c,onChange:S=>u(S.target.value),className:"w-full min-h-[150px] bg-muted/50 rounded-2xl p-4 text-sm text-foreground resize-none border border-border/50 focus:border-primary/50 focus:outline-none transition-colors",placeholder:"Write your reflection..."}),d&&f.jsx("div",{className:"absolute bottom-full mb-2 left-0 right-0 bg-card border border-border rounded-2xl p-3 shadow-lg z-10",children:f.jsx("div",{className:"grid grid-cols-8 gap-2",children:L8.map(S=>f.jsx("button",{onClick:()=>A(S),className:"text-xl hover:bg-muted rounded-lg p-1.5 transition-colors text-center",children:S},S))})}),f.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[f.jsxs(ye,{onClick:M,disabled:m,size:"sm",className:"gap-2 rounded-full",children:[f.jsx(jO,{className:"w-4 h-4"}),m?"Saving...":"Save"]}),f.jsx(ye,{variant:"outline",size:"sm",className:"rounded-full",onClick:()=>{a(!1),u(x.reflection||""),h(!1)},children:"Cancel"})]})]}):f.jsx("p",{className:"text-sm text-foreground/80 whitespace-pre-wrap leading-relaxed",children:x.reflection||f.jsx("span",{className:"text-muted-foreground italic",children:"No reflection added yet. Tap the pencil icon to add one."})})]}),x.bibleVerseReference&&f.jsx("div",{className:"bg-card rounded-3xl border border-border p-5",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx(QA,{className:"w-5 h-5 text-primary mt-0.5 shrink-0"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-semibold text-primary mb-2",children:x.bibleVerseReference}),f.jsx("p",{className:"text-sm text-foreground/80 italic leading-relaxed",children:x.bibleVerseText})]})]})})]})})}function j8({onHomeClick:t}){const[e,r]=yt(),n=[{path:"/journal",icon:AO,label:"Journal",disabled:!1},{path:"/",icon:SO,label:"Today",disabled:!1},{path:"/library",icon:RO,label:"Explore",disabled:!1}],i=(s,o)=>{o||(s==="/"&&t?t():r(s))};return f.jsx("nav",{className:"fixed bottom-0 left-0 right-0 px-4 pb-6 pointer-events-none","data-testid":"nav-bottom",children:f.jsx("div",{className:"max-w-lg mx-auto pointer-events-auto",children:f.jsx("div",{className:"bg-card/95 backdrop-blur-lg border border-border/50 rounded-3xl shadow-2xl px-2 py-2",children:f.jsx("div",{className:"flex items-center justify-around",children:n.map(s=>{const o=e===s.path,a=s.icon,c=s.disabled;return f.jsxs("button",{onClick:()=>i(s.path,c),className:`flex flex-col items-center justify-center gap-0.5 py-1.5 px-6 rounded-2xl transition-all ${c?"opacity-40 cursor-not-allowed":o?"bg-primary/10":"hover:bg-muted/50 active:scale-95"}`,"data-testid":`button-nav-${s.label.toLowerCase()}`,disabled:c,children:[f.jsx("div",{className:"relative",children:f.jsx(a,{className:`w-5 h-5 transition-colors ${o?"text-primary":"text-muted-foreground"}`,strokeWidth:o?2.5:2})}),f.jsx("span",{className:`text-xs font-medium transition-colors ${o?"text-primary":"text-muted-foreground"}`,children:s.label})]},s.path)})})})})})}function F8(){const{user:t}=ar(),{data:e,isLoading:r}=If({queryKey:["user-streak",t==null?void 0:t.uid],queryFn:async()=>{if(!(t!=null&&t.uid))return null;let n=await qR(t.uid);return(!n||!n.lastCheckInDate&&n.currentStreak===0)&&(n=await g$(t.uid)),n},enabled:!!t&&!t.isAnonymous,retry:!1,refetchOnWindowFocus:!0,refetchOnMount:!0,staleTime:0});return{streak:e,isLoading:r}}function U8(){const{user:t,signOut:e}=ar(),{streak:r}=F8(),[n,i]=yt(),[s,o]=_.useState(!1),a=n==="/journal",[c,u]=_.useState(!1);_.useEffect(()=>{const I=()=>{u(!0),setTimeout(()=>u(!1),3e3)};return window.addEventListener("streak-celebrate",I),()=>window.removeEventListener("streak-celebrate",I)},[]);const d=a||c,h=async()=>{t!=null&&t.isAnonymous&&await e(),i("/welcome")},m=()=>{i("/account")},y=()=>{i("/settings")};return t!=null&&t.isAnonymous?f.jsx("header",{className:"flex items-center justify-end p-4",children:f.jsxs(ye,{onClick:h,variant:"outline",size:"sm",className:"gap-2",children:[f.jsx(MO,{className:"w-4 h-4"}),"Exit Preview"]})}):f.jsxs(f.Fragment,{children:[f.jsxs("header",{className:"flex items-center justify-between p-4 relative",children:[f.jsx(ye,{size:"icon",variant:"ghost",onClick:y,children:f.jsx(FO,{className:"w-6 h-6"})}),f.jsxs("button",{onClick:()=>o(!0),className:`relative flex items-center gap-1.5 bg-primary/15 border border-primary/30 rounded-full hover:bg-primary/20 transition-all duration-500 active:scale-95 ${d?"px-6 py-4 gap-2":"px-3 py-1.5"}`,children:[f.jsx(Dw,{className:`text-primary transition-all duration-500 ${d?"w-8 h-8":"w-4 h-4"}`}),f.jsx("span",{className:`font-semibold text-primary transition-all duration-500 ${d?"text-2xl":"text-sm"}`,children:(r==null?void 0:r.currentStreak)||0})]}),f.jsx(ye,{size:"icon",variant:"ghost",onClick:m,children:f.jsx(zO,{className:"w-6 h-6"})})]}),f.jsx(cf,{open:s,onOpenChange:o,children:f.jsx(hc,{className:"bg-card border-border rounded-3xl p-8 max-w-md",children:f.jsxs(pc,{className:"space-y-4",children:[f.jsxs(mc,{className:"text-foreground flex items-center justify-center gap-2 text-xl",children:[f.jsx(Dw,{className:"w-6 h-6 text-primary"}),"Your Daily Flame"]}),f.jsxs(gc,{className:"text-foreground/80 text-base leading-relaxed space-y-4",children:[f.jsx("p",{children:"The flame represents your commitment to daily practice. Each day you complete a meditation session, your flame grows stronger."}),f.jsx("p",{children:"Keep your daily practice alive, and your flame will continue to burn bright. Miss a day, and the flame will reset."}),f.jsxs("p",{className:"text-center pt-2",children:["Current streak: ",f.jsxs("span",{className:"font-semibold text-primary text-lg",children:[(r==null?void 0:r.currentStreak)||0," ",(r==null?void 0:r.currentStreak)===1?"day":"days"]})]})]})]})})})]})}function $8(){const{user:t,loading:e}=ar(),{isLoading:r}=l$(),[n]=ds("/welcome"),[i]=ds("/signup"),[s]=ds("/signin"),[o]=ds("/skip-auth"),[a]=ds("/preview"),[c]=yt();return e||r?f.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold mb-2",children:"Calmandments"}),f.jsx("div",{className:"text-muted-foreground",children:"Loading..."})]})}):t?n?f.jsx(_x,{}):i?f.jsx(wx,{}):s?f.jsx(vx,{}):o?f.jsx(Ex,{}):a?f.jsx(bx,{}):f.jsxs(f.Fragment,{children:[f.jsx(U8,{}),f.jsx("div",{className:"page-fade-in",children:f.jsxs(GD,{children:[f.jsx(gn,{path:"/",component:e8}),f.jsx(gn,{path:"/journal",component:Iz}),f.jsx(gn,{path:"/library/:emotion",component:s8}),f.jsx(gn,{path:"/library",component:t8}),f.jsx(gn,{path:"/player",component:a8}),f.jsx(gn,{path:"/settings",component:m8}),f.jsx(gn,{path:"/account",component:f8}),f.jsx(gn,{path:"/support",component:g8}),f.jsx(gn,{path:"/entry/:id",component:V8})]})},c),f.jsx(j8,{})]}):i?f.jsx(wx,{}):s?f.jsx(vx,{}):o?f.jsx(Ex,{}):a?f.jsx(bx,{}):f.jsx(_x,{})}function z8(){return f.jsx(pM,{client:lr,children:f.jsx(a$,{children:f.jsx(o$,{children:f.jsxs(J3,{children:[f.jsx(AL,{}),f.jsx($8,{})]})})})})}GT(document.getElementById("root")).render(f.jsx(z8,{}));
